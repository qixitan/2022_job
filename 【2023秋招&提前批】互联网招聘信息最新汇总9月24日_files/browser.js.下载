/*! @browser-tdoc 1.3.0 */
var log=function(){var t,e,r;!function(t){t.INSERT_LOG="insert_log",t.GET_CONFIG="get_config"}(t||(t={})),function(t){t[t.DEBUG=1]="DEBUG",t[t.LOG=1]="LOG",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.FATAL=5]="FATAL"}(e||(e={})),function(t){t[t.BeforeInvokeLog=0]="BeforeInvokeLog"}(r||(r={}));var n="https://weblog.cdn-go.cn/sdk/latest/",o="wl",i=function(){function r(){this.name="level-setting"}return r.prototype.setupOnce=function(r,n){var o=this;this.client=r;var i=this.getPersistedLevel();r.setLevel(i),r.on(t.GET_CONFIG,function(t){var n,i=null===(n=null==t?void 0:t.config)||void 0===n?void 0:n.level;i?(o.persistLevel(i),r.setLevel(i)):(o.clearPersistedLevel(),r.setLevel(e.INFO))})},r.prototype.clearPersistedLevel=function(){try{window.localStorage.removeItem(this.getStorageKey())}catch(t){}},r.prototype.persistLevel=function(t){try{window.localStorage[this.getStorageKey()]=t}catch(t){}},r.prototype.getPersistedLevel=function(){try{return Number(window.localStorage[this.getStorageKey()])||e.INFO}catch(t){return e.INFO}},r.prototype.getStorageKey=function(){return o+"-level-"+this.client.getContext().pid},r}(),a=function(){function e(){this.name="remote-plugin"}return e.prototype.setupOnce=function(e,r){location.search.match("[?&]wl=")&&e.loadAsset("URL_OPTIONS"),e.on(t.GET_CONFIG,function(t){try{var r=t.config.options,n=r&&JSON.parse(r)||{};"on"===n.WL_TOOL_ON_OFF&&e.loadAsset("CONFIG_OPTIONS",n)}catch(t){console.warn(t)}})},e}(),s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var c=function(){return(c=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function u(t,e,r,n){return new(r||(r=Promise))(function(o,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function s(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){t.done?o(t.value):new r(function(e){e(t.value)}).then(a,s)}c((n=n.apply(t,e||[])).next())})}function l(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function f(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}}function p(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a}function h(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function v(t){return function(t,e){return Object.prototype.toString.call(e)==="[object "+t+"]"}("Object",t)}function y(t){var e=new Set;try{return JSON.stringify(t,function(t,r){if(v(r)||Array.isArray(r)){if(e.has(r))return'["Circular"]';e.add(r)}return r})}catch(e){return console.error(e),v(t)?'{Object:["Circular"]}':Array.isArray(t)?'["Circular"]':"Circular"}}var d=4,g=200;var b=function(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(r+"="+encodeURIComponent(t[r]));return e.join("&")};function w(t,e,r){if(void 0===r&&(r="GET"),t.setRequestHeader)for(var n in"GET"!==r&&"POST"!==r||t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e=e||{})e.hasOwnProperty(n)&&t.setRequestHeader(n,e[n])}var j=function(t,e){void 0===e&&(e={withCredentials:!1}),t.withCredentials=!!e.withCredentials};function O(t){return new Promise(function(e,r){var n=b(t.param||{}),o=t.url;o+=(o.indexOf("?")>=0?"&":"?")+n;var i=_(t,{success:function(t){e(t)},error:function(t){r(t)}});i&&(i.open("GET",o,!0),j(i,t.xhrFields),w(i,t.headers||{},"GET"),i.send())})}function m(t){return new Promise(function(e,r){var n=t.url,o="",i=_(t,{success:function(t){e(t)},error:function(t){r(t)}});i&&(i.open("POST",n,!0),"json"===t.contentType?(o=JSON.stringify(t.param),i.setRequestHeader("Content-Type","application/json")):(o=b(t.param||{}),j(i,t.xhrFields),w(i,t.headers||{},"POST")),i.send(o))})}function _(t,e){var r=new XMLHttpRequest;if(!r)throw new Error("XMLHttp is not defined");var n=t.timeout,o=t.dataType,i=void 0===o?"json":o;try{n&&(r.timeout=n)}catch(t){console.log(t)}return r.onreadystatechange=function(){var t,n;if(r.readyState===d)if(r.status===g){var o=r.responseText;"json"===i&&(o=JSON.parse(r.responseText)),null===(t=null==e?void 0:e.success)||void 0===t||t.call(e,o)}else null===(n=null==e?void 0:e.error)||void 0===n||n.call(e,{errCode:r.status})},r.onerror=function(){var t;null===(t=null==e?void 0:e.error)||void 0===t||t.call(e,{errCode:-1})},r.ontimeout=function(){var t;null===(t=null==e?void 0:e.error)||void 0===t||t.call(e,{errCode:-2})},r}var x,k=n+"browser-remote-plugins/browser-remote-plugins.js",A=function(t){return u(void 0,void 0,void 0,function(){var e;return l(this,function(r){switch(r.label){case 0:return x?[2,x]:[4,S(k,"window.WebLog.BrowserRemotePlugins")];case 1:return e=r.sent(),[2,x=x||e&&new e(t)]}})})};function S(t,e){return new Promise(function(r){var n=document.createElement("script");n.async=!0,n.src=t,n.setAttribute("retry-when-error","true"),n.onload=function(){var t=e.split(".").reduce(function(t,e){return t[e]},window);r(t)},(document.head||document.body).appendChild(n)})}var R,E=function(){function t(){this.name="loader"}return t.prototype.beforeInvokeLog=function(t){var e=t.msgArray,r=t.type.split("_");if("loader"===r[0]){var n=e.pop();return{msgArray:e,ts:n,type:r[1]||""}}return t},t}();!function(t){t.HttpRequestLogType="x"}(R||(R={}));var P,L=["log","info","warn","error","log"];!function(t){t.HIDE="hide",t.SHOW="show"}(P||(P={}));var I,T="dev-console",C=function(){function e(){var t=this;this.name=T,this.persistConsoleDevStatus=function(e){try{window.localStorage[t.getStorageKey()]=e}catch(t){console.error(t)}},this.logHandler=function(t){var e,r,n=t.level,o=t.type,i=t.msg;if(o!==R.HttpRequestLogType){var a=[],s=L[n-1];a.push("["+s+"]"),o&&a.push("["+o+"]"),i&&a.push.apply(a,h(JSON.parse(i)));try{(e=console)[s].apply(e,h(a))}catch(t){(r=console).log.apply(r,h(a))}}},this.getPersistedConsoleDevStatus=function(){try{return window.localStorage[t.getStorageKey()]||P.HIDE}catch(t){return P.HIDE}},this.getStorageKey=function(){return o+"-dev-console-"+t.client.getContext().pid}}return e.prototype.setupOnce=function(e,r){this.client=e,this.getPersistedConsoleDevStatus()!==P.HIDE&&function(e,r){u(this,void 0,void 0,function(){var n,o;return l(this,function(i){switch(i.label){case 0:return n=[],o=e.on(t.INSERT_LOG,function(t){n.push(t)}),[4,e.query()];case 1:return i.sent().concat(n).forEach(r),o(),n=[],[2,e.on(t.INSERT_LOG,r)]}})})}(e,this.logHandler)},e}();!function(t){t[t.Request=0]="Request",t[t.ReplyOK=1]="ReplyOK",t[t.ReplyErr=2]="ReplyErr"}(I||(I={}));var M,N,F,q=function(){function t(){}return t.isRpcMessage=function(e){return e.key===t.rpcKey},t.getMessageType=function(t){return t.type},t.getReq=function(t){return t.req},t.serializeRequest=function(e,r,n,o){return{key:t.rpcKey,type:I.Request,req:e,rpcId:r,method:n,args:o}},t.deserializeRequest=function(t){return{rpcId:t.rpcId,method:t.method,args:t.args}},t.serializeReplyOK=function(e,r){return{key:t.rpcKey,type:I.ReplyOK,req:e,result:r}},t.deserializeReplyOK=function(t){return t.result},t.serializeReplyErr=function(e,r){return{key:t.rpcKey,type:I.ReplyErr,req:e,err:r}},t.deserializeReplyErr=function(t){return t.err},t.rpcKey="weblog-rpc",t}(),z=function(){function t(e,r,n){this.isMain=e,this.sid=r,this.methodNames=n,this.nid=++t.count}return t.identifiers={},t.count=0,t}(),D={MainThreadBackendLogger:G("MainThreadBackendLogger",["fatal"])},B={ExtHostBackend:(M="ExtHostBackend",N=["init","identify","insertLog","queryLog","reportLog","getSessionId"],F=new z(!1,M,N),z.identifiers[F.nid]=F,F)};function G(t,e){var r=new z(!0,t,e);return z.identifiers[r.nid]=r,r}function H(t){return z.identifiers[t].sid}var U=function(){function t(){this.actual=null,this.actualOk=null,this.actualErr=null,this.hasValue=!1,this.value=null,this.hasErr=!1,this.err=null}return Object.defineProperty(t.prototype,Symbol.toStringTag,{get:function(){return this.toString()},enumerable:!1,configurable:!0}),t.prototype.resolveOk=function(t){this.hasValue||this.hasErr||(this.hasValue=!0,this.value=t,this.actual&&this.actualOk(t))},t.prototype.resolveErr=function(t){this.hasValue||this.hasErr||(this.hasErr=!0,this.err=t,this.actual&&this.actualErr(t))},t.prototype.then=function(t,e){return this.ensureActual().then(t,e)},t.prototype.catch=function(t){return this.ensureActual().then(void 0,t)},t.prototype.finally=function(t){return this.ensureActual().finally(t)},t.prototype.ensureActual=function(){var t=this;return this.actual||(this.actual=new Promise(function(e,r){t.actualOk=e,t.actualErr=r,t.hasValue&&t.actualOk(t.value),t.hasErr&&t.actualErr(t.err)})),this.actual},t}(),K=function(){function t(t){var e=this;this.pendingRPCReplies={},this.locals=[],this.proxies={},this.lastMessageId=0,this.protocol=t,this.protocol.onMessage(function(t){return e.receiveOneMessage(t)})}return t.prototype.getProxy=function(t){var e=t.methodNames,r=t.nid;return this.proxies[r]||(this.proxies[r]=this.createProxy(r,e)),this.proxies[r]},t.prototype.set=function(t,e){return this.locals[t.nid]=e,e},t.prototype.createProxy=function(t,e){var r=this,n=Object.create(null);return e.forEach(function(e){n[e]=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return r.remoteCall(t,e,n)}}),n},t.prototype.remoteCall=function(t,e,r){var n=++this.lastMessageId,o=String(n),i=new U,a=q.serializeRequest(n,t,e,r);return this.pendingRPCReplies[o]=i,this.protocol.send(a),i},t.prototype.receiveOneMessage=function(t){if(q.isRpcMessage(t)){var e=q.getMessageType(t),r=q.getReq(t);switch(e){case I.Request:var n=q.deserializeRequest(t),o=n.rpcId,i=n.method,a=n.args;this.receiveRequest(r,o,i,a);break;case I.ReplyOK:var s=q.deserializeReplyOK(t);this.receiveReply(r,s,!0);break;case I.ReplyErr:var c=q.deserializeReplyErr(t);this.receiveReply(r,c,!1);break;default:console.error("received unexpected message")}}},t.prototype.receiveRequest=function(t,e,r,n){var o=this;this.invokeHandler(e,r,n).then(function(e){var r=q.serializeReplyOK(t,e);o.protocol.send(r)},function(e){var r=q.serializeReplyErr(t,e);o.protocol.send(r)})},t.prototype.receiveReply=function(t,e,r){var n=String(t);if(Object.prototype.hasOwnProperty.call(this.pendingRPCReplies,n)){var o=this.pendingRPCReplies[n];delete this.pendingRPCReplies[n],o[r?"resolveOk":"resolveErr"](e)}},t.prototype.invokeHandler=function(t,e,r){try{return Promise.resolve(this.doInvokeHandler(t,e,r))}catch(t){return Promise.reject(t)}},t.prototype.doInvokeHandler=function(t,e,r){var n=this.locals[t];if(!n)throw new Error("Unknown actor "+H(t));var o=n[e];if("function"!=typeof o)throw new Error("Unknown method "+e+" on actor "+H(t));return o.apply(n,r)},t}(),W=[],V=[];function $(t,e,r){return(e.integration||[]).forEach(function(n){var o;-1===V.indexOf(n.name)&&!1!==(null===(o=n.canSetup)||void 0===o?void 0:o.call(n,r))&&(t[n.name]=n,function(t,e,r){var n;null===(n=t.setupOnce)||void 0===n||n.call(t,e,r),W.push(t),V.push(t.name)}(n,r,e))}),t}var J=function(){return function(t){this.isInited=!1,this.count=0,this.lastLogTs=0,this.level=e.INFO,this.options=t}}();function X(t){return"wl-"+t}var Q=function(){function t(){this.events=Object.create(null)}return t.prototype.on=function(t,e){var r,n=this;return this.events[t]=null!==(r=this.events[t])&&void 0!==r?r:new Set,this.events[t].add(e),function(){n.events[t].delete(e)}},t.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=this.events[t];n&&Array.from(n).forEach(function(t){t.apply(void 0,h(e))})},t}();var Y=function(){function t(t){this.protocol=t,this.eventEmitter=new Q,this.onMessage=this.eventEmitter.on.bind(this.eventEmitter,"message"),this.messages=[]}return t.prototype.send=function(t){if(this.protocol)return this.protocol.send(t);this.messages.push(t)},t.prototype.setProtocol=function(t){var e,r,n=this;this.protocol=t,t.onMessage(function(t){n.eventEmitter.emit.bind(n.eventEmitter,"message")(t)});try{for(var o=f(this.messages),i=o.next();!i.done;i=o.next()){var a=i.value;this.send(a)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}this.messages=[]},t}(),Z="1.3.0",tt=function(){function r(t){this.version=Z,this.integrations={},this.namespace="",this.loggers=new Map,this.event=new Q,this.context=new J({maxCount:1e4,maxLength:2048,keepDays:10}),this.context.options=this.mergeOptions(t),this.protocol=new Y,this.rpcProtocol=new K(this.protocol),this.sdkLogger=this.getLogger("wl-sdk"),this.rpcProtocol.set(D.MainThreadBackendLogger,this.sdkLogger),this.backend=this.rpcProtocol.getProxy(B.ExtHostBackend)}return r.prototype.setDefaultOptions=function(t){void 0===t&&(t={}),this.context.options=this.mergeOptions(t)},r.prototype.init=function(t,e){if(void 0===e&&(e={}),!this.context.isInited){this.context.isInited=!0,this.context.pid=t,this.context.options=this.mergeOptions(e),$(this.integrations,this.context.options,this);var r=this.context.options,n=r.release,o=r.relatedPids,i=r.env,a=r.keepDays,s=r.dbName,c=r.batchLogTime;this.sdkLogger.info({init:{pid:t,release:n,env:i,v:this.version}}),this.backend.init(t,{release:n,env:i,relatedPids:o,keepDays:a,dbName:s||X(t),batchLogTime:c})}},r.prototype.identify=function(e,r){return u(this,void 0,void 0,function(){var n;return l(this,function(o){switch(o.label){case 0:return this.sdkLogger.info({identify:{uid:e,info:r}}),this.context.uid=e,[4,this.backend.identify(e,r)];case 1:return n=o.sent(),this.context.config=n,this.sdkLogger.info({config:n}),this.event.emit(t.GET_CONFIG,{config:n}),[2,n]}})})},r.prototype.report=function(t,e,r){return void 0===e&&(e={}),void 0===r&&(r={}),this.backend.reportLog(t,e,r)},r.prototype.fatal=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.invoke(e.FATAL,t)},r.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.invoke(e.DEBUG,t)},r.prototype.log=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.invoke(e.DEBUG,t)},r.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.invoke(e.INFO,t)},r.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.invoke(e.WARN,t)},r.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return this.invoke(e.ERROR,t)},r.prototype.getLogger=function(t){var e=this.loggers.get(t);if(e)return e;var r=Object.create(this,{namespace:{value:t}});return this.loggers.set(t,r),r},r.prototype.on=function(t,e){return this.event.on(t,e)},r.prototype.query=function(t){return this.backend.queryLog(t)},r.prototype.setProtocol=function(t){this.protocol.setProtocol(t)},r.prototype.setLevel=function(t){this.context.level=t},r.prototype.getOptions=function(){return this.context.options},r.prototype.getContext=function(){return this.context},r.prototype.getSessionId=function(){return this.backend.getSessionId()},r.prototype.mergeOptions=function(t){var e;void 0===t&&(t={});var r=((null===(e=this.context.options)||void 0===e?void 0:e.integration)||[]).concat(t.integration||[]);return c(c(c({},this.context.options),t),{integration:r})},r.prototype.invoke=function(e,r){var n=this.context,o=n.count,i=n.lastLogTs,a=n.options,s=a.maxCount,c=a.maxLength;if(this.context.count=o+1,!(e<this.context.level||o>s)){var u,l=Date.now(),f=(u={msgArray:r,ts:l,type:this.namespace},W.reduce(function(t,e){return e.beforeInvokeLog?e.beforeInvokeLog(t):t},u)),p=f.msgArray;p=function(t,e){var r=t,n=y(t);return n.length>e&&(r=[n.slice(0,e)+".."]),r}(p=function(t,e,r){var n=t;return e===r&&(n=["[wl]单次访问达到日志上限:"+r+"条]"],console.warn(n)),n}(p,o,s),c),this.context.lastLogTs=Math.max(f.ts,i+1);var h={level:e,msg:y(p),type:f.type,ts:this.context.lastLogTs};this.event.emit(t.INSERT_LOG,h),this.backend.insertLog(h)}},r}();function et(t){var e=t.backendWorkerUrl;return u(this,void 0,void 0,function(){return l(this,function(t){switch(t.label){case 0:return e?[4,rt(e)]:[3,2];case 1:return[2,t.sent()];case 2:return[4,S(n+"browser/browser-backend-web.js","window.WebLog.mainProtocol")];case 3:return[2,t.sent()]}})})}function rt(t){var e,r=new Worker(t),n={on:(e=new Q).on.bind(e,"message"),fire:e.emit.bind(e,"message")};return r.onmessage=function(t){var e=t.data;n.fire(e)},r.onerror=function(t){!function(t,e){console.error(t,e)}("worker error",t)},{onMessage:n.on,send:function(t){r.postMessage(t)}}}var nt={BrowserMainThreadNetwork:G("BrowserMainThreadNetwork",["get","post"])},ot=function(){return function(){this.get=O,this.post=m}}(),it=new(function(t){function e(e){var r=t.call(this,e)||this;return r.setClientNetwork(),r}return function(t,e){function r(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype.init=function(e,r){return void 0===r&&(r={}),u(this,void 0,void 0,function(){var n;return l(this,function(o){switch(o.label){case 0:return this.getContext().isInited?[2,this]:(t.prototype.init.call(this,e,r),[4,et(this.getOptions())]);case 1:return n=o.sent(),this.setProtocol(n),[2,this]}})})},e.prototype.loadAsset=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return u(this,void 0,void 0,function(){var e;return l(this,function(r){switch(r.label){case 0:return[4,A(this)];case 1:return null==(e=r.sent())||e.call.apply(e,h(t)),[2]}})})},e.prototype.showConsole=function(){this.integrations[T].persistConsoleDevStatus(P.SHOW)},e.prototype.hideConsole=function(){this.integrations[T].persistConsoleDevStatus(P.HIDE)},e.prototype.setClientNetwork=function(){this.rpcProtocol.set(nt.BrowserMainThreadNetwork,new ot)},e}(tt))({integration:[new i,new a,new E,new C]}),at="doc.weixin.qq.com"===location.host;var st=function(){this.__data__=[],this.size=0};var ct=function(t,e){return t===e||t!=t&&e!=e};var ut=function(t,e){for(var r=t.length;r--;)if(ct(t[r][0],e))return r;return-1},lt=Array.prototype.splice;var ft=function(t){var e=this.__data__,r=ut(e,t);return!(r<0||(r==e.length-1?e.pop():lt.call(e,r,1),--this.size,0))};var pt=function(t){var e=this.__data__,r=ut(e,t);return r<0?void 0:e[r][1]};var ht=function(t){return ut(this.__data__,t)>-1};var vt=function(t,e){var r=this.__data__,n=ut(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};function yt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}yt.prototype.clear=st,yt.prototype.delete=ft,yt.prototype.get=pt,yt.prototype.has=ht,yt.prototype.set=vt;var dt=yt;var gt=function(){this.__data__=new dt,this.size=0};var bt=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r};var wt=function(t){return this.__data__.get(t)};var jt=function(t){return this.__data__.has(t)},Ot="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function mt(t,e){return t(e={exports:{}},e.exports),e.exports}var _t="object"==typeof Ot&&Ot&&Ot.Object===Object&&Ot,xt="object"==typeof self&&self&&self.Object===Object&&self,kt=_t||xt||Function("return this")(),At=kt.Symbol,St=Object.prototype,Rt=St.hasOwnProperty,Et=St.toString,Pt=At?At.toStringTag:void 0;var Lt=function(t){var e=Rt.call(t,Pt),r=t[Pt];try{t[Pt]=void 0;var n=!0}catch(t){}var o=Et.call(t);return n&&(e?t[Pt]=r:delete t[Pt]),o},It=Object.prototype.toString;var Tt=function(t){return It.call(t)},Ct="[object Null]",Mt="[object Undefined]",Nt=At?At.toStringTag:void 0;var Ft=function(t){return null==t?void 0===t?Mt:Ct:Nt&&Nt in Object(t)?Lt(t):Tt(t)};var qt=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},zt="[object AsyncFunction]",Dt="[object Function]",Bt="[object GeneratorFunction]",Gt="[object Proxy]";var Ht,Ut=function(t){if(!qt(t))return!1;var e=Ft(t);return e==Dt||e==Bt||e==zt||e==Gt},Kt=kt["__core-js_shared__"],Wt=(Ht=/[^.]+$/.exec(Kt&&Kt.keys&&Kt.keys.IE_PROTO||""))?"Symbol(src)_1."+Ht:"";var Vt=function(t){return!!Wt&&Wt in t},$t=Function.prototype.toString;var Jt=function(t){if(null!=t){try{return $t.call(t)}catch(t){}try{return t+""}catch(t){}}return""},Xt=/^\[object .+?Constructor\]$/,Qt=Function.prototype,Yt=Object.prototype,Zt=Qt.toString,te=Yt.hasOwnProperty,ee=RegExp("^"+Zt.call(te).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var re=function(t){return!(!qt(t)||Vt(t))&&(Ut(t)?ee:Xt).test(Jt(t))};var ne=function(t,e){return null==t?void 0:t[e]};var oe=function(t,e){var r=ne(t,e);return re(r)?r:void 0},ie=oe(kt,"Map"),ae=oe(Object,"create");var se=function(){this.__data__=ae?ae(null):{},this.size=0};var ce=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},ue="__lodash_hash_undefined__",le=Object.prototype.hasOwnProperty;var fe=function(t){var e=this.__data__;if(ae){var r=e[t];return r===ue?void 0:r}return le.call(e,t)?e[t]:void 0},pe=Object.prototype.hasOwnProperty;var he=function(t){var e=this.__data__;return ae?void 0!==e[t]:pe.call(e,t)},ve="__lodash_hash_undefined__";var ye=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=ae&&void 0===e?ve:e,this};function de(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}de.prototype.clear=se,de.prototype.delete=ce,de.prototype.get=fe,de.prototype.has=he,de.prototype.set=ye;var ge=de;var be=function(){this.size=0,this.__data__={hash:new ge,map:new(ie||dt),string:new ge}};var we=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var je=function(t,e){var r=t.__data__;return we(e)?r["string"==typeof e?"string":"hash"]:r.map};var Oe=function(t){var e=je(this,t).delete(t);return this.size-=e?1:0,e};var me=function(t){return je(this,t).get(t)};var _e=function(t){return je(this,t).has(t)};var xe=function(t,e){var r=je(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};function ke(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ke.prototype.clear=be,ke.prototype.delete=Oe,ke.prototype.get=me,ke.prototype.has=_e,ke.prototype.set=xe;var Ae=ke,Se=200;var Re=function(t,e){var r=this.__data__;if(r instanceof dt){var n=r.__data__;if(!ie||n.length<Se-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Ae(n)}return r.set(t,e),this.size=r.size,this};function Ee(t){var e=this.__data__=new dt(t);this.size=e.size}Ee.prototype.clear=gt,Ee.prototype.delete=bt,Ee.prototype.get=wt,Ee.prototype.has=jt,Ee.prototype.set=Re;var Pe=Ee;var Le=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t},Ie=function(){try{var t=oe(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();var Te=function(t,e,r){"__proto__"==e&&Ie?Ie(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r},Ce=Object.prototype.hasOwnProperty;var Me=function(t,e,r){var n=t[e];Ce.call(t,e)&&ct(n,r)&&(void 0!==r||e in t)||Te(t,e,r)};var Ne=function(t,e,r,n){var o=!r;r||(r={});for(var i=-1,a=e.length;++i<a;){var s=e[i],c=n?n(r[s],t[s],s,r,t):void 0;void 0===c&&(c=t[s]),o?Te(r,s,c):Me(r,s,c)}return r};var Fe=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n};var qe=function(t){return null!=t&&"object"==typeof t},ze="[object Arguments]";var De=function(t){return qe(t)&&Ft(t)==ze},Be=Object.prototype,Ge=Be.hasOwnProperty,He=Be.propertyIsEnumerable,Ue=De(function(){return arguments}())?De:function(t){return qe(t)&&Ge.call(t,"callee")&&!He.call(t,"callee")},Ke=Array.isArray;var We=function(){return!1},Ve=mt(function(t,e){var r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,o=n&&n.exports===r?kt.Buffer:void 0,i=(o?o.isBuffer:void 0)||We;t.exports=i}),$e=9007199254740991,Je=/^(?:0|[1-9]\d*)$/;var Xe=function(t,e){var r=typeof t;return!!(e=null==e?$e:e)&&("number"==r||"symbol"!=r&&Je.test(t))&&t>-1&&t%1==0&&t<e},Qe=9007199254740991;var Ye=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Qe},Ze={};Ze["[object Float32Array]"]=Ze["[object Float64Array]"]=Ze["[object Int8Array]"]=Ze["[object Int16Array]"]=Ze["[object Int32Array]"]=Ze["[object Uint8Array]"]=Ze["[object Uint8ClampedArray]"]=Ze["[object Uint16Array]"]=Ze["[object Uint32Array]"]=!0,Ze["[object Arguments]"]=Ze["[object Array]"]=Ze["[object ArrayBuffer]"]=Ze["[object Boolean]"]=Ze["[object DataView]"]=Ze["[object Date]"]=Ze["[object Error]"]=Ze["[object Function]"]=Ze["[object Map]"]=Ze["[object Number]"]=Ze["[object Object]"]=Ze["[object RegExp]"]=Ze["[object Set]"]=Ze["[object String]"]=Ze["[object WeakMap]"]=!1;var tr=function(t){return qe(t)&&Ye(t.length)&&!!Ze[Ft(t)]};var er=function(t){return function(e){return t(e)}},rr=mt(function(t,e){var r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,o=n&&n.exports===r&&_t.process,i=function(){try{var t=n&&n.require&&n.require("util").types;return t||o&&o.binding&&o.binding("util")}catch(t){}}();t.exports=i}),nr=rr&&rr.isTypedArray,or=nr?er(nr):tr,ir=Object.prototype.hasOwnProperty;var ar=function(t,e){var r=Ke(t),n=!r&&Ue(t),o=!r&&!n&&Ve(t),i=!r&&!n&&!o&&or(t),a=r||n||o||i,s=a?Fe(t.length,String):[],c=s.length;for(var u in t)!e&&!ir.call(t,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Xe(u,c))||s.push(u);return s},sr=Object.prototype;var cr=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||sr)};var ur=function(t,e){return function(r){return t(e(r))}},lr=ur(Object.keys,Object),fr=Object.prototype.hasOwnProperty;var pr=function(t){if(!cr(t))return lr(t);var e=[];for(var r in Object(t))fr.call(t,r)&&"constructor"!=r&&e.push(r);return e};var hr=function(t){return null!=t&&Ye(t.length)&&!Ut(t)};var vr=function(t){return hr(t)?ar(t):pr(t)};var yr=function(t,e){return t&&Ne(e,vr(e),t)};var dr=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e},gr=Object.prototype.hasOwnProperty;var br=function(t){if(!qt(t))return dr(t);var e=cr(t),r=[];for(var n in t)("constructor"!=n||!e&&gr.call(t,n))&&r.push(n);return r};var wr=function(t){return hr(t)?ar(t,!0):br(t)};var jr=function(t,e){return t&&Ne(e,wr(e),t)},Or=mt(function(t,e){var r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,o=n&&n.exports===r?kt.Buffer:void 0,i=o?o.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var r=t.length,n=i?i(r):new t.constructor(r);return t.copy(n),n}});var mr=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e};var _r=function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,i=[];++r<n;){var a=t[r];e(a,r,t)&&(i[o++]=a)}return i};var xr=function(){return[]},kr=Object.prototype.propertyIsEnumerable,Ar=Object.getOwnPropertySymbols,Sr=Ar?function(t){return null==t?[]:(t=Object(t),_r(Ar(t),function(e){return kr.call(t,e)}))}:xr;var Rr=function(t,e){return Ne(t,Sr(t),e)};var Er=function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t},Pr=ur(Object.getPrototypeOf,Object),Lr=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Er(e,Sr(t)),t=Pr(t);return e}:xr;var Ir=function(t,e){return Ne(t,Lr(t),e)};var Tr=function(t,e,r){var n=e(t);return Ke(t)?n:Er(n,r(t))};var Cr=function(t){return Tr(t,vr,Sr)};var Mr=function(t){return Tr(t,wr,Lr)},Nr=oe(kt,"DataView"),Fr=oe(kt,"Promise"),qr=oe(kt,"Set"),zr=oe(kt,"WeakMap"),Dr=Jt(Nr),Br=Jt(ie),Gr=Jt(Fr),Hr=Jt(qr),Ur=Jt(zr),Kr=Ft;(Nr&&"[object DataView]"!=Kr(new Nr(new ArrayBuffer(1)))||ie&&"[object Map]"!=Kr(new ie)||Fr&&"[object Promise]"!=Kr(Fr.resolve())||qr&&"[object Set]"!=Kr(new qr)||zr&&"[object WeakMap]"!=Kr(new zr))&&(Kr=function(t){var e=Ft(t),r="[object Object]"==e?t.constructor:void 0,n=r?Jt(r):"";if(n)switch(n){case Dr:return"[object DataView]";case Br:return"[object Map]";case Gr:return"[object Promise]";case Hr:return"[object Set]";case Ur:return"[object WeakMap]"}return e});var Wr=Kr,Vr=Object.prototype.hasOwnProperty;var $r=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&Vr.call(t,"index")&&(r.index=t.index,r.input=t.input),r},Jr=kt.Uint8Array;var Xr=function(t){var e=new t.constructor(t.byteLength);return new Jr(e).set(new Jr(t)),e};var Qr=function(t,e){var r=e?Xr(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)},Yr=/\w*$/;var Zr=function(t){var e=new t.constructor(t.source,Yr.exec(t));return e.lastIndex=t.lastIndex,e},tn=At?At.prototype:void 0,en=tn?tn.valueOf:void 0;var rn=function(t){return en?Object(en.call(t)):{}};var nn=function(t,e){var r=e?Xr(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)},on="[object Boolean]",an="[object Date]",sn="[object Map]",cn="[object Number]",un="[object RegExp]",ln="[object Set]",fn="[object String]",pn="[object Symbol]",hn="[object ArrayBuffer]",vn="[object DataView]",yn="[object Float32Array]",dn="[object Float64Array]",gn="[object Int8Array]",bn="[object Int16Array]",wn="[object Int32Array]",jn="[object Uint8Array]",On="[object Uint8ClampedArray]",mn="[object Uint16Array]",_n="[object Uint32Array]";var xn=function(t,e,r){var n=t.constructor;switch(e){case hn:return Xr(t);case on:case an:return new n(+t);case vn:return Qr(t,r);case yn:case dn:case gn:case bn:case wn:case jn:case On:case mn:case _n:return nn(t,r);case sn:return new n;case cn:case fn:return new n(t);case un:return Zr(t);case ln:return new n;case pn:return rn(t)}},kn=Object.create,An=function(){function t(){}return function(e){if(!qt(e))return{};if(kn)return kn(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();var Sn=function(t){return"function"!=typeof t.constructor||cr(t)?{}:An(Pr(t))},Rn="[object Map]";var En=function(t){return qe(t)&&Wr(t)==Rn},Pn=rr&&rr.isMap,Ln=Pn?er(Pn):En,In="[object Set]";var Tn=function(t){return qe(t)&&Wr(t)==In},Cn=rr&&rr.isSet,Mn=Cn?er(Cn):Tn,Nn=1,Fn=2,qn=4,zn="[object Arguments]",Dn="[object Function]",Bn="[object GeneratorFunction]",Gn="[object Object]",Hn={};Hn[zn]=Hn["[object Array]"]=Hn["[object ArrayBuffer]"]=Hn["[object DataView]"]=Hn["[object Boolean]"]=Hn["[object Date]"]=Hn["[object Float32Array]"]=Hn["[object Float64Array]"]=Hn["[object Int8Array]"]=Hn["[object Int16Array]"]=Hn["[object Int32Array]"]=Hn["[object Map]"]=Hn["[object Number]"]=Hn[Gn]=Hn["[object RegExp]"]=Hn["[object Set]"]=Hn["[object String]"]=Hn["[object Symbol]"]=Hn["[object Uint8Array]"]=Hn["[object Uint8ClampedArray]"]=Hn["[object Uint16Array]"]=Hn["[object Uint32Array]"]=!0,Hn["[object Error]"]=Hn[Dn]=Hn["[object WeakMap]"]=!1;var Un=function t(e,r,n,o,i,a){var s,c=r&Nn,u=r&Fn,l=r&qn;if(n&&(s=i?n(e,o,i,a):n(e)),void 0!==s)return s;if(!qt(e))return e;var f=Ke(e);if(f){if(s=$r(e),!c)return mr(e,s)}else{var p=Wr(e),h=p==Dn||p==Bn;if(Ve(e))return Or(e,c);if(p==Gn||p==zn||h&&!i){if(s=u||h?{}:Sn(e),!c)return u?Ir(e,jr(s,e)):Rr(e,yr(s,e))}else{if(!Hn[p])return i?e:{};s=xn(e,p,c)}}a||(a=new Pe);var v=a.get(e);if(v)return v;a.set(e,s),Mn(e)?e.forEach(function(o){s.add(t(o,r,n,o,e,a))}):Ln(e)&&e.forEach(function(o,i){s.set(i,t(o,r,n,i,e,a))});var y=f?void 0:(l?u?Mr:Cr:u?wr:vr)(e);return Le(y||e,function(o,i){y&&(o=e[i=o]),Me(s,i,t(o,r,n,i,e,a))}),s},Kn=1,Wn=4;var Vn=function(t){return Un(t,Kn|Wn)},$n=/(http:\/\/|https:\/\/)?(doc.weixin.qq.com|docs.qq.com)/gi,Jn=function(){function t(){this.name="log-filter"}return t.prototype.setupOnce=function(){},t.prototype.beforeInvokeLog=function(t){if(at)try{var e=t.msgArray;if(e instanceof Array&&e.length>0&&this.needFilterMsg(e,0)){var r=Vn(e),n=this.filterMsgObj(r,0);t.msgArray=n}}catch(t){console.log(t)}return t},t.prototype.filterMsgObj=function(t,e){var r,n,o=this;if(void 0===e&&(e=0),e>100)return t;if("string"==typeof t)return t.replace($n,"TDOC_HOSTNAME");if(Array.isArray(t)){var i=[];return t.forEach(function(t){return i.push(o.filterMsgObj(t,e+1))}),i}if(null===t)return t;if("object"==typeof t){try{for(var a=f(Object.keys(t)),s=a.next();!s.done;s=a.next()){var c=s.value;t[c]=this.filterMsgObj(t[c],e+1)}}catch(t){r={error:t}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return t}return t},t.prototype.needFilterMsg=function(t,e){var r=this;return void 0===e&&(e=0),!(e>100)&&("string"==typeof t?$n.test(t):Array.isArray(t)?t.some(function(t){return r.needFilterMsg(t,e+1)}):null!==t&&("object"==typeof t&&Object.keys(t).some(function(n){return r.needFilterMsg(t[n],e+1)})))},t}();return it.setDefaultOptions({backendWorkerUrl:"/scenario/pub/wl2/browser-backend-worker-1.3.0.js",integration:[new Jn],batchLogTime:at?3e3:0}),it}();

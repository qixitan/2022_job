self.window=self,window.jsExecStartTimeStamp=Date.now(),(self.webpackChunk_tencent_alloy_builder_webpack_runner=self.webpackChunk_tencent_alloy_builder_webpack_runner||[]).push([[9972],{70123:function(t,e,n){n.d(e,{K:function(){return s}});var r=n(25490),i=n(68124),o=n(93512),a=n(4289),s=function(t){function e(e){var n=t.call(this)||this;return n.corpId="",n.corpName="",n.englishName="",n.loginType=o.Q.UNKNOWN,n.nowUserIndex="",n.openId="",n.tinyId=a.Dr,n.uidSource=o.Q.UNKNOWN,n.uin="",n.userId="",n.userName="",n.userPic="",n.settings={language:"",toolbarMode:""},e?e.tinyId?(n.jsonObj2Class(e),n):(n.jsonObj2Class((0,r.__assign)((0,r.__assign)({},e),{tinyId:a.Dr})),n):n}return(0,r.__extends)(e,t),e}(i.K)},67917:function(t,e,n){var r;n.d(e,{g:function(){return r}}),function(t){t.BINDING="BINDING",t.UNBIND="UNBIND"}(r||(r={}))},4289:function(t,e,n){n.d(e,{gz:function(){return i.g},gq:function(){return o.gq},pN:function(){return o.pN},Dr:function(){return a},qu:function(){return o.qu},n6:function(){return r}});var r,i=n(67917),o=n(30089);!function(t){t[t.UNAUTHED=0]="UNAUTHED",t[t.ENTERPRISE=1]="ENTERPRISE",t[t.ENTERPRISE_MEDIA=2]="ENTERPRISE_MEDIA",t[t.GOVERNMENT=3]="GOVERNMENT",t[t.NON_PROFIT_ORGANIZATION=4]="NON_PROFIT_ORGANIZATION",t[t.PRIVATE_NON_ENTERPRISE=5]="PRIVATE_NON_ENTERPRISE",t[t.FOR_PROFIT_ORGANIZATION=6]="FOR_PROFIT_ORGANIZATION",t[t.SOCIAL_GROUPS=8]="SOCIAL_GROUPS",t[t.BUSINESS_MEDIA=9]="BUSINESS_MEDIA",t[t.BUSINESS_UNIT=11]="BUSINESS_UNIT",t[t.INDIVIDUAL_INDUSTRIAL_AND_COMMERCIAL_HOUSEHOLDS=12]="INDIVIDUAL_INDUSTRIAL_AND_COMMERCIAL_HOUSEHOLDS",t[t.OVERSEAS_COMPANIES=13]="OVERSEAS_COMPANIES"}(r||(r={}));var a="100000000000000000"},30089:function(t,e,n){var r,i,o;n.d(e,{gq:function(){return i},pN:function(){return r},qu:function(){return o}}),function(t){t[t.NOT_YET=1]="NOT_YET",t[t.USING=2]="USING",t[t.EXPIRED=3]="EXPIRED"}(r||(r={})),function(t){t[t.NO_STATUS=0]="NO_STATUS",t[t.CLOSE=1]="CLOSE",t[t.OPEN=2]="OPEN",t[t.EXPIRED=3]="EXPIRED"}(i||(i={})),function(t){t.NORMAL="NORMAL",t.SUPER="SUPER",t.NONE="NONE",t.EXPIRED="EXPIRED"}(o||(o={}))},73923:function(t,e,n){n.d(e,{P:function(){return I}});var r=n(25490),i=n(58257),o=n(52068),a=n(90011),s=n(93512),c=n(19780),u=n(45301),d=n(28612),f="".concat(d.Hf,"/session/logout"),p="".concat(d.HL,"user_unbind"),l="".concat(d.HL,"user_bind"),h="".concat(d.Hf,"/v2/cgi-bin/online_docs/polling"),g="".concat(d.Hf,"/cgi-bin/online_docs/wxqrcode"),v="".concat(d.bd,"/session/logout"),y="".concat(d.RP,"/session/logout"),_="".concat(d.HL,"user_info"),m="".concat(d.HL,"bind/permission/uid"),w="".concat(d.HL,"bind/permission/uin"),b="".concat(d.Hf,"/v2/user/wechat/auth/switch"),I=function(){function t(t){this.networkRequestService=t}return t.prototype.logout=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t;return(0,r.__generator)(this,(function(e){return t=(0,u.At)(f,{xrsf:"".concat((0,c.w$)(c.$W.xsrf))}),[2,this.networkRequestService.instance.get(t)]}))}))},t.prototype.wecomLogoutForBDomain=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(n){return e=(0,u.At)(v,{xrsf:"".concat((0,c.w$)(c.$W.xsrf)),vid:t}),[2,this.networkRequestService.instance.get(e)]}))}))},t.prototype.wecomLogoutForCDomain=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(n){return e=(0,u.At)(y,{xrsf:"".concat((0,c.w$)(c.$W.xsrf)),vid:t}),[2,this.networkRequestService.instance.get(e)]}))}))},t.prototype.unbindUserInfo=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(n){return e=(0,a.bk)({type:t,xsrf:(0,c.w$)(c.$W.xsrf)}),[2,this.networkRequestService.instance.post(p,e)]}))}))},t.prototype.bindUserInfo=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t;return(0,r.__generator)(this,(function(e){return t=(0,a.bk)({bindType:s.Q.QQ,p_luin:(0,c.ej)("p_luin"),p_uin:(0,c.ej)("p_uin"),p_skey:(0,c.ej)("p_skey"),p_lskey:(0,c.ej)("p_lskey"),xsrf:(0,c.w$)(c.$W.xsrf)}),[2,this.networkRequestService.instance.post(l,t)]}))}))},t.prototype.CurrentLoginAccountBindInfo=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(t){return[2,this.networkRequestService.instance.get(m)]}))}))},t.prototype.BindingAccountInfo=function(t){return void 0===t&&(t=!1),(0,r.__awaiter)(this,void 0,void 0,(function(){var e,n;return(0,r.__generator)(this,(function(i){return e=(0,r.__assign)({},t?{uflag:"qqsig"}:null),n=(0,u.At)(w,e),[2,this.networkRequestService.instance.get(n)]}))}))},t.prototype.getBindWxQrCode=function(t){var e="".concat(g,"?xsrf=").concat((0,c.w$)(c.$W.xsrf),"&page=").concat(encodeURIComponent("pages/bindwx/bindwx"),"&ac=bind&ts=").concat(Date.now(),"&u=").concat(t,"&checkKey=1");return this.networkRequestService.instance.get(e)},t.prototype.getBindProcess=function(t){var e="".concat(h,"?CheckKey=").concat(t);return this.networkRequestService.instance.post(e)},t.prototype.getPersonalUserInfo=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t;return(0,r.__generator)(this,(function(e){return t=(0,a.bk)({xsrf:(0,c.w$)(c.$W.xsrf),get_vip_info:1}),[2,this.networkRequestService.instance.post(_,t)]}))}))},t.prototype.getCertificationGrey=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(t){return[2,this.networkRequestService.instance.get(b)]}))}))},(0,r.__decorate)([(0,i.Hh)(),(0,i.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"logout",null),(0,r.__decorate)([(0,i.Hh)(),(0,i.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[String]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"wecomLogoutForBDomain",null),(0,r.__decorate)([(0,i.Hh)(),(0,i.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[String]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"wecomLogoutForCDomain",null),(0,r.__decorate)([(0,i.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Number]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"unbindUserInfo",null),(0,r.__decorate)([(0,i.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"bindUserInfo",null),(0,r.__decorate)([(0,i.Hh)(),(0,i.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"CurrentLoginAccountBindInfo",null),(0,r.__decorate)([(0,i.Hh)(),(0,i.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Object]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"BindingAccountInfo",null),(0,r.__decorate)([(0,i.Hh)(),(0,i.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[String]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"getBindWxQrCode",null),(0,r.__decorate)([(0,i.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[String]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"getBindProcess",null),(0,r.__decorate)([(0,i.Hh)(),(0,i.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"getPersonalUserInfo",null),(0,r.__decorate)([(0,i.Hh)(),(0,i.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"getCertificationGrey",null),t=(0,r.__decorate)([(0,r.__param)(0,o._),(0,r.__metadata)("design:paramtypes",[Object])],t)}()},14538:function(t,e,n){n.d(e,{Z:function(){return d}});var r=n(25490),i=n(58257),o=n(52068),a=n(90011),s=n(19780),c=n(28612),u="".concat(c.HL,"user_info"),d=function(){function t(t){this.networkRequestService=t}return t.prototype.getPersonalUserInfo=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t;return(0,r.__generator)(this,(function(e){return t=(0,a.bk)({xsrf:(0,s.w$)(s.$W.xsrf),get_vip_info:1}),[2,this.networkRequestService.instance.post(u,t)]}))}))},t.prototype.getEnterpriseUserInfo=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t;return(0,r.__generator)(this,(function(e){return t=(0,a.bk)({xsrf:(0,s.w$)(s.$W.xsrf)}),[2,this.networkRequestService.instance.post(u,t)]}))}))},(0,r.__decorate)([(0,i.Hh)(),(0,i.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"getPersonalUserInfo",null),(0,r.__decorate)([(0,i.Hh)(),(0,i.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"getEnterpriseUserInfo",null),t=(0,r.__decorate)([(0,r.__param)(0,o._),(0,r.__metadata)("design:paramtypes",[Object])],t)}()},24108:function(t,e,n){n.d(e,{b:function(){return r}});var r=(0,n(76138).yh)("IAccountDomainService")},82801:function(t,e,n){n.d(e,{D:function(){return B}});var r=n(25490),i=n(4289),o=n(52068),a=n(18497),s=n(58257),c=n(19780),u=n(28612),d=("".concat(u.d0,"account-list"),"".concat(u.d0,"logout")),f=function(){function t(t){this.networkRequestService=t}return t.prototype.getAccountList=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t;return(0,r.__generator)(this,(function(e){switch(e.label){case 0:return t="".concat("/session/api/multiacc/account_list","?xrsf=").concat((0,c.w$)(c.$W.xsrf)),[4,this.networkRequestService.instance.get(t)];case 1:return[2,e.sent()]}}))}))},t.prototype.delAccountForList=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(n){return e="".concat(d,"?xrsf=").concat((0,c.w$)(c.$W.xsrf),"&u=").concat(t),[2,this.networkRequestService.instance.get(e)]}))}))},(0,r.__decorate)([(0,s.Hh)(),(0,s.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"getAccountList",null),(0,r.__decorate)([(0,s.Hh)(),(0,s.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[String]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"delAccountForList",null),t=(0,r.__decorate)([(0,r.__param)(0,o._),(0,r.__metadata)("design:paramtypes",[Object])],t)}(),p=n(44152),l=function(t){function e(e,n){var r=t.call(this,n)||this;return r.networkRequestService=e,r.accountListRepository=new f(e),r.accountList=[],r}return(0,r.__extends)(e,t),e.prototype.getAccountList=function(){var t,e;return(0,r.__awaiter)(this,void 0,void 0,(function(){var n;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.accountListRepository.getAccountList()];case 1:return n=r.sent().resData,this.accountList=(null===(e=null===(t=null===n||void 0===n?void 0:n.data)||void 0===t?void 0:t.result)||void 0===e?void 0:e.accounts)?n.data.result.accounts:[],[2,this.accountList]}}))}))},e.prototype.delAccountForList=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.accountListRepository.delAccountForList(t)];case 1:return e=n.sent().resData,this.updateListAfterDel(t),[2,0===(null===e||void 0===e?void 0:e.retcode)]}}))}))},e.prototype.updateListAfterDel=function(t){this.accountList=this.accountList.filter((function(e){return e.userIndex!==t}))},e=(0,r.__decorate)([(0,r.__param)(0,o._),(0,r.__metadata)("design:paramtypes",[Object,String])],e)}(p.J),h=l,g=n(90011),v="".concat(u.Hf,"/online_docs_cgi/pwd/add"),y="".concat(u.Hf,"/online_docs_cgi/pwd/del"),_="".concat(u.Hf,"/online_docs_cgi/pwd/verify"),m="".concat(u.Hf,"/online_docs_cgi/pwd/reset"),w="".concat(u.Hf,"/online_docs_cgi/pwd/verify_code_get"),b="".concat(u.Hf,"/online_docs_cgi/pwd/verify_code_check"),I="".concat(u.Hf,"/online_docs_cgi/pwd/question_check"),E="".concat(u.Hf,"/online_docs_cgi/pwd/question_get"),S="".concat(u.Hf,"/online_docs_cgi/pwd/tips_get"),A="".concat(u.Hf,"/online_docs_cgi/pwd/token_verify"),O=("".concat(u.Hf,"/online_docs_cgi/pwd/tips_report"),function(){function t(t){this.networkRequestService=t}return t.prototype.pwdAdd=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(n){return e=(0,g.bk)((0,r.__assign)({xsrf:(0,c.w$)(c.$W.xsrf)},t)),[2,this.networkRequestService.instance.post(v,e)]}))}))},t.prototype.pwdDel=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(n){return e=(0,g.bk)((0,r.__assign)({xsrf:(0,c.w$)(c.$W.xsrf)},this.changeParam(t))),[2,this.networkRequestService.instance.post(y,e)]}))}))},t.prototype.pwdVerify=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(n){return e=(0,g.bk)((0,r.__assign)({xsrf:(0,c.w$)(c.$W.xsrf)},t)),[2,this.networkRequestService.instance.post(_,e)]}))}))},t.prototype.pwdReset=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(n){return e=(0,g.bk)((0,r.__assign)({xsrf:(0,c.w$)(c.$W.xsrf)},this.changeParam(t))),[2,this.networkRequestService.instance.post(m,e)]}))}))},t.prototype.pwdVerifyCodeGet=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(n){return e=(0,g.bk)((0,r.__assign)({xsrf:(0,c.w$)(c.$W.xsrf)},t)),[2,this.networkRequestService.instance.post(w,e)]}))}))},t.prototype.pwdVerifyCodeCheck=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(n){return e=(0,g.bk)((0,r.__assign)({xsrf:(0,c.w$)(c.$W.xsrf)},t)),[2,this.networkRequestService.instance.post(b,e)]}))}))},t.prototype.pwdQuestionCheck=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(n){return e=(0,g.bk)((0,r.__assign)({xsrf:(0,c.w$)(c.$W.xsrf)},this.changeParam(t))),[2,this.networkRequestService.instance.post(I,e)]}))}))},t.prototype.pwdQuestionGet=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t;return(0,r.__generator)(this,(function(e){return t=(0,g.bk)({xsrf:(0,c.w$)(c.$W.xsrf)}),[2,this.networkRequestService.instance.post(E,t)]}))}))},t.prototype.pwdTipsGet=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t;return(0,r.__generator)(this,(function(e){return t=(0,g.bk)({xsrf:(0,c.w$)(c.$W.xsrf)}),[2,this.networkRequestService.instance.post(S,t)]}))}))},t.prototype.pwdTokenVerify=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.networkRequestService.instance.post(A,(0,r.__assign)({xsrf:(0,c.w$)(c.$W.xsrf)},t))]}))}))},t.prototype.changeParam=function(t){return t.question_info?(0,r.__assign)((0,r.__assign)({},t),{question_info:JSON.stringify(t.question_info)}):t},(0,r.__decorate)([(0,s.Hh)(),(0,s.bj)(),(0,s.w1)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Object]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"pwdAdd",null),(0,r.__decorate)([(0,s.Hh)(),(0,s.bj)(),(0,s.w1)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Object]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"pwdDel",null),(0,r.__decorate)([(0,s.Hh)(),(0,s.bj)(),(0,s.w1)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Object]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"pwdVerify",null),(0,r.__decorate)([(0,s.Hh)(),(0,s.bj)(),(0,s.w1)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Object]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"pwdReset",null),(0,r.__decorate)([(0,s.Hh)(),(0,s.bj)(),(0,s.w1)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Object]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"pwdVerifyCodeGet",null),(0,r.__decorate)([(0,s.Hh)(),(0,s.bj)(),(0,s.w1)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Object]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"pwdVerifyCodeCheck",null),(0,r.__decorate)([(0,s.Hh)(),(0,s.bj)(),(0,s.w1)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Object]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"pwdQuestionCheck",null),(0,r.__decorate)([(0,s.Hh)(),(0,s.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"pwdQuestionGet",null),(0,r.__decorate)([(0,s.Hh)(),(0,s.bj)(),(0,s.w1)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"pwdTipsGet",null),(0,r.__decorate)([(0,s.Hh)(),(0,s.bj)(),(0,s.w1)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Object]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"pwdTokenVerify",null),t=(0,r.__decorate)([(0,r.__param)(0,o._),(0,r.__metadata)("design:paramtypes",[Object])],t)}()),C=function(t){function e(e,n){var r=t.call(this,n)||this;return r.networkRequestService=e,r.phone="",r.isHasPassword=!1,r.pwdQuestionList=[],r.passwordRepository=new O(r.networkRequestService),r}return(0,r.__extends)(e,t),e.prototype.updatePwdTips=function(){var t,e,n;return(0,r.__awaiter)(this,void 0,void 0,(function(){var i;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.passwordRepository.pwdTipsGet()];case 1:return i=r.sent().resData,this.isHasPassword=!!(null===(t=null===i||void 0===i?void 0:i.data)||void 0===t?void 0:t.hasPwd),this.phone=null!==(n=null===(e=null===i||void 0===i?void 0:i.data)||void 0===e?void 0:e.pwdPhoneNum)&&void 0!==n?n:"",[2]}}))}))},e.prototype.updatePwdQuestionList=function(){var t,e;return(0,r.__awaiter)(this,void 0,void 0,(function(){var n;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.passwordRepository.pwdQuestionGet()];case 1:return n=r.sent().resData,this.pwdQuestionList=null!==(e=null===(t=null===n||void 0===n?void 0:n.data)||void 0===t?void 0:t.questionInfo)&&void 0!==e?e:[],[2]}}))}))},e=(0,r.__decorate)([(0,r.__param)(0,o._),(0,r.__metadata)("design:paramtypes",[Object,String])],e)}(p.J),x=n(68124),R=n(93512),M=n(67917),D=function(t){function e(e){var n=t.call(this)||this;if(n.type=M.g.UNBIND,n.userName="",n.userPic="",n.accountType=R.Q.UNKNOWN,e){n.loginType=e.loginType;var r=n.handleBindUserInfo(e);n.jsonObj2Class(r)}return n}return(0,r.__extends)(e,t),e.prototype.handleBindUserInfo=function(t){var e=t.wxAvatar,n=t.wxNick,r=t.qqAvatar,i=t.qqNick;return t.wxOpenid&&this.loginType!==R.Q.WX?{type:M.g.BINDING,userName:n,userPic:e,accountType:R.Q.WX}:r&&this.loginType!==R.Q.QQ?{type:M.g.BINDING,userName:i,userPic:r,accountType:R.Q.QQ}:{type:M.g.UNBIND,userName:"",userPic:"",accountType:R.Q.UNKNOWN}},e}(x.K),P=function(t){function e(e){var n=t.call(this)||this;return n.avatar="",n.nick="",n.introduction="",n.type=0,n.principal="",n.credential="",n.isOfficialAccount=!1,e&&(n.setOfficialAccountStatus(e),n.jsonObj2Class(e)),n}return(0,r.__extends)(e,t),e.prototype.setOfficialAccountStatus=function(t){this.isOfficialAccount=!!t.credential},e}(x.K),T=n(30089),k=function(t){function e(e){var n=t.call(this)||this;if(n.type=T.qu.NONE,n.beginTime=0,n.endTime=0,n.vip={status:0,beginTime:0,endTime:0},n.svip={status:0,beginTime:0,endTime:0},n.vvip={status:0,beginTime:0,endTime:0},n.customInfo={avatarFrame:""},!e)return n;var r=n.handleVipInfoFromNet(e);return n.jsonObj2Class(r),n}return(0,r.__extends)(e,t),e.prototype.updateVipUserInfo=function(t){if(t){var e=this.handleVipCustomInfoFromNet(t);this.jsonObj2Class({customInfo:e})}},e.prototype.handleVipInfoFromNet=function(t){var e,n,r,i,o,a,s,c,u,d=T.qu.NONE,f=0,p=0,l=T.gq.CLOSE;return(null===(e=null===t||void 0===t?void 0:t.superVip)||void 0===e?void 0:e.status)===T.gq.OPEN?(d=T.qu.SUPER,f=null!==(r=null===(n=null===t||void 0===t?void 0:t.superVip)||void 0===n?void 0:n.beginTime)&&void 0!==r?r:0,p=null!==(o=null===(i=null===t||void 0===t?void 0:t.superVip)||void 0===i?void 0:i.endTime)&&void 0!==o?o:0,l=T.gq.OPEN):(null===t||void 0===t?void 0:t.isVip)?(d=T.qu.NORMAL,f=t.beginTime,p=t.endTime,l=T.gq.OPEN):(null===t||void 0===t?void 0:t.superVip.status)===T.gq.EXPIRED?(d=T.qu.EXPIRED,p=null!==(s=null===(a=null===t||void 0===t?void 0:t.superVip)||void 0===a?void 0:a.endTime)&&void 0!==s?s:0,f=null!==(u=null===(c=null===t||void 0===t?void 0:t.superVip)||void 0===c?void 0:c.beginTime)&&void 0!==u?u:0,l=T.gq.EXPIRED):(null===t||void 0===t?void 0:t.oldVip)&&(d=T.qu.EXPIRED,p=t.endTime,f=t.beginTime,l=T.gq.EXPIRED),{vip:{status:l,beginTime:t.beginTime,endTime:t.endTime},svip:{status:t.superVip.status,beginTime:t.superVip.beginTime,endTime:t.superVip.endTime},vvip:this.vvip,type:d,beginTime:f,endTime:p}},e.prototype.handleVipCustomInfoFromNet=function(t){var e={};try{e=JSON.parse(t)}catch(r){e={}}var n=e.avatar_frame_url;return{avatarFrame:void 0===n?"":n}},e}(x.K),L=n(73923),N=n(23709),U=n(61686),j=n(70123),F=function(t){function e(e,n,r){var i=t.call(this,n)||this;return i.networkRequestService=e,i.userInfo=new j.K,i.vipInfo=new k,i.bindUserInfo=new D,i.officialInfo=new P,i.userInfo=new j.K(r),i.accountListEntity=new h(e,n),i.passwordEntity=new C(e,n),i.accountRepository=new L.P(e),i}return(0,r.__extends)(e,t),e.prototype.completionUserInfo=function(t){t.vipInfo&&(this.vipInfo=new k(t.vipInfo)),t.vip&&this.vipInfo.updateVipUserInfo(t.vip),t.wechatOfficialAccount&&(this.officialInfo=new P(t.wechatOfficialAccount)),this.bindUserInfo=new D(t)},e.prototype.updateNowUserIndex=function(t){t&&(window.nowUserIndex=t)},e.prototype.currentLoginAccountBindInfo=function(){var t;return(0,r.__awaiter)(this,void 0,void 0,(function(){var e,n;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.accountRepository.CurrentLoginAccountBindInfo()];case 1:return e=r.sent(),(n=null===(t=e.resData)||void 0===t?void 0:t.data)?[2,n]:[2,{allowBind:!1,allowUnbind:!1,nextAllowBindTime:0,nextAllowUnbindTime:0,autoRenewal:!1}]}}))}))},e.prototype.bindingQQInfo=function(){var t,e;return(0,r.__awaiter)(this,void 0,void 0,(function(){var n,i,o,a,s,c;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return n=this.userInfo.loginType,i=![R.Q.QQ,R.Q.WX].includes(n),[4,this.accountRepository.CurrentLoginAccountBindInfo()];case 1:return o=r.sent(),[4,this.accountRepository.BindingAccountInfo(i)];case 2:return a=r.sent(),s=null===(t=o.resData)||void 0===t?void 0:t.data,c=null===(e=a.resData)||void 0===e?void 0:e.data,s&&c?[2,{isCanBind:s.allowBind&&c.allowBind,nextBindTime:(0,U.max)([s.nextAllowBindTime,c.nextAllowBindTime]),qqNickName:c.nick,qqAvatar:c.avatar}]:[2,{isCanBind:!1,nextBindTime:0,qqAvatar:"",qqNickName:""}]}}))}))},e=(0,r.__decorate)([(0,r.__param)(0,o._),(0,r.__metadata)("design:paramtypes",[Object,String,Object])],e)}(N.Z),q=n(14538),B=function(){function t(t){this.networkRequestService=t,this.userInfoRepository=new q.Z(this.networkRequestService)}return t.prototype.init=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(t){return[2]}))}))},t.prototype.createPersonalEnvAccountAggregateByUserInfoCgi=function(t,e){var n=this.changeFetchDataToBaseDate(t,e);return this.accountAggregate=new F(this.networkRequestService,n.tinyId,n),this.accountAggregate.completionUserInfo(t),!0},t.prototype.createPersonalEnvAccountAggregateByBasicClientVars=function(t){return t?(this.accountAggregate=new F(this.networkRequestService,t.tinyId||i.Dr,t),!0):(this.accountAggregate=new F(this.networkRequestService,i.Dr),!1)},t.prototype.updatePersonalEnvAccountAggregate=function(t){var e,n,i;return(0,r.__awaiter)(this,void 0,void 0,(function(){var o;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return this.updateUserIndex(t),o=null===(i=null===(n=null===(e=this.accountAggregate)||void 0===e?void 0:e.userInfo)||void 0===n?void 0:n.settings)||void 0===i?void 0:i.language,[4,this.createPersonalEnvAccountAggregateForFetch(t,o)];case 1:return[2,r.sent()]}}))}))},t.prototype.completionUserInfo=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t;return(0,r.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.userInfoRepository.getPersonalUserInfo()];case 1:return 0===(null===(t=e.sent().resData)||void 0===t?void 0:t.retcode)?(this.accountAggregate.completionUserInfo(t.data),[2,!0]):[2,!1]}}))}))},t.prototype.createPersonalEnvAccountAggregateForFetch=function(t,e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n,i;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.userInfoRepository.getPersonalUserInfo()];case 1:return 0===(null===(n=r.sent().resData)||void 0===n?void 0:n.retcode)?(i=this.changeFetchDataToBaseDate(n.data,t,e),this.accountAggregate=new F(this.networkRequestService,n.data.tinyid,i),this.accountAggregate.completionUserInfo(n.data),[2,!0]):[2,!1]}}))}))},t.prototype.changeFetchDataToBaseDate=function(t,e,n){var r=t.corpId,i=t.tinyid,o=t.corpName,a=t.englishName,s=t.loginType,c=t.wxOpenid,u=t.uin,d=t.uidSource,f=t.userId,p=t.avatar,l=t.nick;return{corpId:r,corpName:o,englishName:a,loginType:s,uin:u,uidSource:d,userId:null!==f&&void 0!==f?f:"p.".concat(i),nowUserIndex:null!==e&&void 0!==e?e:"",tinyId:i,openId:c,userName:l,userPic:p,settings:{language:null!==n&&void 0!==n?n:"",toolbarMode:""}}},t.prototype.updateUserIndex=function(t){this.accountAggregate.updateNowUserIndex(t)},(0,r.__decorate)([(0,a.u)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"init",null),t=(0,r.__decorate)([(0,r.__param)(0,o._),(0,r.__metadata)("design:paramtypes",[Object])],t)}()},20849:function(t,e,n){n.d(e,{b:function(){return r}});var r=(0,n(76138).yh)("IEnterpriseAccountDomainService")},69462:function(t,e,n){n.d(e,{f:function(){return p}});var r=n(25490),i=n(52068),o=n(18497),a=n(73923),s=n(23709),c=n(70123),u=function(t){function e(e,n,r){var i=t.call(this,n)||this;return i.networkRequestService=e,i.userInfo=new c.K,i.userInfo=new c.K(r),i.accountRepository=new a.P(e),i}return(0,r.__extends)(e,t),e=(0,r.__decorate)([(0,r.__param)(0,i._),(0,r.__metadata)("design:paramtypes",[Object,String,Object])],e)}(s.Z),d=n(4289),f=n(14538),p=function(){function t(t){this.networkRequestService=t,this.userInfoRepository=new f.Z(this.networkRequestService)}return t.prototype.init=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(t){return[2]}))}))},t.prototype.createEnterpriseEnvAccountAggregateByBasicClientVars=function(t){return t?(this.accountAggregate=new u(this.networkRequestService,t.tinyId||d.Dr,t),!0):(this.accountAggregate=new u(this.networkRequestService,d.Dr),!1)},t.prototype.createEnterpriseEnvAccountAggregateByUserInfoCgi=function(t){var e=this.changeFetchDataToBaseDate(t);this.accountAggregate=new u(this.networkRequestService,e.tinyId,e)},t.prototype.changeFetchDataToBaseDate=function(t,e){var n=t.corpId,r=t.tinyid,i=t.corpName,o=t.englishName,a=t.loginType,s=t.wxOpenid,c=t.uin,u=t.uidSource,d=t.userId,f=t.avatar;return{corpId:n,corpName:i,englishName:o,loginType:a,uin:c,uidSource:u,userId:d,tinyId:r,openId:s,userName:t.nick,userPic:f,nowUserIndex:"",settings:{language:null!==e&&void 0!==e?e:"",toolbarMode:""}}},(0,r.__decorate)([(0,o.u)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"init",null),t=(0,r.__decorate)([(0,r.__param)(0,i._),(0,r.__metadata)("design:paramtypes",[Object])],t)}()},8561:function(t,e,n){n.d(e,{C:function(){return r}});var r=(0,n(76138).yh)("ILoginDomainService")},9011:function(t,e,n){n.d(e,{g:function(){return A}});var r=n(25490),i=n(5824),o=n(58257),a=n(52068),s=n(19780),c=n(45301),u=n(28612),d="".concat(u.Hf,"/v2/cgi-bin/online_docs/polling"),f="".concat(u.d0,"polling/key/create"),p="".concat(u.Hf,"/cgi-bin/online_docs/wxqrcode"),l=("".concat(u.HL,"user_info"),"".concat(u.Hf,"/api/user/qq/login")),h="".concat(u.d0,"work_weixin/login"),g="x-u",v="userIndex",y=function(){function t(t){this.networkRequestService=t}return t.prototype.pollingKeyCreate=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(n){return e="".concat(f,"?ac=").concat(t),[2,this.networkRequestService.instance.post(e,{xsrf:(0,s.w$)(s.$W.xsrf)})]}))}))},t.prototype.getWeChatLogInQRCodeURI=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t,e;return(0,r.__generator)(this,(function(n){return t={ac:"login",ts:Date.now(),page:encodeURIComponent("pages/landingpage/landingpage"),checkKey:"1",xsrf:"".concat((0,s.w$)(s.$W.xsrf))},e=(0,c.At)(p,t),[2,this.networkRequestService.instance.get(e)]}))}))},t.prototype.updateWeChatLoginQRCodeStatus=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e,n;return(0,r.__generator)(this,(function(r){return e={CheckKey:t,u:"login"},n=(0,c.At)(d,e),[2,this.networkRequestService.instance.post(n)]}))}))},t.prototype.updateEnterpriseWeChatLoginQRCodeStatus=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e,n;return(0,r.__generator)(this,(function(r){return e={CheckKey:t},n=(0,c.At)(d,e),[2,this.networkRequestService.instance.post(n)]}))}))},t.prototype.checkQQLogin=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t;return(0,r.__generator)(this,(function(e){return t="".concat(l,"?u=login"),[2,this.networkRequestService.instance.post(t,{xsrf:(0,s.w$)(s.$W.xsrf)})]}))}))},t.prototype.weworkLogin=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t;return(0,r.__generator)(this,(function(e){return t="".concat(h,"?u=login"),[2,this.networkRequestService.instance.post(t,{xsrf:(0,s.w$)(s.$W.xsrf)})]}))}))},(0,r.__decorate)([(0,o.Hh)(),(0,o.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[String]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"pollingKeyCreate",null),(0,r.__decorate)([(0,o.Hh)(),(0,o.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"getWeChatLogInQRCodeURI",null),(0,r.__decorate)([(0,o.Hh)(),(0,o.bj)(),(0,o.GT)(g,v),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[String]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"updateWeChatLoginQRCodeStatus",null),(0,r.__decorate)([(0,o.Hh)(),(0,o.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[String]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"updateEnterpriseWeChatLoginQRCodeStatus",null),(0,r.__decorate)([(0,o.Hh)(),(0,o.bj)(),(0,o.GT)(g,v),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"checkQQLogin",null),(0,r.__decorate)([(0,o.Hh)(),(0,o.bj)(),(0,o.GT)(g,v),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"weworkLogin",null),t=(0,r.__decorate)([(0,r.__param)(0,a._),(0,r.__metadata)("design:paramtypes",[Object])],t)}(),_=y,m=n(23709),w=n(58119),b=n(76852),I=function(t){function e(e,n){var r=t.call(this,n)||this;return r.networkRequestService=e,r.loginRepository=new _(e),r}return(0,r.__extends)(e,t),e.prototype.reloadMiniProgramForDesktop=function(){var t,e;null===(e=null===(t=null===window||void 0===window?void 0:window.wx)||void 0===t?void 0:t.miniProgram)||void 0===e||e.reLaunch({url:"/pages/list/list?reason=pskey_error"})},e.prototype.loginDocsInMiniProgram=function(t){var e,n,r,i="/pages/detail/detail?reason=pskey_error&url=".concat(encodeURIComponent(t));(0,w.pm)("rtkey")&&(i+="&scene=".concat((0,w.pm)("rtkey"))),null===(r=null===(n=null===(e=window.wx)||void 0===e?void 0:e.miniProgram)||void 0===n?void 0:n.reLaunch)||void 0===r||r.call(n,{url:i})},e.prototype.loginDocsInWework=function(t){if(i.gH===i.Cs){var e="".concat(i.i4,"?url=").concat(encodeURIComponent(t)),n="".concat(i.zC,"?appid=ww20388f7040b655b7&redirect_uri=").concat(encodeURIComponent(e),"&response_type=code&scope=snsapi_userinfo&state=weworklogin#wechat_redirect");location.replace(n)}},e.prototype.jumpToLoginInWechatWebview=function(t){(0,b.tencentDocOpenUrlForAll)({url:"".concat(i.Sc,"?url=").concat(encodeURIComponent(t),"&wxonly=1"),replace:!0})},e.prototype.jumpToLoginInWeworkWebview=function(t){var e="".concat(i.zC,"?appid=ww20388f7040b655b7&redirect_uri=").concat(encodeURIComponent(t),"&response_type=code&scope=snsapi_userinfo&state=weworklogin#wechat_redirect");(0,b.tencentDocOpenUrlForAll)({url:e,replace:!0})},e.prototype.jumpToLoginInCommonView=function(t){(0,b.tencentDocOpenUrlForAll)({url:"".concat(i.kC,"?jump_url=").concat(encodeURIComponent(t)),replace:!0})},e.prototype.timOrQQH5Login=function(){window.mqq?window.mqq.invoke("data","updateLoginInfo",{key:"pskey"},(function(){location.reload()})):n.g.location.reload()},e=(0,r.__decorate)([(0,r.__param)(0,a._),(0,r.__metadata)("design:paramtypes",[Object,String])],e)}(m.Z),E=I,S=n(18497),A=function(){function t(t){this.networkRequestService=t}return t.prototype.createLoginAggregate=function(t){this.loginAggregate=new E(this.networkRequestService,t)},t.prototype.init=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(t){return[2]}))}))},(0,r.__decorate)([(0,S.u)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"init",null),t=(0,r.__decorate)([(0,r.__param)(0,a._),(0,r.__metadata)("design:paramtypes",[Object])],t)}()},29749:function(t,e,n){n.d(e,{B:function(){return r}});var r=(0,n(76138).yh)("IAtMessageDomainService")},28761:function(t,e,n){n.d(e,{M:function(){return S}});var r=n(25490),i=n(28612),o="".concat(i.jo,"mention/mention_add"),a="".concat(i.jo,"mention/mention_del"),s="".concat(i.jo,"mention/get_doc_mention_list"),c="".concat(i.jo,"mention/get_my_mention_list"),u="".concat(i.jo,"mention/mention_read_report"),d=n(52068),f=n(90011),p=n(96501),l=n(19780),h=function(){function t(t,e){this.docMetaDomainService=t,this.networkRequestService=e}return t.prototype.getDocMentionList=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t,e;return(0,r.__generator)(this,(function(n){switch(n.label){case 0:return t=(0,f.bk)({globalPadId:this.globalPadId,xsrf:(0,l.w$)(l.$W.xsrf)}),e="".concat(s),[4,this.networkRequestService.instance.post(e,t)];case 1:return[2,n.sent()]}}))}))},t.prototype.getMyMentionList=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t,e;return(0,r.__generator)(this,(function(n){switch(n.label){case 0:return t=(0,f.bk)({globalPadId:this.globalPadId,xsrf:(0,l.w$)(l.$W.xsrf)}),e="".concat(c),[4,this.networkRequestService.instance.post(e,t)];case 1:return[2,n.sent()]}}))}))},t.prototype.deleteMention=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e,n;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return e=(0,f.bk)({globalPadId:this.globalPadId,mentions:JSON.stringify(t),xsrf:(0,l.w$)(l.$W.xsrf)}),n="".concat(a),[4,this.networkRequestService.instance.post(n,e)];case 1:return[2,r.sent()]}}))}))},t.prototype.addMention=function(t,e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n,i;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return n=(0,f.bk)({globalPadId:this.globalPadId,mentions:JSON.stringify(t),vfwebqq:e,xsrf:(0,l.w$)(l.$W.xsrf)}),i="".concat(o),[4,this.networkRequestService.instance.post(i,n)];case 1:return[2,r.sent()]}}))}))},t.prototype.mentionReadReport=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e,n;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return e=(0,f.bk)({globalPadId:this.globalPadId,mentions:JSON.stringify(t),xsrf:(0,l.w$)(l.$W.xsrf)}),n="".concat(u),[4,this.networkRequestService.instance.post(n,e)];case 1:return[2,r.sent()]}}))}))},Object.defineProperty(t.prototype,"globalPadId",{get:function(){var t=this.docMetaDomainService.docMetaEntity.padInfo.padId,e=this.docMetaDomainService.docMetaEntity.padInfo.domainId;return(0,f.B8)(e,t)},enumerable:!1,configurable:!0}),t=(0,r.__decorate)([(0,r.__param)(0,p.v),(0,r.__param)(1,d._),(0,r.__metadata)("design:paramtypes",[Object,Object])],t)}(),g=n(68124),v=function(t){function e(e){var n=t.call(this)||this;return n.anchorId="",n.mentionId="",n.mentionType=0,n.notify=0,n.read=!1,n.targetId="",n.sender={},n.mentionedUser={},n.jsonObj2Class(e),n}return(0,r.__extends)(e,t),e}(g.K),y=function(t){function e(e){var n=t.call(this)||this;return n.anchorId="",n.mentionId="",n.mentionType=0,n.notify=0,n.targetId="",n.read=!1,n.mentionFrom={},n.mentionTo={},n.jsonObj2Class(e),n}return(0,r.__extends)(e,t),e}(g.K),_=n(23709),m=n(58257),w=n(38516),b="mentions",I=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.docMetaDomainService=n,i.networkRequestService=r,i.atMeUserList=[],i.atUserList=[],i.onAtUserListUpdatedEmitter=new w.Emitter,i.onAtMeUserListUpdatedEmitter=new w.Emitter,i.onAtUserListUpdated=i.onAtUserListUpdatedEmitter.event,i.onAtMeUserListUpdated=i.onAtMeUserListUpdatedEmitter.event,i.atMessageRepository=new h(n,r),i}return(0,r.__extends)(e,t),e.prototype.getDocMentionList=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.atMessageRepository.getDocMentionList()];case 1:return[2,t.sent()]}}))}))},e.prototype.getMyMentionList=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.atMessageRepository.getMyMentionList()];case 1:return[2,t.sent()]}}))}))},e.prototype.addMention=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(n){switch(n.label){case 0:return e=(0,f.CY)(),[4,this.atMessageRepository.addMention(t,e)];case 1:return[2,n.sent()]}}))}))},e.prototype.deleteMention=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.atMessageRepository.deleteMention(t)];case 1:return[2,e.sent()]}}))}))},e.prototype.clearMentionMarks=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.atMessageRepository.mentionReadReport(t)];case 1:return[2,e.sent()]}}))}))},(0,r.__decorate)([(0,m.EL)(v.prototype.constructor,"atUserList","result",b),(0,m.Hh)(),(0,m.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[]),(0,r.__metadata)("design:returntype",Promise)],e.prototype,"getDocMentionList",null),(0,r.__decorate)([(0,m.FY)(y.prototype.constructor,"atMeUserList",b),(0,m.Hh)(),(0,m.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[]),(0,r.__metadata)("design:returntype",Promise)],e.prototype,"getMyMentionList",null),(0,r.__decorate)([(0,m.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Array]),(0,r.__metadata)("design:returntype",Promise)],e.prototype,"addMention",null),(0,r.__decorate)([(0,m.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Array]),(0,r.__metadata)("design:returntype",Promise)],e.prototype,"deleteMention",null),(0,r.__decorate)([(0,m.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Array]),(0,r.__metadata)("design:returntype",Promise)],e.prototype,"clearMentionMarks",null),e=(0,r.__decorate)([(0,r.__param)(1,p.v),(0,r.__param)(2,d._),(0,r.__metadata)("design:paramtypes",[String,Object,Object])],e)}(_.Z),E=n(18497),S=function(){function t(t,e){this.docMetaDomainService=t,this.networkRequest=e,this.atMessageAggregate=new I("mainAtMessageAggregate",t,e)}return t.prototype.init=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.docMetaDomainService.init(t)];case 1:return e.sent(),[2]}}))}))},(0,r.__decorate)([(0,E.u)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Object]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"init",null),t=(0,r.__decorate)([(0,r.__param)(0,p.v),(0,r.__param)(1,d._),(0,r.__metadata)("design:paramtypes",[Object,Object])],t)}()},35948:function(t,e,n){var r,i,o;n.d(e,{e0:function(){return o},sX:function(){return i},ul:function(){return r}}),function(t){t[t.DEFAULT=0]="DEFAULT",t[t.SHOW=1]="SHOW",t[t.HIDE=2]="HIDE"}(r||(r={})),function(t){t[t.SELF=0]="SELF",t[t.COOPERATION=1]="COOPERATION",t[t.VIEWABLE=2]="VIEWABLE",t[t.EDITABLE=3]="EDITABLE"}(i||(i={})),function(t){t[t.deny=0]="deny",t[t.whitelist=1]="whitelist",t[t.allOnlyRead=2]="allOnlyRead",t[t.allOnlyWrite=3]="allOnlyWrite",t[t.allOnlyExecute=4]="allOnlyExecute",t[t.invalidPolicy=999]="invalidPolicy"}(o||(o={}))},26239:function(t,e,n){var r;n.d(e,{V:function(){return r}}),function(t){t[t.noPrivilege=0]="noPrivilege",t[t.reader=1]="reader",t[t.editor=2]="editor",t[t.filler=3]="filler",t[t.executor=4]="executor",t[t.externUser=10]="externUser",t[t.administrator=1024]="administrator",t[t.owner=2048]="owner"}(r||(r={}))},37362:function(t,e,n){n.d(e,{i:function(){return r}});var r=(0,n(76138).yh)("IAuthDomainService")},19237:function(t,e,n){n.d(e,{n:function(){return L}});var r=n(25490),i=n(35948),o=n(26239),a=n(28612),s="".concat(a.Hf,"/dop-api/drive/data/get"),c="".concat(a.HL,"auth_info/get"),u="".concat(a.HL,"auth_info/set"),d="".concat(a.HL,"auth_exp/get"),f="".concat(a.HL,"auth_exp/set"),p="".concat(a.HL,"auth_getconf"),l="".concat(a.Hf,"/v2/privilege/corpshare/docownerget"),h="".concat(a.Hf,"/v2/privilege/corpshare/docownerset"),g="".concat(a.Hf,"/v2/privilege/set_user"),v=n(52068),y=n(90011),_=n(96501),m=n(19780),w=n(45301),b=function(){function t(t,e){this.docMetaDomainService=t,this.networkRequestService=e}return t.prototype.fetchAuthInfoData=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e,n;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return e={id:t,xsrf:"".concat((0,m.w$)(m.$W.xsrf))},n=(0,w.At)(s,e),[4,this.networkRequestService.instance.get(n)];case 1:return[2,r.sent()]}}))}))},t.prototype.fetchAuthInfo=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t,e;return(0,r.__generator)(this,(function(n){switch(n.label){case 0:return t={localPadId:this.docMetaDomainService.docMetaEntity.padInfo.padId,domain:this.docMetaDomainService.docMetaEntity.padInfo.domainId,type:1,ver:2,xsrf:"".concat((0,m.w$)(m.$W.xsrf))},e=(0,w.At)(c,t),[4,this.networkRequestService.instance.post(e)];case 1:return[2,n.sent()]}}))}))},t.prototype.changeAuthInfo=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e,n,i,o,a,s;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return e=t.corpId,n=t.data,i=t.message,o=t.dataType,a={localPadId:this.docMetaDomainService.docMetaEntity.padInfo.padId,domain:this.docMetaDomainService.docMetaEntity.padInfo.domainId,corp_id:(0,y.Pc)(e),data:(0,y.Pc)(n),message:(0,y.Pc)(i),dataType:(0,y.fQ)(o),type:1,ver:2,xsrf:"".concat((0,m.w$)(m.$W.xsrf))},s=(0,w.At)(u,a),[4,this.networkRequestService.instance.post(s)];case 1:return[2,r.sent()]}}))}))},t.prototype.fetchAuthExpTime=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t,e;return(0,r.__generator)(this,(function(n){switch(n.label){case 0:return t={domainId:this.docMetaDomainService.docMetaEntity.padInfo.domainId,localPadId:this.docMetaDomainService.docMetaEntity.padInfo.padId,xsrf:"".concat((0,m.w$)(m.$W.xsrf)),type:1,ver:2},e=(0,w.At)(d,t),[4,this.networkRequestService.instance.get(e)];case 1:return[2,n.sent()]}}))}))},t.prototype.changeAuthExpTime=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e,n;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return e=(0,y.bk)({domainId:this.docMetaDomainService.docMetaEntity.padInfo.domainId,localPadId:this.docMetaDomainService.docMetaEntity.padInfo.padId,setTime:parseInt(t,10),xsrf:"".concat((0,m.w$)(m.$W.xsrf))}),n={contentType:"application/x-www-form-urlencoded"},[4,this.networkRequestService.instance.post(f,e,n)];case 1:return[2,r.sent()]}}))}))},t.prototype.fetchFolderAuth=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e,n;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return e={folderId:t,type:1,ver:2,xsrf:"".concat((0,m.w$)(m.$W.xsrf))},n=(0,w.At)(c,e),[4,this.networkRequestService.instance.post(n)];case 1:return[2,r.sent()]}}))}))},t.prototype.changeFolderAuth=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e,n,i,o,a,s,c;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return e=t.folderId,n=t.corpId,i=t.message,o=t.data,a=t.clear,s={folderId:e,corp_id:(0,y.Pc)(n),data:(0,y.Pc)(o),message:(0,y.Pc)(i),clear:(0,y.fQ)(a),type:1,ver:2,xsrf:"".concat((0,m.w$)(m.$W.xsrf))},c=(0,w.At)(u,s),[4,this.networkRequestService.instance.post(c)];case 1:return[2,r.sent()]}}))}))},t.prototype.fetchAuthConfig=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t,e;return(0,r.__generator)(this,(function(n){switch(n.label){case 0:return t={domainId:this.docMetaDomainService.docMetaEntity.padInfo.domainId,localPadId:this.docMetaDomainService.docMetaEntity.padInfo.padId,xsrf:"".concat((0,m.w$)(m.$W.xsrf))},e=(0,w.At)(p,t),[4,this.networkRequestService.instance.post(e)];case 1:return[2,n.sent()]}}))}))},t=(0,r.__decorate)([(0,r.__param)(0,_.v),(0,r.__param)(1,v._),(0,r.__metadata)("design:paramtypes",[Object,Object])],t)}(),I=n(68124),E=function(t){function e(e){var n=t.call(this)||this;return n.expTime=0,n.remainTime=0,n.setTime=0,n.startTime=0,n.jsonObj2Class(e),n}return(0,r.__extends)(e,t),e}(I.K),S=n(58257),A=n(38516),O=function(t){function e(e){var n=t.call(this)||this;return n.readerCanComment=!1,n.viewForbidCopyPrint=!1,n.writerCanComment=!1,n.jsonObj2Class(e),n}return(0,r.__extends)(e,t),e}(I.K),C=function(t){function e(e){var n=t.call(this)||this;return n.canAbout=!1,n.canAddUser=!1,n.canComment=!1,n.canCopy=!1,n.canCopyDoc=!1,n.canEdit=!1,n.canEditTitle=!1,n.canHistory=!1,n.canLinkExp=!1,n.canPrint=!1,n.canRead=!1,n.canSearch=!1,n.canShare=!1,n.canFeedback=!1,n.canSpitSlot=!1,n.canTranslate=!1,n.canViewImage=!1,n.canWatermark=!1,n.isPrivilegeExpired=!1,n.canApplyEdit=!1,n.jsonObj2Class(e),n}return(0,r.__extends)(e,t),e}(I.K),x=function(){function t(t,e){this.docMetaDomainService=t,this.networkRequestService=e,this.selfRole=o.V.noPrivilege,this.isOwner=!1,this.selfDocPrivilege=new C({}),this.selfDocAdvancedPrivilege=new O({}),this.documentPrivilege=i.e0.deny,this.memberList=[],this.onAuthChangedEmitter=new A.Emitter,this.onAuthExpTimeChangedEmitter=new A.Emitter,this.onSelfPrivilegeChangedEmitter=new A.Emitter,this.authRepository=new b(t,e),this.onAuthChanged=this.onAuthChangedEmitter.event,this.onAuthExpTimeChanged=this.onAuthExpTimeChangedEmitter.event,this.onSelfPrivilegeChanged=this.onSelfPrivilegeChangedEmitter.event}return t.prototype.fetchAuthExpTime=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.authRepository.fetchAuthExpTime()];case 1:return[2,t.sent()]}}))}))},t.prototype.changeAuthExpTime=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.authRepository.changeAuthExpTime(t)];case 1:return[2,e.sent()]}}))}))},t.prototype.fetchAuthInfo=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.authRepository.fetchAuthInfo()];case 1:return[2,t.sent()]}}))}))},t.prototype.changeAuthInfo=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.authRepository.changeAuthInfo(t)];case 1:return[2,e.sent()]}}))}))},t.prototype.fetchAuthInfoData=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.authRepository.fetchAuthInfoData(t)];case 1:return[2,e.sent()]}}))}))},t.prototype.fetchFolderAuth=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.authRepository.fetchFolderAuth(t)];case 1:return[2,e.sent()]}}))}))},t.prototype.changeFolderAuth=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.authRepository.changeFolderAuth(t)];case 1:return[2,e.sent()]}}))}))},t.prototype.fetchAuthConfig=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.authRepository.fetchAuthConfig()];case 1:return[2,t.sent()]}}))}))},t.prototype.onReceiveMessageFromServer=function(t,e){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.notifyRightChange(t)];case 1:return n.sent(),this.checkSelfPrivilege(e),[2]}}))}))},t.prototype.handleForDifferentActions=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e,n;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return e=t.seq,1!==t.action?[3,4]:t?void 0!==(n=t)[e]?[3,2]:[4,this.handleAuthChange()]:[3,3];case 1:return r.sent(),[3,3];case 2:delete n[e],r.label=3;case 3:return[3,7];case 4:return 2!==t.action?[3,5]:[3,7];case 5:return[4,this.handleExpInfoChange(t)];case 6:r.sent(),r.label=7;case 7:return[2]}}))}))},t.prototype.handleAuthChange=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t,e;return(0,r.__generator)(this,(function(n){switch(n.label){case 0:return this.isOwner?[4,this.fetchAuthInfo()]:[2];case 1:return 0===(t=n.sent()).resData.cgicode&&0===t.resData.retcode&&(e=t.resData.data,this.documentPrivilege=e.policy,this.memberList=e.memberList,this.onAuthChangedEmitter.fire({newDocumentPrivilege:this.documentPrivilege})),[2]}}))}))},t.prototype.handleExpInfoChange=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e,n;return(0,r.__generator)(this,(function(r){return this.checkExpTimeParams(t)&&(e=t.exptime-t.starttime)&&e>0&&(n=new E({expTime:t.exptime,remainTime:e,setTime:e,startTime:t.starttime}),this.onAuthExpTimeChangedEmitter.fire({newExpTime:n})),[2]}))}))},t.prototype.checkExpTimeParams=function(t){return"undefined"!==t.exptime&&"undefined"!==t.settime&&"undefined"!==t.starttime},t.prototype.checkSelfPrivilege=function(t){var e=this;t.sendMessage({cmd:"GET_PRIVILEGE",taskId:void 0,data:JSON.stringify({}),onsend:function(t,n,r,i){if(e.checkGetPrivilegeResult(i)){var o=i.response.onpost.privilege_attribute;e.checkDocPrivilegeChange(o)&&(e.selfDocPrivilege.canEdit=o.can_edit,e.selfDocPrivilege.canRead=o.can_read,e.selfDocPrivilege.canComment=o.can_comment,e.selfDocPrivilege.canCopy=o.can_copy,e.onSelfPrivilegeChangedEmitter.fire({newSelfPrivilege:e.selfDocPrivilege}))}},onError:function(){}})},t.prototype.checkGetPrivilegeResult=function(t){var e,n;return 0===t.errCode&&0===(null===(n=null===(e=t.response)||void 0===e?void 0:e.onpost)||void 0===n?void 0:n.result)},t.prototype.checkDocPrivilegeChange=function(t){return this.selfDocPrivilege.canEdit!==t.can_edit||this.selfDocPrivilege.canRead!==t.can_read||this.selfDocPrivilege.canComment!==t.can_comment||this.selfDocPrivilege.canCopy!==t.can_copy},t.prototype.notifyRightChange=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(n){switch(n.label){case 0:return!t||""!==t.payload&&null!==t.payload?[3,2]:[4,this.handleAuthChange()];case 1:case 3:return n.sent(),[2];case 2:return null===(e=JSON.parse(decodeURIComponent(t.payload)))?[2]:[4,this.handleForDifferentActions(e)]}}))}))},(0,r.__decorate)([(0,S.Hh)(),(0,S.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"fetchAuthExpTime",null),(0,r.__decorate)([(0,S.Hh)(),(0,S.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[String]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"changeAuthExpTime",null),(0,r.__decorate)([(0,S.Hh)(),(0,S.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"fetchAuthInfo",null),(0,r.__decorate)([(0,S.Hh)(),(0,S.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Object]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"changeAuthInfo",null),(0,r.__decorate)([(0,S.Hh)(),(0,S.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[String]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"fetchAuthInfoData",null),(0,r.__decorate)([(0,S.Hh)(),(0,S.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[String]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"fetchFolderAuth",null),(0,r.__decorate)([(0,S.Hh)(),(0,S.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Object]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"changeFolderAuth",null),(0,r.__decorate)([(0,S.Hh)(),(0,S.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"fetchAuthConfig",null),t=(0,r.__decorate)([(0,r.__param)(0,_.v),(0,r.__param)(1,v._),(0,r.__metadata)("design:paramtypes",[Object,Object])],t)}(),R=function(){function t(t,e){this.docMetaDomainService=t,this.networkRequestService=e}return t.prototype.setUserAuth=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e,n,i;return(0,r.__generator)(this,(function(o){switch(o.label){case 0:return e=(0,m.w$)(m.$W.xsrf)||"",n=(0,r.__assign)({xsrf:e},t),i=(0,w.At)(g,{xsrf:e}),[4,this.networkRequestService.instance.post(i,n)];case 1:return[2,o.sent()]}}))}))},t=(0,r.__decorate)([(0,r.__param)(0,_.v),(0,r.__param)(1,v._),(0,r.__metadata)("design:paramtypes",[Object,Object])],t)}(),M=function(){function t(t,e){this.docMetaDomainService=t,this.networkRequestService=e,this.collabAuthRepository=new R(t,e)}return t.prototype.setCollabUserAuth=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.collabAuthRepository.setUserAuth(t)];case 1:return[2,e.sent()]}}))}))},(0,r.__decorate)([(0,S.Hh)(),(0,S.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Object]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"setCollabUserAuth",null),t=(0,r.__decorate)([(0,r.__param)(0,_.v),(0,r.__param)(1,v._),(0,r.__metadata)("design:paramtypes",[Object,Object])],t)}(),D=function(){function t(t,e){this.docMetaDomainService=t,this.networkRequestService=e}return t.prototype.changeCorpShareAuthInfo=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e,n,i,o,a,s;return(0,r.__generator)(this,(function(c){switch(c.label){case 0:return e=t.uid,n=t.corpId,i=t.isOpen,o=t.canExternalApply,a=t.docCorpSharePolicy,s={user_info:{uid:e,corp_id:n},doc_id:this.docMetaDomainService.docMetaEntity.padInfo.padId,is_open:i,can_external_apply:o,uint32_policy:Math.round(Number(a||2)),xsrf:(0,m.w$)(m.$W.xsrf)},[4,this.networkRequestService.instance.post(h,(0,r.__assign)({},s))];case 1:return[2,c.sent()]}}))}))},t.prototype.fetchCorpShareAuthInfo=function(t,e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n;return(0,r.__generator)(this,(function(i){switch(i.label){case 0:return n={user_info:{uid:t,corp_id:e},doc_id:this.docMetaDomainService.docMetaEntity.padInfo.padId,xsrf:(0,m.w$)(m.$W.xsrf)},[4,this.networkRequestService.instance.post(l,(0,r.__assign)({},n))];case 1:return[2,i.sent()]}}))}))},t=(0,r.__decorate)([(0,r.__param)(0,_.v),(0,r.__param)(1,v._),(0,r.__metadata)("design:paramtypes",[Object,Object])],t)}(),P=function(){function t(t,e){this.docMetaDomainService=t,this.networkRequestService=e,this.corpShareAuthRepository=new D(t,e)}return t.prototype.fetchCorpShareAuthInfo=function(t,e){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.corpShareAuthRepository.fetchCorpShareAuthInfo(t,e)];case 1:return[2,n.sent()]}}))}))},t.prototype.changeCorpShareAuthInfo=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.corpShareAuthRepository.changeCorpShareAuthInfo(t)];case 1:return[2,e.sent()]}}))}))},(0,r.__decorate)([(0,S.Hh)(),(0,S.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[String,String]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"fetchCorpShareAuthInfo",null),(0,r.__decorate)([(0,S.Hh)(),(0,S.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Object]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"changeCorpShareAuthInfo",null),t=(0,r.__decorate)([(0,r.__param)(0,_.v),(0,r.__param)(1,v._),(0,r.__metadata)("design:paramtypes",[Object,Object])],t)}(),T=function(){function t(t,e){this.docMetaDomainService=t,this.networkRequestService=e,this.authInfoEntity=new x(t,e),this.corpShareAuthInfoEntity=new P(t,e),this.collabAuthInfoEntity=new M(t,e)}return t=(0,r.__decorate)([(0,r.__param)(0,_.v),(0,r.__param)(1,v._),(0,r.__metadata)("design:paramtypes",[Object,Object])],t)}(),k=n(18497),L=function(){function t(t,e){this.docMetaDomainService=t,this.networkRequestService=e,this.isInitedByBasicClientVars=!1,this.authAggregate=new T(t,e),window.basicClientVars&&this.initWithBasicClientVars(window.basicClientVars)}return t.prototype.updateWithClientVars=function(t){if(!this.isInitedByBasicClientVars){var e=function(t){var e={};if(t.privilegeAttribute){var n=t.privilegeAttribute,r=n.can_about,i=n.can_add_user,o=n.can_comment,a=n.can_copy,s=n.can_copy_doc,c=n.can_edit,u=n.can_edit_title,d=n.can_history,f=n.can_link_exp,p=n.can_print,l=n.can_read,h=n.can_search,g=n.can_share,v=n.can_spit_slot;e={canAbout:r,canAddUser:i,canComment:o,canCopy:a,canCopyDoc:s,canEdit:c,canEditTitle:u,canHistory:d,canLinkExp:f,canPrint:p,canRead:l,canSearch:h,canShare:g,canSpitSlot:v,canFeedback:v,canTranslate:n.can_translate,canViewImage:n.can_view_image,canWatermark:n.can_watermark,canApplyEdit:!!t.privilegeAttribute.can_apply_edit}}return e}(t);this.authAggregate.authInfoEntity.selfDocPrivilege=new C(e),this.authAggregate.authInfoEntity.isOwner=t.isOwner,this.authAggregate.authInfoEntity.selfRole=t.rightFlag,this.authAggregate.authInfoEntity.documentPrivilege=t.policy,this.authAggregate.authInfoEntity.selfDocAdvancedPrivilege=new O({readerCanComment:t.advPolicy.reader_can_comment,viewForbidCopyPrint:t.advPolicy.view_forbid_copy_print,writerCanComment:t.advPolicy.writer_can_comment})}},t.prototype.init=function(t){var e,n,i;return(0,r.__awaiter)(this,void 0,void 0,(function(){var o,a,s,c,u;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return o=t.docId,[4,this.authAggregate.authInfoEntity.fetchAuthInfoData(o)];case 1:return a=r.sent().resData,s=null===a||void 0===a?void 0:a.data.data,c=s.privilegeAttribute,u=s.advPolicy,this.authAggregate.authInfoEntity.isOwner=null!==(e=s.isOwner)&&void 0!==e&&e,this.authAggregate.authInfoEntity.selfRole=null!==(n=s.rightFlag)&&void 0!==n?n:0,this.authAggregate.authInfoEntity.documentPrivilege=null!==(i=s.policy)&&void 0!==i?i:0,this.authAggregate.authInfoEntity.selfDocPrivilege=new C({canAbout:null===c||void 0===c?void 0:c.canAbout,canAddUser:null===c||void 0===c?void 0:c.canAddUser,canComment:null===c||void 0===c?void 0:c.canComment,canCopy:null===c||void 0===c?void 0:c.canCopy,canCopyDoc:null===c||void 0===c?void 0:c.canCopyDoc,canEdit:null===c||void 0===c?void 0:c.canEdit,canEditTitle:null===c||void 0===c?void 0:c.canEditTitle,canHistory:null===c||void 0===c?void 0:c.canHistory,canLinkExp:null===c||void 0===c?void 0:c.canLinkExp,canPrint:null===c||void 0===c?void 0:c.canPrint,canRead:null===c||void 0===c?void 0:c.canRead,canSearch:null===c||void 0===c?void 0:c.canSearch,canShare:null===c||void 0===c?void 0:c.canShare,canSpitSlot:null===c||void 0===c?void 0:c.canSpitSlot,canFeedback:null===c||void 0===c?void 0:c.canSpitSlot,canTranslate:null===c||void 0===c?void 0:c.canTranslate,canViewImage:null===c||void 0===c?void 0:c.canViewImage,canWatermark:null===c||void 0===c?void 0:c.canWatermark,isPrivilegeExpired:!!s.privilegeExpire}),this.authAggregate.authInfoEntity.selfDocAdvancedPrivilege=new O({readerCanComment:null===u||void 0===u?void 0:u.reader_can_comment,viewForbidCopyPrint:null===u||void 0===u?void 0:u.view_forbid_copy_print,writerCanComment:null===u||void 0===u?void 0:u.writer_can_comment}),[2]}}))}))},t.prototype.initWithBasicClientVars=function(t){var e,n,r,i,o,a,s,c,u,d,f,p,l=function(t){var e;return(null===(e=t.authInfo)||void 0===e?void 0:e.privilege)?{canAbout:t.authInfo.privilege.canAbout,canAddUser:t.authInfo.privilege.canAddUser,canComment:t.authInfo.privilege.canComment,canCopy:t.authInfo.privilege.canCopy,canCopyDoc:t.authInfo.privilege.canCopyDoc,canEdit:t.authInfo.privilege.canEdit,canEditTitle:t.authInfo.privilege.canEditTitle,canHistory:t.authInfo.privilege.canViewHistory,canLinkExp:t.authInfo.privilege.canSetLinkExp,canPrint:t.authInfo.privilege.canPrint,canRead:t.authInfo.privilege.canView,canSearch:t.authInfo.privilege.canSearch,canShare:t.authInfo.privilege.canShare,canSpitSlot:t.authInfo.privilege.canFeedback,canFeedback:t.authInfo.privilege.canFeedback,canTranslate:t.authInfo.privilege.canTranslate,canViewImage:t.authInfo.privilege.canViewImage,canWatermark:t.authInfo.privilege.canWatermark,isPrivilegeExpired:t.authInfo.isPrivilegeExpired}:{}}(t);this.authAggregate.authInfoEntity.isOwner=null!==(n=null===(e=t.docInfo)||void 0===e?void 0:e.isOwner)&&void 0!==n&&n,this.authAggregate.authInfoEntity.selfRole=null!==(i=null===(r=t.authInfo)||void 0===r?void 0:r.privilegeFlag)&&void 0!==i?i:0,this.authAggregate.authInfoEntity.documentPrivilege=null!==(a=null===(o=t.authInfo)||void 0===o?void 0:o.policy)&&void 0!==a?a:0,this.authAggregate.authInfoEntity.selfDocPrivilege=new C(l),this.authAggregate.authInfoEntity.selfDocAdvancedPrivilege=new O({readerCanComment:null===(c=null===(s=t.authInfo)||void 0===s?void 0:s.advPolicy)||void 0===c?void 0:c.canReaderComment,viewForbidCopyPrint:null===(d=null===(u=t.authInfo)||void 0===u?void 0:u.advPolicy)||void 0===d?void 0:d.viewForbidCopyPrint,writerCanComment:null===(p=null===(f=t.authInfo)||void 0===f?void 0:f.advPolicy)||void 0===p?void 0:p.canWriterComment}),this.isInitedByBasicClientVars=!0},(0,r.__decorate)([(0,k.u)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Object]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"init",null),(0,r.__decorate)([(0,S.aU)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Object]),(0,r.__metadata)("design:returntype",void 0)],t.prototype,"initWithBasicClientVars",null),t=(0,r.__decorate)([(0,r.__param)(0,_.v),(0,r.__param)(1,v._),(0,r.__metadata)("design:paramtypes",[Object,Object])],t)}()},8381:function(t,e,n){n.d(e,{HX:function(){return o},fq:function(){return a},jF:function(){return i}});var r=n(98623);function i(t){return t.retcode||t.code||0}function o(t){return t.msg||t.message||t.retmsg||""}function a(t,e){var n;void 0===e&&(e=!0);var a=t.error,s=t.data;if(a)return{error:a,resData:null};var c={data:e&&s?(0,r.MO)(s):s,retcode:i(s),msg:o(s),cgicode:null!==(n=s.cgicode)&&void 0!==n?n:0};return delete s.msg,delete s.message,delete s.retcode,delete s.code,delete s.cgicode,delete s.ret,{resData:c}}},59114:function(t,e,n){n.d(e,{S:function(){return i}});var r=n(25490),i=function(t){function e(e){var n=t.call(this)||this;return n.vipLevel=1,n.avatarFrameUrl="",n.renewalStatus=0,n.jsonObj2Class(e),n}return(0,r.__extends)(e,t),e}(n(68124).K)},28612:function(t,e,n){n.d(e,{HL:function(){return a},Hf:function(){return o},RP:function(){return l},aP:function(){return f},bd:function(){return p},d0:function(){return s},jo:function(){return c},rW:function(){return u},yQ:function(){return d}});var r=n(5824),i=n(58119),o="//".concat((0,i.XF)()),a="".concat(o,"/cgi-bin/online_docs/"),s="".concat(o,"/cgi-bin/api/"),c="".concat(o,"/cgi-go/"),u="".concat(o,"/v2/"),d="".concat(o,"/v3/"),f="".concat(o,"/cgi-go/"),p="//".concat(r.qe),l="//".concat(r.Cs)},24389:function(t,e,n){var r;n.d(e,{Z:function(){return r}}),function(t){t[t.SUCCESS=0]="SUCCESS",t[t.NO_PERMISSION=10003]="NO_PERMISSION"}(r||(r={}))},23709:function(t,e,n){n.d(e,{Z:function(){return i}});var r=n(25490),i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.aggregateVersion=0,e.aggregateIsDeleted=!1,e}return(0,r.__extends)(e,t),e.prototype.version=function(){return this.aggregateVersion},e.prototype.isDeleted=function(){return this.aggregateIsDeleted},e}(n(44152).J)},65558:function(t,e,n){n.d(e,{V:function(){return o}});var r=n(90011),i=n(40178),o=function(){function t(){}return t.prototype.jsonObj2Class=function(e,n){var i=this;e?Object.keys(e).forEach((function(o){var a=o;n||(a=(0,r.rI)(o)),Object.prototype.hasOwnProperty.call(i,a)&&(i[a]instanceof t?i[a].jsonObj2Class(e[o]):i[a]=e[o])})):t.logger.debug("params erroro: jsonObj2Class")},t.prototype.class2JsonObj=function(e){var n=this,i={};return Object.keys(this).forEach((function(o){if("id"!==o){var a=o;e||(a=(0,r.IM)(o)),n[o]instanceof t&&(i[a]=n[o].class2JsonObj(e)),i[a]=n[o]}})),i},t.logger=new i.Yd("DDBase").use("console"),t}()},44152:function(t,e,n){n.d(e,{J:function(){return i}});var r=n(25490),i=function(t){function e(e){var n=t.call(this)||this;return n.id=e,n}return(0,r.__extends)(e,t),e.prototype.initWithJsonObj=function(t){this.jsonObj2Class(t)},e.prototype.jsonObj=function(){return this.class2JsonObj()},e.prototype.getIdentity=function(){return this.id},e.prototype.equals=function(t){return null!==t&&(this===t||this.getIdentity()===t.getIdentity())},e}(n(65558).V)},68124:function(t,e,n){n.d(e,{K:function(){return i}});var r=n(25490),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.__extends)(e,t),e.prototype.jsonObj=function(){return this.class2JsonObj()},e.prototype.equals=function(t){var n,i,o=Object.keys(this);try{for(var a=(0,r.__values)(o),s=a.next();!s.done;s=a.next()){var c=s.value;if(this[c]instanceof e){if(!this[c].equals(t[c]))return!1}else if(this[c]!==t[c])return!1}}catch(u){n={error:u}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return!0},e.prototype.clone=function(){var t=Reflect.getPrototypeOf(this);return Reflect.construct(t.constructor,[this.jsonObj()])},e}(n(65558).V)},58257:function(t,e,n){n.d(e,{BX:function(){return h},CK:function(){return I},EL:function(){return _},FY:function(){return y},GT:function(){return p},Hh:function(){return m},LD:function(){return b},Vo:function(){return f},aU:function(){return E},bj:function(){return d},rx:function(){return g},sv:function(){return v},w1:function(){return w}});var r=n(25490),i=n(68124),o=n(98623),a=n(40178),s=n(8381),c=n(90011),u=new a.Yd("domain").use("console");function d(){return function(t,e,n){var i=n.value;n.value=function(){for(var n,o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return(0,r.__awaiter)(this,void 0,void 0,(function(){var a,c,d;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,i.apply(this,o)];case 1:return a=r.sent().data,c={data:a,retcode:(0,s.jF)(a),msg:(0,s.HX)(a),cgicode:null!==(n=a.cgicode)&&void 0!==n?n:0},delete a.msg,delete a.message,delete a.retmsg,delete a.retcode,delete a.code,delete a.cgicode,delete a.ret,[2,{resData:c}];case 2:return d=r.sent(),u.error("".concat(t.constructor.name,"|").concat(e,"|").concat(d)),[2,{error:d,resData:{}}];case 3:return[2]}}))}))}}}function f(){return function(t,e,n){var i=n.value;n.value=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return(0,r.__awaiter)(this,void 0,void 0,(function(){var o;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,i.apply(this,n)];case 1:return[2,{data:r.sent().data}];case 2:return o=r.sent(),u.error("".concat(t.constructor.name,"|").concat(e,"|").concat(o)),[2,{error:o,data:{}}];case 3:return[2]}}))}))}}}function p(t,e){return function(n,i,o){u.debug("praseHeaderKey2DataHandler|".concat(n.constructor.name,"|").concat(i,"|").concat(t));var a=o.value;o.value=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return(0,r.__awaiter)(this,void 0,void 0,(function(){var i,o,s;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return[4,a.apply(this,n)];case 1:return i=r.sent(),o=i.data,s=i.headers,o&&s&&s[t]&&(o[e]=s[t]),[2,i]}}))}))}}}function l(t,e){return t.prototype instanceof i.K?Reflect.construct(t,[e]):Reflect.construct(t,["mainEntity"]).initWithJsonObj(e)}function h(t,e){return function(n,i,o){u.debug("fireEvent|".concat(n.constructor.name,"|").concat(i));var a=o.value;o.value=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return(0,r.__awaiter)(this,void 0,void 0,(function(){var i,o;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return[4,a.apply(this,n)];case 1:return(i=r.sent()).resData&&(0,c.zk)(i.resData)&&((o={})[e]=this[e],this[t].fire(o)),[2,i]}}))}))}}}function g(){return function(t,e,n){u.debug("changeSuperVipData|".concat(t.constructor.name,"|").concat(e));var i=n.value;n.value=function(){for(var t,e,n,o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return(0,r.__awaiter)(this,void 0,void 0,(function(){var a,s,c;return(0,r.__generator)(this,(function(u){switch(u.label){case 0:return[4,i.apply(this,o)];case 1:return(a=u.sent()).error?[2,a]:((s=null!==(n=null===(e=null===(t=a.resData)||void 0===t?void 0:t.data)||void 0===e?void 0:e.vip_info)&&void 0!==n?n:{}).super_vip=null===s||void 0===s?void 0:s.super,(c=(0,r.__assign)({},a.resData)).data.vip_info=s,[2,{resData:c}])}}))}))}}}function v(t,e){return function(n,o,a){u.debug("parseObjectData|".concat(n.constructor.name,"|").concat(o));var s=a.value;a.value=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return(0,r.__awaiter)(this,void 0,void 0,(function(){var o;return(0,r.__generator)(this,(function(a){switch(a.label){case 0:return[4,s.apply(this,n)];case 1:return(o=a.sent()).error?[2,o]:(this.aggregateVersion=this.aggregateVersion+1,t.prototype instanceof i.K?this[e]=l(t,o.resData.data):this[e].initWithJsonObj(o.resData.data),[2,{resData:(0,r.__assign)((0,r.__assign)({},o.resData),{data:this[e]})}])}}))}))}}}function y(t,e,n){return function(i,o,a){u.debug("parseArrayData|".concat(i.constructor.name,"|").concat(o));var s=a.value;a.value=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return(0,r.__awaiter)(this,void 0,void 0,(function(){var o,a=this;return(0,r.__generator)(this,(function(c){switch(c.label){case 0:return[4,s.apply(this,i)];case 1:return(o=c.sent()).error?[2,o]:(this.aggregateVersion=this.aggregateVersion+1,(o.resData.data[n]||[]).forEach((function(n){a[e].push(l(t,n))})),[2,{resData:(0,r.__assign)((0,r.__assign)({},o.resData),{data:this[e]})}])}}))}))}}}function _(t,e,n,i){return function(o,a,s){u.debug("parseArrayDataInObject|".concat(o.constructor.name,"|").concat(a));var c=s.value;s.value=function(){for(var o,a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return(0,r.__awaiter)(this,void 0,void 0,(function(){var s,u,d=this;return(0,r.__generator)(this,(function(f){switch(f.label){case 0:return[4,c.apply(this,a)];case 1:return(s=f.sent()).error?[2,s]:(this.aggregateVersion=this.aggregateVersion+1,null===(u=(null===(o=s.resData.data[n])||void 0===o?void 0:o[i])||[])||void 0===u||u.forEach((function(n){d[e].push(l(t,n))})),[2,{resData:(0,r.__assign)((0,r.__assign)({},s.resData),{data:this[e]})}])}}))}))}}}function m(){return function(t,e,n){u.debug("dataFieldNamingHandler|".concat(t.constructor.name,"|").concat(e));var i=n.value;n.value=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(0,r.__awaiter)(this,void 0,void 0,(function(){var n;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return[4,i.apply(this,e)];case 1:return n=r.sent(),(null===(t=n.resData)||void 0===t?void 0:t.data)&&(n.resData.data=(0,o.MO)(n.resData.data)),[2,n]}}))}))}}}function w(){return function(t,e,n){u.debug("paramsFieldNamingHandler|".concat(t.constructor.name,"|").concat(e));var i=n.value;n.value=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,r.__awaiter)(this,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(n){switch(n.label){case 0:return t.length?[3,2]:[4,i.apply(this,[])];case 1:case 3:return[2,n.sent()];case 2:return e=[(0,o.P1)(t[0])],[4,i.apply(this,e)]}}))}))}}}function b(){return function(t,e,n){u.debug("parseResBody|".concat(t.constructor.name,"|").concat(e));var i=n.value;n.value=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,r.__awaiter)(this,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(n){switch(n.label){case 0:return[4,i.apply(this,t)];case 1:return(e=n.sent()).error?[2,e]:[2,{resData:(0,r.__assign)((0,r.__assign)({},e.resData),{data:(0,r.__assign)({},e.resData.data.body)})}]}}))}))}}}function I(t){return function(e,n,i){u.debug("parseResBody|".concat(e.constructor.name,"|").concat(n));var o=i.value;i.value=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(0,r.__awaiter)(this,void 0,void 0,(function(){var n;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return[4,o.apply(this,e)];case 1:return(n=r.sent()).error||this[t](e),[2,n]}}))}))}}}function E(t){return function(e,n,r){u.debug("parseResBody|".concat(e.constructor.name,"|").concat(n));var i=r.value;return r.value=function(){for(var r,o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];try{r=i.apply(this,o)}catch(s){u.error("tryCatchHandler caught error from ".concat(e.constructor.name,"|").concat(n,". Error detail: ").concat(s)),r=t}return r||void 0},r}}u.level="OFF"},52068:function(t,e,n){n.d(e,{_:function(){return r}});var r=(0,n(76138).yh)("INetworkRequestService")},80744:function(t,e,n){n.d(e,{L:function(){return i}});var r=n(83871),i=function(){this.instance=r.networkRequest}},90011:function(t,e,n){n.d(e,{B8:function(){return g},CY:function(){return f},DN:function(){return d},IM:function(){return i},KV:function(){return v},Pc:function(){return s},bk:function(){return p},fQ:function(){return c},kI:function(){return h},pT:function(){return l},rI:function(){return o},s4:function(){return u},zk:function(){return a}});var r=n(19780);function i(t){return t.length<1?t:(t[0].toLowerCase()+t.substr(1)).replace(/([A-Z])/g,(function(t){return"_".concat(t.toLowerCase())}))}function o(t){for(var e=t.split("_"),n="",r=0;r<e.length;r++){var i=e[r];i.length>0&&(n+=0===r?i:i="".concat(i[0].toUpperCase()).concat(i.substring(1)))}return n}function a(t){return!!t&&0===t.retcode&&0===t.cgicode}function s(t){return t||""}function c(t){return t||0}function u(){return(0,r.ej)("p_lskey")}function d(){return(0,r.ej)("p_skey")}function f(){return(0,r.ej)("vfwebqq")||""}function p(t){var e=new FormData;return Object.keys(t).forEach((function(n){e.set(n,t[n])})),e}function l(t){var e=new FormData;return Object.keys(t).forEach((function(n){void 0!==t[n]&&e.set(n,t[n])})),e}function h(t){var e=new URLSearchParams;return Object.keys(t).forEach((function(n){void 0!==t[n]&&e.set(n,t[n])})),e}function g(t,e){return["0",""].includes(t)?e:"".concat(t,"$").concat(e)}function v(t,e){void 0===e&&(e=void 0);try{return JSON.parse(t)}catch(n){return e}}},11783:function(t,e,n){n.d(e,{e:function(){return r}});var r=(0,n(76138).yh)("IDomainUpdater")},93704:function(t,e,n){n.d(e,{d:function(){return u}});var r=n(25490),i=n(37362),o=function(){function t(){}return t.getLevel1MapInfo=function(t,e,n){return{domainId:t.docMetaEntity.padInfo.domainId,padId:t.docMetaEntity.padInfo.padId,type:t.docMetaEntity.padInfo.type,padType:t.docMetaEntity.padInfo.padType,shareLink:t.docMetaEntity.padInfo.shareLink,docStatus:t.docMetaEntity.padInfo.docStatus,globalPadId:t.docMetaEntity.padInfo.globalPadId,lastModifyUser:t.docMetaEntity.padInfo.lastModifyUser,lastModifyTime:t.docMetaEntity.padInfo.lastModifyTime,metaCreateTime:t.docMetaEntity.createInfo.metaCreateTime,creatorId:t.docMetaEntity.createInfo.creatorId,creatorNick:t.docMetaEntity.createInfo.creatorNick,creatorDomain:t.docMetaEntity.createInfo.creatorDomain,isCreator:t.docMetaEntity.createInfo.isCreator,ownerId:t.docMetaEntity.ownerInfo.ownerId,ownerNick:t.docMetaEntity.ownerInfo.ownerNick,ownerAppid:t.docMetaEntity.ownerInfo.ownerAppid,officialAuthInfo:t.docMetaEntity.ownerInfo.officialAuthInfo,padTitle:t.docMetaEntity.titleInfo.title,title:t.docMetaEntity.titleInfo.title,isUserChangeTitle:t.docMetaEntity.titleInfo.isUserChangeTitle,rightFlag:e.authAggregate.authInfoEntity.selfRole,isOwner:e.authAggregate.authInfoEntity.isOwner,tinyid:n.userInfoAggregate.userInfo.tinyid,userName:n.userInfoAggregate.userInfo.nick,userPic:n.userInfoAggregate.userInfo.avatar,userType:n.userInfoAggregate.userInfo.loginType,userId:n.userInfoAggregate.userInfo.uid,uin:n.userInfoAggregate.userInfo.uin}},t.getLevel2PrivilegeMapInfo=function(t){var e=t.authAggregate.authInfoEntity.selfDocPrivilege;return{can_copy:e.canCopy,can_print:e.canPrint,can_history:e.canHistory,can_read:e.canRead,can_edit_title:e.canEditTitle,can_search:e.canSearch,can_add_user:e.canAddUser,can_view_image:e.canViewImage,can_edit:e.canEdit,can_share:e.canShare,can_comment:e.canComment,can_about:e.canAbout,can_spit_slot:e.canSpitSlot,can_watermark:e.canWatermark,can_translate:e.canTranslate,can_link_exp:e.canLinkExp,can_copy_doc:e.canCopyDoc}},t.getLevel2AdvPolicyMapInfo=function(t){var e=t.authAggregate.authInfoEntity.selfDocAdvancedPrivilege;return{reader_can_comment:e.readerCanComment,view_forbid_copy_print:e.viewForbidCopyPrint,writer_can_comment:e.writerCanComment}},t}(),a=function(){function t(){}return t.createClientVarsToDomainProxy=function(e,n,r,i){t.createLevel2PrivilegeProxy(n,i),t.createLevel2AdvPolicyProxy(n,i),t.createLevel1Proxy(e,n,r,i)},t.getProxyHandler=function(t){return{get:function(e,n){return Object.keys(t).includes(n)?t[n]:e[n]},set:function(e,n,r){return Object.keys(t).includes(n)?t[n]=r:e[n]=r,!0}}},t.createLevel1Proxy=function(e,r,i,a){var s=a,c=o.getLevel1MapInfo(e,r,i),u=t.getProxyHandler(c);n.g.clientVars=new Proxy(s,u)},t.createLevel2PrivilegeProxy=function(e,n){var r=n,i=o.getLevel2AdvPolicyMapInfo(e),a=t.getProxyHandler(i);r.privilegeAttribute=new Proxy(n.privilegeAttribute||{},a)},t.createLevel2AdvPolicyProxy=function(e,n){var r=n,i=o.getLevel2AdvPolicyMapInfo(e),a=t.getProxyHandler(i);r.advPolicy=new Proxy(r.advPolicy,a)},t}(),s=n(96501),c=n(55126),u=function(){function t(t,e,n){this.docMetaDomainService=t,this.authDomainService=e,this.userInfoDomainService=n}return t.prototype.updateDomainWithClientVars=function(t,e){void 0===e&&(e=!1),this.docMetaDomainService.updateWithClientVars(t),this.authDomainService.updateWithClientVars(t),this.userInfoDomainService.updateWithClientVars(t),e&&a.createClientVarsToDomainProxy(this.docMetaDomainService,this.authDomainService,this.userInfoDomainService,t)},t.prototype.updateDomainWithRequests=function(t){this.docMetaDomainService.init(t),this.authDomainService.init(t),this.userInfoDomainService.init(t)},t=(0,r.__decorate)([(0,r.__param)(0,s.v),(0,r.__param)(1,i.i),(0,r.__param)(2,c.m),(0,r.__metadata)("design:paramtypes",[Object,Object,Object])],t)}()},16348:function(t,e,n){n.d(e,{U:function(){return r}});var r=(0,n(76138).yh)("ICollaborateDomainService")},57354:function(t,e,n){n.d(e,{u:function(){return E}});var r=n(25490),i=n(23709),o=n(58257),a=n(90011),s=n(28612),c="".concat(s.Hf,"/sdc/getusermarkname"),u=n(96501),d=n(83871),f=n(19780),p=n(45146),l=n(45301),h=function(){function t(t){this.docMetaDomainService=t}return t.prototype.getUserMarkName=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e,n,i;return(0,r.__generator)(this,(function(r){return e=(0,p.isArray)(t)?Array.from(t).join(","):"".concat(t),n={uids:"[".concat(e,"]"),xsrf:"".concat((0,f.w$)(f.$W.xsrf)),domainId:this.docMetaDomainService.docMetaEntity.padInfo.domainId,localPadId:this.docMetaDomainService.docMetaEntity.padInfo.padId},i=(0,l.At)(c,n),[2,d.networkRequest.get(i)]}))}))},t=(0,r.__decorate)([(0,r.__param)(0,u.v),(0,r.__metadata)("design:paramtypes",[Object])],t)}(),g=n(55126),v=n(38516),y=n(59114),_=function(t){function e(e){var n=t.call(this)||this;return n.userId="",n.markName="",n.userPic="",n.colorId="",n.status="",n.sessionType=0,n.uin="",n.uuid="",n.userType=1,n.vipInfo=new y.S({}),n.jsonObj2Class(e),n}return(0,r.__extends)(e,t),e}(n(68124).K);function m(t){return!!t&&!!t.startsWith("p.")}function w(t){return t.includes(".")?t.split(".")[1]:t}var b=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.docMetaDomainService=n,i.userInfoDomainService=r,i.collaborateList=[],i.currentMemCount=0,i.collabAllInfoList=[],i.throttleInterval=0,i.collaborateCacheMap=new Map,i.onCollabAllInfoListUpdatedEmitter=new v.Emitter,i.onCommercializeMessageEmitter=new v.Emitter,i.onUserComeInEmitter=new v.Emitter,i.onUserLeaveEmitter=new v.Emitter,i.needRequestUids=new Set,i.onCollabAllInfoListUpdated=i.onCollabAllInfoListUpdatedEmitter.event,i.onCommercializeMessage=i.onCommercializeMessageEmitter.event,i.onUserComeIn=i.onUserComeInEmitter.event,i.onUserLeave=i.onUserLeaveEmitter.event,i.collaborateRepository=new h(n),i}return(0,r.__extends)(e,t),e.prototype.handleCommercializeMessage=function(t){this.onCommercializeMessageEmitter.fire(t)},e.prototype.handleUserComeIn=function(t){var e,n=this;null===(e=t.notices)||void 0===e||e.forEach((function(t){n.appendNoticeTo(t)})),this.currentMemCount=this.collaborateList.length,this.onUserComeInEmitter.fire(t),this.processUserEnterEvent(t)},e.prototype.handleUserLeave=function(t){var e,n=this;null===(e=t.notices)||void 0===e||e.forEach((function(t){n.collaborateList=n.collaborateList.filter((function(e){return e.userId!==t.userId}))})),this.currentMemCount=this.collaborateList.length,this.onUserLeaveEmitter.fire(t),this.processUserLeaveEvent(t)},e.prototype.getUserMarkName=function(t,e){var n,i;return void 0===e&&(e=!1),(0,r.__awaiter)(this,void 0,void 0,(function(){var o,a,s,c,u,d,f;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return e?[4,this.collaborateRepository.getUserMarkName(t)]:[3,2];case 1:return o=r.sent(),this.setUserMarkItemToCache(o),[2,o];case 2:return a=this.getUserMarkItemFromCache(t),s=a.unCachedIds,c=a.cachedResult,0===s.length?[2,{data:{cgicode:0,retcode:0,result:{rsp:c}},status:200,statusText:""}]:m(this.userInfoDomainService.userInfoAggregate.userInfo.userId)?[4,this.collaborateRepository.getUserMarkName(s)]:[2,{data:{cgicode:0,retcode:0,result:{rsp:[]}},status:200,statusText:""}];case 3:return u=r.sent(),this.setUserMarkItemToCache(u),(null===(i=null===(n=u.data)||void 0===n?void 0:n.result)||void 0===i?void 0:i.rsp)&&(d=u.data.result.rsp,f=void 0===d?[]:d,u.data.result.rsp=f.concat(c)),[2,u]}}))}))},e.prototype.getUserMarkItemFromCache=function(t){var e=this,n=[],r=[];return((0,p.isArray)(t)?t:[t]).forEach((function(t){var i=e.getSingleUserMarkItemFromCache(t),o=i.cachedResult,a=i.unCachedIds;n=n.concat(a),r=r.concat(o)})),{unCachedIds:n,cachedResult:r}},e.prototype.getSingleUserMarkItemFromCache=function(t){var e=this.collaborateCacheMap.get(t);return e?{unCachedIds:[],cachedResult:[e]}:{unCachedIds:[t],cachedResult:[]}},e.prototype.setUserMarkItemToCache=function(t){var e,n,r,i,o=this;0===(null===(e=null===t||void 0===t?void 0:t.data)||void 0===e?void 0:e.retcode)&&(null!==(i=null===(r=null===(n=t.data)||void 0===n?void 0:n.result)||void 0===r?void 0:r.rsp)&&void 0!==i?i:[]).forEach((function(t){(null===t||void 0===t?void 0:t.reqUid)&&o.collaborateCacheMap.set(t.reqUid,t)}))},e.prototype.appendNoticeTo=function(t){this.collaborateList.find((function(e){return e.userId===t.userId}))||this.collaborateList.push(t)},e.prototype.processUserEnterEvent=function(t){var e=this,n=!1;null===t||void 0===t||t.notices.forEach((function(t){var i=w(t.userId);if(!m(e.userInfoDomainService.userInfoAggregate.userInfo.userId))return e.checkAdd2CollaborateList({uid:i,userId:i,sessionType:t.sessionType,uuid:t.uuId},!0),void(n=!0);if(!e.collabAllInfoList.find((function(t){return t.userId===i}))){if(!m(t.userId)){var o={uid:i,userId:i,sessionType:t.sessionType,uuid:t.uuId};return e.checkAdd2CollaborateList(o,!0),void(n=!0)}if(e.collaborateCacheMap.has(i)){var s=e.collaborateCacheMap.get(i);return e.checkAdd2CollaborateList((0,r.__assign)((0,r.__assign)({},s),{vipInfo:(0,a.KV)(t.vipInfo,{})}),!1),void(n=!0)}e.needRequestUids.add(i)}})),n&&this.onCollabAllInfoListUpdatedEmitter.fire({collabAllInfoList:this.collabAllInfoList}),m(this.userInfoDomainService.userInfoAggregate.userInfo.userId)&&this.throttleGetUserMarkname()},e.prototype.throttleGetUserMarkname=function(){var t=this;this.throttleTimer||(this.innerGetUserMarkName(),this.throttleTimer=setInterval((function(){t.innerGetUserMarkName()}),this.throttleInterval||6e4))},e.prototype.processUserLeaveEvent=function(t){var e=this;null===t||void 0===t||t.notices.forEach((function(t){var n=w(t.userId);e.collabAllInfoList=e.collabAllInfoList.filter((function(t){return t.userId!==n})),m(t.userId)&&e.needRequestUids.delete(n)})),this.onCollabAllInfoListUpdatedEmitter.fire({collabAllInfoList:this.collabAllInfoList})},e.prototype.innerGetUserMarkName=function(){var t;return(0,r.__awaiter)(this,void 0,void 0,(function(){var n,i,o,a=this;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:if(0===this.needRequestUids.size)return[2];r.label=1;case 1:return r.trys.push([1,3,,4]),n=Array.from(this.needRequestUids).join(","),[4,this.collaborateRepository.getUserMarkName(n)];case 2:if(i=r.sent(),0===(null===(t=i.data)||void 0===t?void 0:t.retcode)){if(!(o=i.data.result.rsp))return[2];o.forEach((function(t){a.collaborateCacheMap.set(t.reqUid,t),a.needRequestUids.has(t.reqUid)&&(a.checkAdd2CollaborateList(t,!1),a.needRequestUids.delete(t.reqUid))})),this.onCollabAllInfoListUpdatedEmitter.fire({collabAllInfoList:this.collabAllInfoList})}return[3,4];case 3:return r.sent(),e.logger.error("handleUserComeIn request error"),[3,4];case 4:return[2]}}))}))},e.prototype.checkAdd2CollaborateList=function(t,e){var n,i=(0,r.__assign)((0,r.__assign)((0,r.__assign)({},t),t.userId?null:{userId:null!==(n=t.reqUid)&&void 0!==n?n:""}),{userType:e?1:2});this.collabAllInfoList.find((function(t){return t.userId===i.userId}))||this.collabAllInfoList.push(new _(i))},(0,r.__decorate)([(0,o.Hh)(),(0,o.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Object,Object]),(0,r.__metadata)("design:returntype",Promise)],e.prototype,"getUserMarkName",null),e=(0,r.__decorate)([(0,r.__param)(1,u.v),(0,r.__param)(2,g.m),(0,r.__metadata)("design:paramtypes",[String,Object,Object])],e)}(i.Z),I=n(18497),E=function(){function t(t,e){this.docMetaDomainService=t,this.userInfoDomainService=e,this.collaborateAggregate=new b("mainUserInfoAggregate",this.docMetaDomainService,this.userInfoDomainService)}return t.prototype.init=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.docMetaDomainService.init(t)];case 1:return e.sent(),[2]}}))}))},(0,r.__decorate)([(0,I.u)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Object]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"init",null),t=(0,r.__decorate)([(0,r.__param)(0,u.v),(0,r.__param)(1,g.m),(0,r.__metadata)("design:paramtypes",[Object,Object])],t)}()},5824:function(t,e,n){n.d(e,{$8:function(){return p},Cs:function(){return s},LC:function(){return h},Sc:function(){return o},gH:function(){return i},gN:function(){return g},i4:function(){return u},kC:function(){return a},l8:function(){return f},n0:function(){return v},qe:function(){return c},rH:function(){return l},zC:function(){return d}});var r=n(93812).L.getConfig('npm["@tencent/ark-domain"]'),i=window.location.host,o=(null===r||void 0===r?void 0:r.WECHAT_WEBVIEW_LOGIN)||"https://docs.qq.com/scenario/h5auth.html",a=(null===r||void 0===r?void 0:r.LOGIN_PAGE_URL)||"https://docs.qq.com/login.html",s=(null===r||void 0===r?void 0:r.TOC_HOST)||"docs.qq.com",c=(null===r||void 0===r?void 0:r.TOB_HOST)||"doc.weixin.qq.com",u=(null===r||void 0===r?void 0:r.DOCS_WW_LOGIN)||"https://docs.qq.com/scenario/ww-login.html",d=(null===r||void 0===r?void 0:r.OPEN_WEIXIN_AUTHORIZE)||"https://open.weixin.qq.com/connect/oauth2/authorize",f=(null===r||void 0===r?void 0:r.TOB_TARGET_ORIGIN)||"https://doc.weixin.qq.com",p=(null===r||void 0===r?void 0:r.TOB_IFRAME_URL_ACCOUNT_LIST)||"https://doc.weixin.qq.com/tim/docs/components/IfameManageAccountListToC.html",l=(null===r||void 0===r?void 0:r.TOB_IFRAME_URL_SET_COOKIE)||"https://doc.weixin.qq.com/scenario/iframe-to-b-set-cookie.html",h=(null===r||void 0===r?void 0:r.TOC_TARGET_ORIGIN)||"https://docs.qq.com",g=(null===r||void 0===r?void 0:r.TOC_IFRAME_URL_ACCOUNT_LIST)||"https://docs.qq.com/components/feature/IframeToManageAccountList.html",v=(null===r||void 0===r?void 0:r.TOC_IFRAME_URL_SET_COOKIE)||"https://docs.qq.com/scenario/iframe-to-c-set-cookie.html"},3386:function(t,e,n){n.d(e,{G:function(){return r}});var r=(0,n(76138).yh)("IFileDomainService")},41863:function(t,e,n){n.d(e,{v:function(){return m}});var r=n(25490),i=n(58257),o=n(80744),a=n(52068),s=n(90011),c=n(28612),u="".concat(c.HL,"doc_collect"),d="".concat(c.HL,"doc_getcollect"),f="".concat(c.HL,"createdoc_new"),p="".concat(c.HL,"doc_recover"),l="".concat(c.HL,"doc_humtrans"),h="".concat(c.jo,"can/move"),g=n(19780),v=n(45301),y=function(){function t(t){this.networkRequestService=t}return t.prototype.collect=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(n){return e=(0,s.bk)((0,r.__assign)((0,r.__assign)({},t),{xsrf:(0,g.w$)(g.$W.xsrf)})),[2,this.networkRequestService.instance.post(u,e)]}))}))},t.prototype.getDocCollect=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e,n;return(0,r.__generator)(this,(function(i){return e=(0,r.__assign)((0,r.__assign)({},t),{xsrf:"".concat((0,g.w$)(g.$W.xsrf))}),n=(0,v.At)(d,e),[2,this.networkRequestService.instance.get(n)]}))}))},t.prototype.createDoc=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(n){return e=(0,s.bk)((0,r.__assign)((0,r.__assign)({},t),{xsrf:(0,g.w$)(g.$W.xsrf)})),[2,this.networkRequestService.instance.post(f,e)]}))}))},t.prototype.recover=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(n){return e=(0,s.bk)((0,r.__assign)((0,r.__assign)({},t),{xsrf:(0,g.w$)(g.$W.xsrf)})),[2,this.networkRequestService.instance.post(p,e)]}))}))},t.prototype.docHumtrans=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(n){return e=(0,s.bk)((0,r.__assign)((0,r.__assign)({},t),{xsrf:(0,g.w$)(g.$W.xsrf)})),[2,this.networkRequestService.instance.post(l,e)]}))}))},t.prototype.canMove=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e,n;return(0,r.__generator)(this,(function(i){return e=(0,r.__assign)((0,r.__assign)({},t),{xsrf:"".concat((0,g.w$)(g.$W.xsrf))}),n=(0,v.At)(h,e),[2,this.networkRequestService.instance.get(n)]}))}))},t=(0,r.__decorate)([(0,r.__param)(0,a._),(0,r.__metadata)("design:paramtypes",[Object])],t)}(),_=n(18497),m=function(){function t(){this.fileRepository=new y(new o.L)}return t.prototype.init=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(t){return[2]}))}))},t.prototype.collect=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.fileRepository.collect(t)]}))}))},t.prototype.getDocCollect=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.fileRepository.getDocCollect(t)]}))}))},t.prototype.createDoc=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.fileRepository.createDoc(t)]}))}))},t.prototype.recover=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.fileRepository.recover(t)]}))}))},t.prototype.docHumtrans=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.fileRepository.docHumtrans(t)]}))}))},t.prototype.canMove=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.fileRepository.canMove(t)]}))}))},(0,r.__decorate)([(0,_.u)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"init",null),(0,r.__decorate)([(0,i.Hh)(),(0,i.bj)(),(0,i.w1)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Object]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"collect",null),(0,r.__decorate)([(0,i.Hh)(),(0,i.bj)(),(0,i.w1)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Object]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"getDocCollect",null),(0,r.__decorate)([(0,i.Hh)(),(0,i.bj)(),(0,i.w1)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Object]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"createDoc",null),(0,r.__decorate)([(0,i.Hh)(),(0,i.bj)(),(0,i.w1)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Object]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"recover",null),(0,r.__decorate)([(0,i.Hh)(),(0,i.bj)(),(0,i.w1)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Object]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"docHumtrans",null),(0,r.__decorate)([(0,i.Hh)(),(0,i.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Object]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"canMove",null),t}()},40348:function(t,e,n){n.d(e,{r:function(){return r}});var r=(0,n(76138).yh)("IFolderDomainService")},58533:function(t,e,n){n.d(e,{i:function(){return g}});var r=n(25490),i=n(58257),o=n(80744),a=n(52068),s=n(90011),c=n(28612),u="".concat(c.HL,"folder_list"),d="".concat(c.HL,"folder_new"),f="".concat(c.HL,"doc_addmy"),p=n(19780),l=function(){function t(t){this.networkRequestService=t}return t.prototype.folderList=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(n){return e=(0,s.bk)((0,r.__assign)((0,r.__assign)({},t),{xsrf:(0,p.w$)(p.$W.xsrf)})),[2,this.networkRequestService.instance.post(u,e)]}))}))},t.prototype.newFolder=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(n){return e=(0,s.bk)((0,r.__assign)((0,r.__assign)({},t),{xsrf:(0,p.w$)(p.$W.xsrf)})),[2,this.networkRequestService.instance.post(d,e)]}))}))},t.prototype.addToMyFolder=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(n){return e=(0,s.bk)((0,r.__assign)((0,r.__assign)({},t),{xsrf:(0,p.w$)(p.$W.xsrf)})),[2,this.networkRequestService.instance.post(f,e)]}))}))},t=(0,r.__decorate)([(0,r.__param)(0,a._),(0,r.__metadata)("design:paramtypes",[Object])],t)}(),h=n(18497),g=function(){function t(){this.folderRepository=new l(new o.L)}return t.prototype.init=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(t){return[2]}))}))},t.prototype.folderList=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.folderRepository.folderList(t)]}))}))},t.prototype.newFolder=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.folderRepository.newFolder(t)]}))}))},t.prototype.addToMyFolder=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.folderRepository.addToMyFolder(t)]}))}))},(0,r.__decorate)([(0,h.u)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"init",null),(0,r.__decorate)([(0,i.Hh)(),(0,i.bj)(),(0,i.w1)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Object]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"folderList",null),(0,r.__decorate)([(0,i.Hh)(),(0,i.bj)(),(0,i.w1)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Object]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"newFolder",null),(0,r.__decorate)([(0,i.Hh)(),(0,i.bj)(),(0,i.w1)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Object]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"addToMyFolder",null),t}()},56262:function(t,e,n){n.d(e,{y:function(){return r}});var r=(0,n(76138).yh)("ITemplateDomainService")},68376:function(t,e,n){n.d(e,{Y:function(){return g}});var r=n(25490),i=n(58257),o=n(80744),a=n(52068),s=n(90011),c=n(19780),u=n(28612),d="".concat(u.Hf,"/cgi-bin/template/mytemplate_add"),f="".concat(u.Hf,"/cgi-bin/template/template_detail"),p="".concat(u.Hf,"/ep/api/settipflag"),l=function(){function t(t){this.networkRequestService=t}return t.prototype.addToMyTemplate=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(n){return e=(0,s.bk)((0,r.__assign)((0,r.__assign)({},t),{xsrf:(0,c.w$)(c.$W.xsrf)})),[2,this.networkRequestService.instance.post(d,e)]}))}))},t.prototype.templateDetail=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(n){return e=(0,s.bk)((0,r.__assign)((0,r.__assign)({},t),{template_type:3,xsrf:(0,c.w$)(c.$W.xsrf)})),[2,this.networkRequestService.instance.post(f,e)]}))}))},t.prototype.setTipFlag=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(n){return e=(0,s.bk)({globalPadId:t,type:37,flag:1,xsrf:(0,c.w$)(c.$W.xsrf)}),[2,this.networkRequestService.instance.post(p,e)]}))}))},t=(0,r.__decorate)([(0,r.__param)(0,a._),(0,r.__metadata)("design:paramtypes",[Object])],t)}(),h=n(18497),g=function(){function t(){this.templateRepository=new l(new o.L)}return t.prototype.init=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(t){return[2]}))}))},t.prototype.addToMyTemplate=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.templateRepository.addToMyTemplate(t)]}))}))},t.prototype.templateDetail=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.templateRepository.templateDetail(t)]}))}))},t.prototype.setTipFlag=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.templateRepository.setTipFlag(t)]}))}))},(0,r.__decorate)([(0,h.u)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"init",null),(0,r.__decorate)([(0,i.Hh)(),(0,i.bj)(),(0,i.w1)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Object]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"addToMyTemplate",null),(0,r.__decorate)([(0,i.Hh)(),(0,i.bj)(),(0,i.w1)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Object]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"templateDetail",null),(0,r.__decorate)([(0,i.Hh)(),(0,i.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[String]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"setTipFlag",null),t}()},96501:function(t,e,n){n.d(e,{v:function(){return r}});var r=(0,n(76138).yh)("IDocMetaDomainService")},97138:function(t,e,n){n.d(e,{L:function(){return P}});var r=n(25490),i=n(58257),o=n(8381),a=n(59114),s=n(44152),c=n(90011),u=n(83871),d=n(19780),f=n(45301),p=n(28612),l="".concat(p.Hf,"/cgi-bin/online_docs/doc_changetitle"),h="".concat(p.Hf,"/cgi-bin/online_docs/doc_collect"),g="".concat(p.Hf,"/cgi-bin/online_docs/doc_info"),v="".concat(p.Hf,"/dop-api/drive/data/get"),y="".concat(p.Hf,"/cgi/gateway/preload"),_=function(){function t(){}return t.prototype.updateTitle=function(t,e,n,i){return(0,r.__awaiter)(this,void 0,void 0,(function(){var o,a;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return o={pad_id:i,domain_id:n,xsrf:"".concat((0,d.w$)(d.$W.xsrf)),version:2,auto_change:e?1:0,title:encodeURIComponent(t)},a=(0,f.At)(l,o),[4,u.networkRequest.post(a)];case 1:return[2,r.sent()]}}))}))},t.prototype.fetchCollectedState=function(t,e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n,i;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return n={domain_id:t,pad_id:e,xsrf:"".concat((0,d.w$)(d.$W.xsrf)),t:(new Date).getTime()},i=(0,f.At)(h,n),[4,u.networkRequest.get(i)];case 1:return[2,r.sent()]}}))}))},t.prototype.changeCollectedState=function(t,e,n){return(0,r.__awaiter)(this,void 0,void 0,(function(){var i;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return i={domain_id:t,pad_id:e,is_cancel:n?0:1,xsrf:"".concat((0,d.w$)(d.$W.xsrf))},[4,u.networkRequest.post(h,i)];case 1:return[2,r.sent()]}}))}))},t.prototype.fetchDocInfo=function(t,e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n,i;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return n={domainId:t,localPadId:e,xsrf:"".concat((0,d.w$)(d.$W.xsrf))},i=(0,f.At)(g,n),[4,u.networkRequest.get(i)];case 1:return[2,r.sent()]}}))}))},t.prototype.fetchDocMetaInfoData=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e,n;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return e={id:t,xsrf:"".concat((0,d.w$)(d.$W.xsrf))},n=(0,f.At)(v,e),[4,u.networkRequest.get(n)];case 1:return[2,r.sent()]}}))}))},t.prototype.updateOfficialAuthInfo=function(t,e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n,i;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return n={id:t,type:e,command:1,xsrf:"".concat((0,d.w$)(d.$W.xsrf))},i=(0,f.At)(y,n),[4,u.networkRequest.get(i)];case 1:return[2,r.sent()]}}))}))},t.prototype.getOwnerVipInfo=function(t,e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return n={file_id:t,get_all:e},[4,u.networkRequest.post("/api/personalize/owner/viplevel",n)];case 1:return[2,r.sent()]}}))}))},(0,r.__decorate)([(0,i.Vo)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[String,Boolean]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"getOwnerVipInfo",null),t}(),m=n(68124),w=function(t){function e(e){var n=t.call(this)||this;return n.ownerId="",n.ownerAppid="",n.ownerNick="",n.ownerAvatar="",n.officialAuthInfo={avatar:"",credential:"",introduction:"",nick:"",principal:""},n.vipLevel=1,n.vipInfo=new a.S({}),n.jsonObj2Class(e),n}return(0,r.__extends)(e,t),e}(m.K),b=function(t){function e(e){var n=t.call(this)||this;return n.docStatus=0,n.domainId="",n.padId="",n.padType="",n.type=0,n.shareLink="",n.lastModifyTime=0,n.lastModifyUser="",n.relative=[],n.jsonObj2Class(e),n}return(0,r.__extends)(e,t),Object.defineProperty(e.prototype,"globalPadId",{get:function(){return(0,c.B8)(this.domainId,this.padId)},enumerable:!1,configurable:!0}),e}(m.K),I=function(t){function e(e){var n=t.call(this)||this;return n.title="",n.isUserChangeTitle=!1,n.jsonObj2Class(e),n}return(0,r.__extends)(e,t),e}(m.K),E=n(38516),S=function(t){function e(e){var n=t.call(this)||this;return n.creatorId="",n.createTime=0,n.creatorNick="",n.creatorDomain="",n.isCreator=!1,n.creatorCorpId="",n.creatorCorpName="",n.jsonObj2Class(e),n}return(0,r.__extends)(e,t),e}(m.K),A=n(80953),O=function(t){function e(e){var n=t.call(this)||this;return n.isCreator=!1,n.isAdmin=!1,n.isOwner=!1,n.jsonObj2Class(e),n}return(0,r.__extends)(e,t),e}(m.K),C=12e3,x=12e3,R=function(t){function e(e){var n=t.call(this,e)||this;return n.createInfo=new S({}),n.padInfo=new b({}),n.ownerInfo=new w({}),n.userAuthInfo=new O({}),n.titleInfo=new I({}),n.onTitleDidChangeEmitter=new E.Emitter,n.onhandleNoticeDeletedEmitter=new E.Emitter,n.onDocStatusChangedEmitter=new E.Emitter,n.onOfficialAuthInfoChangeEmitter=new E.Emitter,n.docMetaRepository=new _,n.onTitleDidChange=n.onTitleDidChangeEmitter.event,n.onhandleNoticeDeleted=n.onhandleNoticeDeletedEmitter.event,n.onDocStatusChanged=n.onDocStatusChangedEmitter.event,n.onOfficialAuthInfoChange=n.onOfficialAuthInfoChangeEmitter.event,n}return(0,r.__extends)(e,t),e.prototype.updateTitle=function(t,e){var n,i;return(0,r.__awaiter)(this,void 0,void 0,(function(){var o;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.docMetaRepository.updateTitle(t,e,null===(n=this.padInfo)||void 0===n?void 0:n.domainId,null===(i=this.padInfo)||void 0===i?void 0:i.padId)];case 1:return o=r.sent(),parseInt(o.data.retcode,10)!==C&&parseInt(o.data.cgicode,10)!==x&&this.titleInfo&&(this.titleInfo.title=t,this.onTitleDidChangeEmitter.fire({newTitle:t})),[2,o]}}))}))},e.prototype.handleNoticeDeleted=function(){this.padInfo.docStatus=A.d.docStatusDelete,this.onhandleNoticeDeletedEmitter.fire(void 0)},e.prototype.handleNoticeTitleChanged=function(t){this.titleInfo.title=t,this.onTitleDidChangeEmitter.fire({newTitle:t})},e.prototype.updateOfficialAuthInfo=function(t){var e;return(0,r.__awaiter)(this,void 0,void 0,(function(){var n,i;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.docMetaRepository.updateOfficialAuthInfo(t,null===(e=this.padInfo)||void 0===e?void 0:e.padType)];case 1:return n=r.sent(),i=n.data.data.clientVars.docInfo.ownerInfo.officialAuthInfo,this.ownerInfo.officialAuthInfo=i,this.onOfficialAuthInfoChangeEmitter.fire({officialAuthInfo:i}),[2,n]}}))}))},e.prototype.changeDocStatus=function(t){this.padInfo.docStatus=t,t===A.d.docStatusDelete&&this.onhandleNoticeDeletedEmitter.fire(void 0),this.onDocStatusChangedEmitter.fire(void 0)},e.prototype.fetchCollectedState=function(){var t,e;return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.docMetaRepository.fetchCollectedState(null===(t=this.padInfo)||void 0===t?void 0:t.domainId,null===(e=this.padInfo)||void 0===e?void 0:e.padId)];case 1:return[2,n.sent()]}}))}))},e.prototype.changeCollectedState=function(t){var e,n;return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.docMetaRepository.changeCollectedState(null===(e=this.padInfo)||void 0===e?void 0:e.domainId,null===(n=this.padInfo)||void 0===n?void 0:n.padId,t)];case 1:return[2,r.sent()]}}))}))},e.prototype.fetchDocMetaInfoData=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.docMetaRepository.fetchDocMetaInfoData(t)];case 1:return[2,e.sent()]}}))}))},e.prototype.getOwnerVipInfo=function(t,e){return void 0===e&&(e=!1),(0,r.__awaiter)(this,void 0,void 0,(function(){var n,i,s,u,d,f;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.docMetaRepository.getOwnerVipInfo(t,e)];case 1:return n=r.sent(),(i=(0,o.fq)(n,!0)).resData&&(s=i.resData.data.result||{},u=s.vipLevel,d=s.vipInfo,f=(0,c.KV)(d,{}),this.ownerInfo.vipLevel=u,this.ownerInfo.vipInfo=new a.S(f)),[2,i]}}))}))},(0,r.__decorate)([(0,i.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[String,Boolean]),(0,r.__metadata)("design:returntype",Promise)],e.prototype,"updateTitle",null),(0,r.__decorate)([(0,i.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[String]),(0,r.__metadata)("design:returntype",Promise)],e.prototype,"updateOfficialAuthInfo",null),(0,r.__decorate)([(0,i.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[]),(0,r.__metadata)("design:returntype",Promise)],e.prototype,"fetchCollectedState",null),(0,r.__decorate)([(0,i.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Boolean]),(0,r.__metadata)("design:returntype",Promise)],e.prototype,"changeCollectedState",null),(0,r.__decorate)([(0,i.Hh)(),(0,i.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[String]),(0,r.__metadata)("design:returntype",Promise)],e.prototype,"fetchDocMetaInfoData",null),e}(s.J),M=n(18497),D=function(t){function e(e){var n=t.call(this)||this;return n.background={},n.mode=0,n.titleColor={},n.isExpire=!1,n.jsonObj2Class(e),n}return(0,r.__extends)(e,t),e}(m.K),P=function(){function t(){this.isInitedByBasicClientVars=!1,this.docMetaEntity=new R("MainDocMetaEntity"),(null===window||void 0===window?void 0:window.basicClientVars)&&this.initWithBasicClientVars(window.basicClientVars)}return t.prototype.updateWithClientVars=function(t){this.isInitedByBasicClientVars||(this.docMetaEntity.createInfo=new S((0,r.__assign)((0,r.__assign)({},t),{createTime:t.metaCreateTime})),this.docMetaEntity.ownerInfo=new w(t),this.docMetaEntity.padInfo=new b(t),this.docMetaEntity.titleInfo=new I(t),this.docMetaEntity.userAuthInfo=new O(t))},t.prototype.init=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e,n,i;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return e=t.docId,[4,this.docMetaEntity.fetchDocMetaInfoData(e)];case 1:return n=r.sent().resData,i=null===n||void 0===n?void 0:n.data.data,this.docMetaEntity.createInfo=new S({isCreator:i.isCreator,creatorDomain:i.domainId,creatorId:i.creatorId,creatorCorpId:i.creatorCorpId,creatorCorpName:i.creatorCorpName}),this.docMetaEntity.padInfo=new b({domainId:i.domainId,padId:i.localPadId,padType:i.padType,relative:i.relative||[],docStatus:i.docStatus}),this.docMetaEntity.titleInfo=new I({title:i.title,isUserChangeTitle:i.isUserChangeTitle}),this.docMetaEntity.userAuthInfo=new O({isCreator:i.isCreator,isOwner:i.isOwner,isAdmin:i.isAdmin}),[2]}}))}))},t.prototype.initWithBasicClientVars=function(t){this.updateCreateInfoByBasicClientVars(t),this.updateOwnerAndAuthInfoByBasicClientVars(t),this.updatePadInfoByBasicClientVars(t),this.updateTitleInfoByBasicClientVars(t),this.updateCollaborationInfoByBasicClientVars(t),this.updatePersonalizeInfoByBasicClientVars(t),this.isInitedByBasicClientVars=!0},t.prototype.updatePersonalizeInfoByBasicClientVars=function(t){var e;this.docMetaEntity.personalizeInfo=new D(null===(e=t.docInfo)||void 0===e?void 0:e.personalizeInfo)},t.prototype.updateCollaborationInfoByBasicClientVars=function(t){var e;this.docMetaEntity.collaborationFlag=null===(e=t.docInfo)||void 0===e?void 0:e.collaborationFlag},t.prototype.updateCreateInfoByBasicClientVars=function(t){var e,n,r,i,o,a,s,c,u,d,f,p,l;this.docMetaEntity.createInfo=new S({isCreator:null===(e=t.docInfo)||void 0===e?void 0:e.isCreator,creatorDomain:null===(r=null===(n=t.docInfo)||void 0===n?void 0:n.padInfo)||void 0===r?void 0:r.domainId,creatorNick:null===(o=null===(i=t.docInfo)||void 0===i?void 0:i.createInfo)||void 0===o?void 0:o.creatorNick,createTime:null===(s=null===(a=t.docInfo)||void 0===a?void 0:a.createInfo)||void 0===s?void 0:s.createTime,creatorId:null===(u=null===(c=t.docInfo)||void 0===c?void 0:c.createInfo)||void 0===u?void 0:u.creatorId,creatorCorpId:null===(f=null===(d=t.docInfo)||void 0===d?void 0:d.createInfo)||void 0===f?void 0:f.creatorCorpId,creatorCorpName:null===(l=null===(p=t.docInfo)||void 0===p?void 0:p.createInfo)||void 0===l?void 0:l.creatorCorpName})},t.prototype.updateOwnerAndAuthInfoByBasicClientVars=function(t){var e,n,r,i;this.docMetaEntity.ownerInfo=new w(null===(e=t.docInfo)||void 0===e?void 0:e.ownerInfo),this.docMetaEntity.userAuthInfo=new O({isCreator:null===(n=t.docInfo)||void 0===n?void 0:n.isCreator,isOwner:null===(r=t.docInfo)||void 0===r?void 0:r.isOwner,isAdmin:null===(i=t.docInfo)||void 0===i?void 0:i.isAdmin})},t.prototype.updatePadInfoByBasicClientVars=function(t){var e,n,r,i,o,a,s,c,u,d;this.docMetaEntity.padInfo=new b({domainId:null===(n=null===(e=t.docInfo)||void 0===e?void 0:e.padInfo)||void 0===n?void 0:n.domainId,padId:null===(i=null===(r=t.docInfo)||void 0===r?void 0:r.padInfo)||void 0===i?void 0:i.padId,padType:null===(a=null===(o=t.docInfo)||void 0===o?void 0:o.padInfo)||void 0===a?void 0:a.padType,relative:null===(c=null===(s=t.docInfo)||void 0===s?void 0:s.padInfo)||void 0===c?void 0:c.relative,docStatus:null===(u=t.docInfo)||void 0===u?void 0:u.docStatus,shareLink:null===(d=t.docInfo)||void 0===d?void 0:d.shareLink})},t.prototype.updateTitleInfoByBasicClientVars=function(t){var e,n,r;this.docMetaEntity.titleInfo=new I({title:null===(n=null===(e=t.docInfo)||void 0===e?void 0:e.padInfo)||void 0===n?void 0:n.padTitle,isUserChangeTitle:null===(r=t.docInfo)||void 0===r?void 0:r.isUserChangeTitle})},(0,r.__decorate)([(0,M.u)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Object]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"init",null),(0,r.__decorate)([(0,i.aU)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Object]),(0,r.__metadata)("design:returntype",void 0)],t.prototype,"initWithBasicClientVars",null),t}()},80953:function(t,e,n){var r;n.d(e,{d:function(){return r}}),function(t){t[t.docStatusNormal=0]="docStatusNormal",t[t.docStatusDelete=1]="docStatusDelete",t[t.docStatusTrash=2]="docStatusTrash",t[t.docStatusHidden=3]="docStatusHidden",t[t.docStatusTrans=4]="docStatusTrans",t[t.docStatusImport=5]="docStatusImport",t[t.docStatusChecking=6]="docStatusChecking",t[t.docStatusForbidden=7]="docStatusForbidden",t[t.docStatusImportFailed=8]="docStatusImportFailed",t[t.docStatusCopy=9]="docStatusCopy",t[t.docStatusCopyFailed=10]="docStatusCopyFailed",t[t.docStatusPrepare=11]="docStatusPrepare",t[t.docStatusHiddenUntilModify=12]="docStatusHiddenUntilModify",t[t.docStatusFileUploading=13]="docStatusFileUploading"}(r||(r={}))},72467:function(t,e,n){var r,i;n.d(e,{B:function(){return i},D:function(){return r}}),function(t){t[t.NORMAL=0]="NORMAL",t[t.SECURITY_STRIKED=1]="SECURITY_STRIKED",t[t.APPROVED=2]="APPROVED"}(r||(r={})),function(t){t.DOC="drive-doc",t.SHEET="drive-sheet",t.TEXT="drive-text",t.SLIDE="drive-slide",t.PDF="drive-pdf",t.UNKNOWN="drive-unknown"}(i||(i={}))},35381:function(t,e,n){n.d(e,{h:function(){return w}});var r,i=n(25490),o=n(18497),a=function(){function t(t){this.fileDescRepo=t}return t.prototype.init=function(t){Object.assign(this,t)},t.prototype.fetchFileDesc=function(t){return(0,i.__awaiter)(this,void 0,void 0,(function(){return(0,i.__generator)(this,(function(e){return[2,this.fileDescRepo.fetchFileDesc(t)]}))}))},t.prototype.getFormattedFileSize=function(){var t=this.accurateSize;if(0===Number(t))return"0 B";var e=Math.floor(Math.log(t)/Math.log(1024));return"".concat(parseFloat((t/Math.pow(1024,e)).toPrecision(3))," ").concat(["B","KB","MB","GB","TB","PB","EB","ZB","YB"][e])},t}(),s=n(72467),c=((r={})[s.B.DOC]=/doc|dot|wps|wpt|docx|dotx|docm|dotm/,r[s.B.SHEET]=/xls|xlt|xlsx|xltx|csv|xlsb|xlsm|xltm|et|ett|ets/,r[s.B.TEXT]=/lrc|c|cpp|h|asm|s|java|asp|bat|bas|prg|cmd|rtf|txt|log|xml|htm|html/,r[s.B.SLIDE]=/pptx|ppt|pot|potx|pps|ppsx|dps|dpt|pptm|potm|ppsm/,r),u=/(doc|docx|xls|xlsx|txt|csv|ppt|pptx)$/i,d=function(){function t(t){this.fileMetaRepo=t}return t.prototype.init=function(t){Object.assign(this,t)},t.prototype.fetchFileInfo=function(t,e){return(0,i.__awaiter)(this,void 0,void 0,(function(){return(0,i.__generator)(this,(function(n){return[2,this.fileMetaRepo.fetchFileInfo(t,e)]}))}))},t.prototype.fetchPreviewInfo=function(t){return void 0===t&&(t={}),(0,i.__awaiter)(this,void 0,void 0,(function(){return(0,i.__generator)(this,(function(e){return[2,this.fileMetaRepo.fetchPreviewInfo({fileId:this.fileId,addBrowseRecord:(null===t||void 0===t?void 0:t.addBrowseRecord)||!1,previewAttribute:(0,i.__assign)({srcType:this.ext},t.previewAttribute)})]}))}))},t.prototype.fetchPreviewQuery=function(t){return(0,i.__awaiter)(this,void 0,void 0,(function(){return(0,i.__generator)(this,(function(e){return[2,this.fileMetaRepo.fetchPreviewQuery({fileId:this.fileId,shouldRetry:t})]}))}))},t.prototype.fetchDownloadInfo=function(t){return(0,i.__awaiter)(this,void 0,void 0,(function(){return(0,i.__generator)(this,(function(e){return[2,this.fileMetaRepo.fetchDownloadInfo(t)]}))}))},t.prototype.fetchCopyInfo=function(t){return(0,i.__awaiter)(this,void 0,void 0,(function(){return(0,i.__generator)(this,(function(e){return[2,this.fileMetaRepo.fetchCopyInfo(t)]}))}))},t.prototype.getDrivePadType=function(){var t,e,n=this.ext,r=Object.keys(c);try{for(var o=(0,i.__values)(r),a=o.next();!a.done;a=o.next()){var u=a.value;if(c[u].test(n))return u}}catch(d){t={error:d}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return s.B.DOC},t.prototype.canBeConvertedToOnlineDocs=function(){var t=this.ext;return u.test(t)},t.prototype.isSecurityStriked=function(){return this.auditStatus===s.D.SECURITY_STRIKED},t.prototype.getFormattedFileSize=function(){var t=this.size;if(0===Number(t))return"0 B";var e=Math.floor(Math.log(t)/Math.log(1024));return"".concat(parseFloat((t/Math.pow(1024,e)).toPrecision(3))," ").concat(["B","KB","MB","GB","TB","PB","EB","ZB","YB"][e])},t}(),f=n(58257),p=n(83871),l=n(20998),h=n.n(l),g=function(){function t(){}return t.prototype.fetchFileDesc=function(t){return(0,i.__awaiter)(this,void 0,void 0,(function(){var e,n;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return e={file_id:t},n=h().stringify(e),[4,p.networkRequest.post("".concat("/v2/drive/file/desc","?").concat(n))];case 1:return[2,r.sent()]}}))}))},(0,i.__decorate)([(0,f.bj)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[String]),(0,i.__metadata)("design:returntype",Promise)],t.prototype,"fetchFileDesc",null),t}(),v=n(19780),y=function(){function t(){}return t.prototype.fetchFileInfo=function(t,e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var n,r,o;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return n={xsrf:(0,v.w$)(v.$W.xsrf)},r=h().stringify(n),o={file_id:t,add_recent:e},[4,p.networkRequest.post("".concat("/v2/drive/fileInfo","?").concat(r),o)];case 1:return[2,i.sent()]}}))}))},t.prototype.fetchPreviewInfo=function(t){return(0,i.__awaiter)(this,void 0,void 0,(function(){var e,n,r,o,a,s,c,u,d,f,l,g,y,_;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return e=t.fileId,n=t.addBrowseRecord,r=void 0===n||n,o=t.previewAttribute,a=o.srcType,s=o.dstType,c=o.page,u=o.sheet,d=o.showComment,f=o.quality,l=o.scale,g={xsrf:(0,v.w$)(v.$W.xsrf)},y=h().stringify(g),_={file_id:e,add_browse_record:r,preview_attr:{page:c,sheet:u,quality:f,scale:l,src_type:a,ddst_type:s,show_comment:d}},[4,p.networkRequest.post("".concat("/v2/drive/docsPreviewURL","?").concat(y),_)];case 1:return[2,i.sent()]}}))}))},t.prototype.fetchPreviewQuery=function(t){return(0,i.__awaiter)(this,void 0,void 0,(function(){var e,n,r,o,a;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return e=t.fileId,n=t.shouldRetry,r={xsrf:(0,v.w$)(v.$W.xsrf)},o=h().stringify(r),a={file_id:e},n&&(a.should_retry=!0),[4,p.networkRequest.post("".concat("/v2/drive/preview/query","?").concat(o),a)];case 1:return[2,i.sent()]}}))}))},t.prototype.fetchDownloadInfo=function(t){return(0,i.__awaiter)(this,void 0,void 0,(function(){var e,n,r;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return e={xsrf:(0,v.w$)(v.$W.xsrf)},n=h().stringify(e),r={file_id:t},[4,p.networkRequest.post("".concat("/v2/drive/downloadURL","?").concat(n),r)];case 1:return[2,i.sent()]}}))}))},t.prototype.fetchCopyInfo=function(t){return(0,i.__awaiter)(this,void 0,void 0,(function(){var e,n,r;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return e={xsrf:(0,v.w$)(v.$W.xsrf)},n=h().stringify(e),r={file_id:t},[4,p.networkRequest.post("".concat("/v2/file/clone","?").concat(n),r)];case 1:return[2,i.sent()]}}))}))},(0,i.__decorate)([(0,f.bj)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[String,Boolean]),(0,i.__metadata)("design:returntype",Promise)],t.prototype,"fetchFileInfo",null),(0,i.__decorate)([(0,f.bj)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",Promise)],t.prototype,"fetchPreviewInfo",null),(0,i.__decorate)([(0,f.bj)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[String]),(0,i.__metadata)("design:returntype",Promise)],t.prototype,"fetchDownloadInfo",null),(0,i.__decorate)([(0,f.bj)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[String]),(0,i.__metadata)("design:returntype",Promise)],t.prototype,"fetchCopyInfo",null),t}(),_=n(90011),m=function(){function t(){}return t.prototype.postImportFile=function(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return n=(0,_.pT)({folder_id:e.folderId,operation_id:e.operationId,cos_file_key:e.cosFileKey,drive_file_id:e.driveFileId,password:e.password,appid:e.appid,filename:e.filename,verify_token:e.verifyToken,async:e.async,platform:e.platform,preview:e.preview,delete_drive_file:e.deleteDriveFile,bind_scene:e.bindScene,scene_type:e.sceneType,scene_id:e.sceneId,scene_file_id:e.sceneFileId,appSource:e.appSource,createSource:e.createSource}),r="".concat(t.cgiPaths.IMPORT_FILE,"?xsrf=").concat((0,v.w$)(v.$W.xsrf)),[4,p.networkRequest.post(r,n)];case 1:return[2,i.sent()]}}))}))},t.prototype.queryImportProgress=function(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return n=(0,_.kI)(e),r="".concat(t.cgiPaths.QUERY_IMPORT_PROGRESS,"?xsrf=").concat((0,v.w$)(v.$W.xsrf)),[4,p.networkRequest.post(r,n)];case 1:return[2,i.sent()]}}))}))},t.cgiPaths={IMPORT_FILE:"/v1/import/file",QUERY_IMPORT_PROGRESS:"/v1/import/queryImportProgress"},(0,i.__decorate)([(0,f.bj)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",Promise)],t.prototype,"postImportFile",null),t}(),w=function(){function t(){this.fileDescRepo=new g,this.fileMetaRepo=new y,this.fileOperationRepo=new m,this.fileDescEntity=new a(this.fileDescRepo),this.fileMetaEntity=new d(this.fileMetaRepo)}return t.prototype.init=function(t){var e,n;return(0,i.__awaiter)(this,void 0,void 0,(function(){var r,o,a,s;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.fileMetaEntity.fetchFileInfo(t.docId,t.addRecent)];case 1:if(r=i.sent(),!(null===(e=r.resData)||void 0===e?void 0:e.data.result.fileMeta.fileId))throw new Error("get file id error.");return[4,this.fileDescEntity.fetchFileDesc(r.resData.data.result.fileMeta.fileId)];case 2:if(o=i.sent(),!(null===(n=o.resData)||void 0===n?void 0:n.data.size))throw new Error("get file size error.");return a=r.resData.data.result.fileMeta,s=o.resData.data.size,this.fileMetaEntity.init(a),this.fileDescEntity.init({accurateSize:s}),[2]}}))}))},(0,i.__decorate)([(0,o.u)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",Promise)],t.prototype,"init",null),t}()},29011:function(t,e,n){n.d(e,{U:function(){return r}});var r=(0,n(76138).yh)("IFileInfoDomainService")},76884:function(t,e,n){n.d(e,{W:function(){return v}});var r=n(25490),i=n(96501),o=n(55126),a=n(35083),s=n(18497),c=n(58119),u=n(38516),d=n(83871),f=function(){function t(){}return t.prototype.like=function(t,e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n;return(0,r.__generator)(this,(function(r){return n={file_id:t,icon_id:e},[2,d.networkRequest.post("/cgi-bin/like/like",n)]}))}))},t.prototype.getLikeIconList=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t;return(0,r.__generator)(this,(function(e){return t={offset:0,limit:100},[2,d.networkRequest.post("/cgi-bin/like/icon/list",t)]}))}))},t.prototype.getLikeRecordCount=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(n){return e={file_id:t},[2,d.networkRequest.post("/cgi-bin/like/record/count",e)]}))}))},t.prototype.getLikeRecordList=function(t,e,n){return(0,r.__awaiter)(this,void 0,void 0,(function(){var i;return(0,r.__generator)(this,(function(r){return i={file_id:t,start_record_id:e,limit:n,is_desc:!0},[2,d.networkRequest.post("/cgi-bin/like/record/list",i)]}))}))},t}(),p=n(19780),l=function(){function t(){}return t.prototype.getUserMarkName=function(t,e){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(n){return[2,d.networkRequest.post("/sdc/getusermarkname",{domainId:"300000000",localPadId:t,uids:"[".concat(e.join(","),"]"),xsrf:(0,p.ej)("TOK")||""})]}))}))},t}(),h=function(){function t(){}return t.prototype.getOwnerVipLevel=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,d.networkRequest.post("/api/personalize/owner/viplevel",{file_id:t})]}))}))},t}(),g=function(){function t(){this.cacheUserMark={},this.likeRepo=new f,this.userMarkRepo=new l,this.ownerVipRepo=new h,this.onLikeDataChangedEmitter=new u.Emitter,this.onLikeDataChangedEvent=this.onLikeDataChangedEmitter.event}return t.prototype.init=function(t){this.fileId=t.fileId,this.ownerId=t.ownerId,this.tinyId=t.tinyId},t.prototype.initWithBasicClientVars=function(t){var e,n,r,i,o,a,s;this.fileId=null!==(r=null===(n=null===(e=t.docInfo)||void 0===e?void 0:e.padInfo)||void 0===n?void 0:n.padId)&&void 0!==r?r:"",this.ownerId=null!==(a=null===(o=null===(i=t.docInfo)||void 0===i?void 0:i.ownerInfo)||void 0===o?void 0:o.ownerId)&&void 0!==a?a:"",this.tinyId=null!==(s=t.userInfo.tinyId)&&void 0!==s?s:""},Object.defineProperty(t.prototype,"onLikeDataChanged",{get:function(){return this.onLikeDataChangedEvent},enumerable:!1,configurable:!0}),t.prototype.like=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.likeRepo.like(this.fileId,t)]}))}))},t.prototype.getLikeIconList=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(t){return[2,this.likeRepo.getLikeIconList()]}))}))},t.prototype.getLikeRecordCount=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(t){return[2,this.likeRepo.getLikeRecordCount(this.fileId)]}))}))},t.prototype.getLikeRecordList=function(t,e){var n;return void 0===t&&(t=-1),void 0===e&&(e=50),(0,r.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s;return(0,r.__generator)(this,(function(c){switch(c.label){case 0:return[4,this.likeRepo.getLikeRecordList(this.fileId,t,e)];case 1:return i=c.sent(),(null===(n=i.data.result)||void 0===n?void 0:n.records)?(o=i.data.result.records.map((function(t){return t.liker_uid})).filter((function(t){return!!t})),(null===(a=Array.from(new Set(o)))||void 0===a?void 0:a.length)?[4,this.getUserMarkName(a)]:[2,i]):[2,i];case 2:return s=c.sent(),i.data.result.records=i.data.result.records.map((function(t){var e,n=null!==(e=s[t.liker_uid||""])&&void 0!==e?e:{},i=n.markName,o=n.userPic;return(0,r.__assign)((0,r.__assign)({},t),{liker_avatar:o,liker_nick:i})})),[2,i]}}))}))},t.prototype.handleRealTimeLikeMessage=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e=this;return(0,r.__generator)(this,(function(n){return t.forEach((function(t){return(0,r.__awaiter)(e,void 0,void 0,(function(){var e,n,i,o,a,s,c,u,d;return(0,r.__generator)(this,(function(f){switch(f.label){case 0:return e=t.body.notice,n=e.type,i=e.payload,"like"!==n?[2,console.error("unknown like domain ws message type:",n)]:(o=JSON.parse(i.like_record),a=null!==(c=o.liker_uid)&&void 0!==c?c:"",[4,this.getUserMarkName([a])]);case 1:return s=f.sent(),this.onLikeDataChangedEmitter.fire({newCount:i.count,newRecord:(0,r.__assign)((0,r.__assign)({},o),{liker_avatar:null===(u=s[a])||void 0===u?void 0:u.userPic,liker_nick:null===(d=s[a])||void 0===d?void 0:d.markName})}),[2]}}))}))})),[2]}))}))},t.prototype.isLikeEnable=function(t){var e;return(0,r.__awaiter)(this,void 0,void 0,(function(){var n;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return(n=null===(e=null===window||void 0===window?void 0:window.clientVars)||void 0===e?void 0:e.hotDocs)?[3,2]:[4,this.isVipDoc()];case 1:n=r.sent(),r.label=2;case 2:return[2,n||this.isInOwnerIdTailHash(t)||!1]}}))}))},t.prototype.isVipDoc=function(){var t,e;return(0,r.__awaiter)(this,void 0,void 0,(function(){var n,i;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.ownerVipRepo.getOwnerVipLevel(this.fileId)];case 1:return n=r.sent(),(null===(t=n.data.result)||void 0===t?void 0:t.vip_level)?[2,(null===(e=n.data.result)||void 0===e?void 0:e.vip_level)>1]:[3,3];case 2:return i=r.sent(),console.warn("check is vip doc catches err:",i),[3,3];case 3:return[2,!1]}}))}))},t.prototype.isInOwnerIdTailHash=function(t){return!(!t||!this.ownerId)&&parseInt(this.ownerId.slice(-2),10)%100<t},t.prototype.getUserMarkName=function(t){var e,n;return(0,r.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s=this;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return i={},o=[],t.forEach((function(t){s.cacheUserMark[t]?i[t]=s.cacheUserMark[t]:o.push(t)})),o.length?[4,this.userMarkRepo.getUserMarkName(this.fileId,o)]:[3,2];case 1:a=r.sent(),null===(n=null===(e=a.data.result)||void 0===e?void 0:e.rsp)||void 0===n||n.forEach((function(t){s.cacheUserMark[t.reqUid]=t,i[t.reqUid]=t})),r.label=2;case 2:return[2,i]}}))}))},t}(),v=function(){function t(t,e){var n;if(this.docMetaDomain=t,this.userInfoDomain=e,this.likeEntity=new g,window.basicClientVars)this.likeEntity.initWithBasicClientVars(window.basicClientVars);else{var i=(0,r.__read)(null!==(n=location.pathname.split("/"))&&void 0!==n?n:[],3),o=i[1],s=i[2];if(void 0!==a.ee[o]&&s){var u={docId:s,u:(0,c.pm)("u")};this.init(u)}}}return t.prototype.init=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){switch(e.label){case 0:return[4,Promise.all([this.docMetaDomain.init(t),this.userInfoDomain.init(t)])];case 1:return e.sent(),this.likeEntity.init({fileId:this.docMetaDomain.docMetaEntity.padInfo.padId,ownerId:this.docMetaDomain.docMetaEntity.ownerInfo.ownerId,tinyId:this.userInfoDomain.userInfoAggregate.userInfo.tinyid}),[2]}}))}))},(0,r.__decorate)([(0,s.u)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Object]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"init",null),t=(0,r.__decorate)([(0,r.__param)(0,i.v),(0,r.__param)(1,o.m),(0,r.__metadata)("design:paramtypes",[Object,Object])],t)}()},13611:function(t,e,n){n.d(e,{d:function(){return r}});var r=(0,n(76138).yh)("ILikeDomainService")},39202:function(t,e,n){var r;n.d(e,{p:function(){return r}}),function(t){t.LOGOUT="logout"}(r||(r={}))},2363:function(t,e,n){n.d(e,{x:function(){return r}});var r=(0,n(76138).yh)("IMessageDomainService")},28387:function(t,e,n){n.d(e,{i:function(){return tt}});var r,i=n(25490),o=n(18497),a=n(5824),s=n(38516);!function(t){t.ON="ON",t.OFF="OFF"}(r||(r={}));var c,u=function(){function t(t){this.emitter=new s.Emitter,this.listenersArray=[],this.messageCheckFn=t}return t.prototype.connect=function(){this.connectState!==r.ON&&(this.connectState=r.ON,this.initEmitterEvent(),window.addEventListener("message",this.messageCallback.bind(this)))},t.prototype.setIframeDom=function(t,e){this.iframeDom=t,this.targetOrigin=e},t.prototype.send=function(t){var e;this.iframeDom&&(null===(e=this.iframeDom.contentWindow)||void 0===e||e.postMessage(t,"*"))},t.prototype.receive=function(t){this.listenersArray.includes(t)||this.listenersArray.push(t)},t.prototype.dispose=function(){window.removeEventListener("message",this.messageCallback),this.connectState=r.OFF,this.listenersArray=[]},t.prototype.messageCallback=function(t){var e=!0;this.messageCheckFn&&(e=this.messageCheckFn(t)),e&&this.emitter.fire(t)},t.prototype.initEmitterEvent=function(){var t=this;this.emitter.event((function(e){t.listenersArray.forEach((function(t){"function"===typeof t&&t(e)}))}))},t}(),d=a.l8,f="ALREADY_IFRAME_GET_ACCOUNT_LIST_FROM_B",p="GET_ACCOUNT_LIST_FROM_B",l="DELETE_ACCOUNT_LIST_FROM_B",h="SUCCESS_GET_ACCOUNT_LIST_FROM_B",g="SUCCESS_DELETE_ACCOUNT_LIST_FROM_B",v=a.$8,y="iframe-to-manage-account-list",_=function(){function t(){this.getAccountMessage=new u(this.getAccountMessageCheckFn),this.iframeMountMessage=new u(this.getIframeMountMessageCheckFn),this.deleteAccountMessage=new u(this.getDeleteAccountMessageCheckFn)}return t.prototype.connect=function(){this.getAccountMessage.connect(),this.iframeMountMessage.connect(),this.deleteAccountMessage.connect()},t.prototype.dispose=function(){this.getAccountMessage.dispose(),this.iframeMountMessage.dispose(),this.deleteAccountMessage.dispose()},t.prototype.createGetAccountListIframe=function(t){var e=this;this.getAccountListIframeDom=this.createMessageIframe((function(n,r){r?(e.getAccountMessage.setIframeDom(n,d),e.deleteAccountMessage.setIframeDom(n,d)):null===t||void 0===t||t()}))},t.prototype.sendAccountListMessage=function(){this.getAccountMessage.send({eventFromCDomain:p})},t.prototype.sendDeleteAccountMessage=function(t){this.deleteAccountMessage.send({eventFromCDomain:l,cookie:t})},t.prototype.getAccountListMessage=function(t){this.getAccountMessage.receive(t)},t.prototype.getIframeMountMessage=function(t){this.iframeMountMessage.receive(t)},t.prototype.getDeleteAccountMessage=function(t){this.deleteAccountMessage.receive(t)},t.prototype.createMessageIframe=function(t){if(document.getElementById(y))return t(document.getElementById(y),!1),document.getElementById(y);var e=document.createElement("iframe");return e.src=v,e.id=y,e.style.visibility="hidden",e.style.width="0px",e.style.height="0px",document.body.appendChild(e),t(e,!0),e},t.prototype.getAccountMessageCheckFn=function(t){var e=t.data;return t.origin===d&&e.eventFromBDomain===h},t.prototype.getIframeMountMessageCheckFn=function(t){var e=t.data;return t.origin===d&&e.eventFromBDomain===f},t.prototype.getDeleteAccountMessageCheckFn=function(t){var e=t.data;return t.origin===d&&e.eventFromBDomain===g},t}(),m="IFRAME_ALREADY",w="GET_LOGINED_ACCOUNT",b="WILL_CHANGE_LOGINED_ACCOUNT",I="DELETE_LOGINED_ACCOUNT",E=a.LC,S=a.gN,A="iframe-to-manage-account-list",O=function(){function t(){this.getAccountMessage=new u(this.getAccountMessageCheckFn),this.iframeMountMessage=new u(this.getIframeMountMessageCheckFn),this.deleteAccountMessage=new u(this.getDeleteAccountMessageCheckFn)}return t.prototype.connect=function(){this.getAccountMessage.connect(),this.iframeMountMessage.connect(),this.deleteAccountMessage.connect()},t.prototype.dispose=function(){this.getAccountMessage.dispose(),this.iframeMountMessage.dispose(),this.deleteAccountMessage.dispose()},t.prototype.createGetAccountListIframe=function(t){var e=this;this.createMessageIframe((function(n,r){r?(e.getAccountMessage.setIframeDom(n,E),e.deleteAccountMessage.setIframeDom(n,E)):null===t||void 0===t||t()}))},t.prototype.sendAccountListMessage=function(){this.getAccountMessage.send({event:w})},t.prototype.sendDeleteAccountMessage=function(t){this.deleteAccountMessage.send({event:I,uid:t})},t.prototype.getAccountListMessage=function(t){this.getAccountMessage.receive(t)},t.prototype.getDeleteAccountMessage=function(t){this.deleteAccountMessage.receive(t)},t.prototype.getIframeMountMessage=function(t){this.iframeMountMessage.receive(t)},t.prototype.getAccountMessageCheckFn=function(t){return t.data.event===b},t.prototype.getIframeMountMessageCheckFn=function(t){return t.data.event===m},t.prototype.getDeleteAccountMessageCheckFn=function(t){return t.data.event===b},t.prototype.createMessageIframe=function(t){if(document.getElementById(A))return t(document.getElementById(A),!1),document.getElementById(A);var e=document.createElement("iframe");return e.src=S,e.id=A,e.style.visibility="hidden",e.style.width="0px",e.style.height="0px",document.body.appendChild(e),t(e,!0),e},t}(),C="ALREADY_JUMP_B_IFRAME",x="B_PAGE_SET_COOKIE",R="SUCCESS_SET_COOKIE",M=a.l8,D=a.rH,P="iframe-to-b-set-cookie",T=function(){function t(){this.iframeMountMessage=new u(this.getIframeMountMessageCheckFn),this.switchAccountMessage=new u(this.getSwitchAccountMessageCheckFn)}return t.prototype.connect=function(){this.iframeMountMessage.connect(),this.switchAccountMessage.connect()},t.prototype.dispose=function(){this.iframeMountMessage.dispose(),this.switchAccountMessage.dispose()},t.prototype.createSwitchEnterpriseAccount=function(t){var e=this;this.switchAccountDom=this.createMessageIframe((function(n,r){r?e.switchAccountMessage.setIframeDom(n,M):null===t||void 0===t||t()}))},t.prototype.getIframeMountMessage=function(t){this.iframeMountMessage.receive(t)},t.prototype.getSwitchAccountMessage=function(t){this.switchAccountMessage.receive(t)},t.prototype.sendSwitchAccountMessage=function(t){this.switchAccountMessage.send({event:x,cookie:t,fromDomain:"B_DOMAIN"})},t.prototype.createMessageIframe=function(t){document.getElementById(P)&&t(document.getElementById(P),!1);var e=document.createElement("iframe");return e.src=D,e.id=P,e.style.visibility="hidden",e.style.width="0px",e.style.height="0px",document.body.appendChild(e),t(e,!0),e},t.prototype.getIframeMountMessageCheckFn=function(t){var e=t.data;return t.origin===M&&e.event===C},t.prototype.getSwitchAccountMessageCheckFn=function(t){var e=t.data;return t.origin===M&&e.event===R},t}(),k="ALREADY_JUMP_C_IFRAME",L="C_PAGE_SET_COOKIE",N="SUCCESS_SET_COOKIE",U="EXPIRED_COOKIE",j=[a.LC],F=a.LC,q=a.n0,B="iframe-to-c-set-cookie",Q=function(){function t(){this.iframeMountMessage=new u(this.getIframeMountMessageCheckFn),this.switchAccountMessage=new u(this.getSwitchAccountMessageCheckFn)}return t.prototype.connect=function(){this.iframeMountMessage.connect(),this.switchAccountMessage.connect()},t.prototype.dispose=function(){this.iframeMountMessage.dispose(),this.switchAccountMessage.dispose()},t.prototype.createSwitchEnterpriseAccount=function(t){var e=this;this.createMessageIframe((function(n,r){r?e.switchAccountMessage.setIframeDom(n,F):null===t||void 0===t||t()}))},t.prototype.getIframeMountMessage=function(t){this.iframeMountMessage.receive(t)},t.prototype.sendSwitchAccountMessage=function(t){this.switchAccountMessage.send({event:L,cookie:t,fromDomain:"C_DOMAIN"})},t.prototype.getSwitchAccountMessage=function(t){this.switchAccountMessage.receive(t)},t.prototype.createMessageIframe=function(t){document.getElementById(B)&&t(document.getElementById(B),!1);var e=document.createElement("iframe");return e.src=q,e.id=B,e.style.visibility="hidden",e.style.width="0px",e.style.height="0px",document.body.appendChild(e),t(e,!0),e},t.prototype.getIframeMountMessageCheckFn=function(t){var e=t.data,n=t.origin;return j.indexOf(n)>-1&&e.event===k},t.prototype.getSwitchAccountMessageCheckFn=function(t){var e=t.data,n=t.origin;return j.indexOf(n)>-1&&(e.event===N||e.event===U)},t}();!function(t){t.ON="ON",t.OFF="OFF"}(c||(c={}));var W,H=function(){function t(t,e){this.emitter=new s.Emitter,this.listenersArray=[],window.BroadcastChannel&&(this.channel=new window.BroadcastChannel(t)),this.messageCheckFn=e}return t.prototype.connect=function(){var t=this;this.connectState!==c.ON&&(this.connectState=c.ON,this.emitter.event((function(e){t.listenersArray.forEach((function(t){"function"===typeof t&&t(e)}))})),this.channel.onmessage=this.messageCallback.bind(this))},t.prototype.send=function(t){var e;null===(e=this.channel)||void 0===e||e.postMessage(t)},t.prototype.receive=function(t){this.listenersArray.includes(t)||this.listenersArray.push(t)},t.prototype.dispose=function(){var t;null===(t=this.channel)||void 0===t||t.close()},t.prototype.messageCallback=function(t){var e=!0;this.messageCheckFn&&(e=this.messageCheckFn(t)),e&&this.emitter.fire(t)},t}(),V=n(39202),G=function(){function t(){this.logoutMessage=new H("docMessageCenterChannel",this.logoutMessageCheckFn),this.key="".concat(Math.floor(1e9*Math.random()),"_").concat(+new Date)}return t.prototype.connect=function(){this.logoutMessage.connect()},t.prototype.getLogoutMessage=function(t){this.logoutMessage.receive(t)},t.prototype.sendLogoutMessage=function(t){this.logoutMessage.send({key:this.key,type:V.p.LOGOUT,userIndex:t})},t.prototype.logoutMessageCheckFn=function(t){return t.data.key!==this.key},t}();!function(t){t.QFYF_SUCCESS="login qfyf success",t.QQ_LOGIN_SUCCESS="login qq success",t.QQ_BING_SUCCESS="bind qq success"}(W||(W={}));var $=a.Cs,K=function(){function t(){this.getQQLoginMessage=new u(this.getQQLoginMessageCheckFn),this.getQQLoginIframeMessage=new u(this.getIframeMountCheckFn)}return t.prototype.connect=function(){this.getQQLoginMessage.connect(),this.getQQLoginIframeMessage.connect()},t.prototype.dispose=function(){this.getQQLoginMessage.dispose(),this.getQQLoginIframeMessage.dispose()},t.prototype.getQQLoginSuccessMessage=function(t){this.getQQLoginMessage.receive(t)},t.prototype.getQQIframeMessage=function(t){this.getQQLoginIframeMessage.receive(t)},t.prototype.createQQLoginIframe=function(t,e){var n=document.createElement("iframe");return n.src=e,n.frameBorder="0",n.scrolling="auto",n.width="100%",n.height="100%",n.id="login_frame",n.name="login_frame",t.appendChild(n),n},t.prototype.getIframeMountCheckFn=function(t){var e=t.data,n=t.origin;try{var r=JSON.parse(e);return!(!n.indexOf("xui.ptlogin2.qq.com")||"resize"!==r.action)}catch(i){return!1}},t.prototype.getQQLoginMessageCheckFn=function(t){var e=t.data;return!(!t.origin.indexOf($)||e!==W.QQ_LOGIN_SUCCESS)},t}(),Y=function(){this.qqLoginMessage=new K},z=a.Cs,J=a.qe,X=function(){function t(){this.envType="person",this.getWeworkLoginMessage=new u(this.getWeworkLoginMessageCheckFn)}return t.prototype.connect=function(t){t&&(this.envType=t),this.getWeworkLoginMessage.connect()},t.prototype.dispose=function(){this.getWeworkLoginMessage.dispose()},t.prototype.getWeworkLoginSuccessMessage=function(t){this.getWeworkLoginMessage.receive(t)},t.prototype.createWeworkLoginIframe=function(t,e){var n=document.createElement("iframe");return n.src=e,n.frameBorder="0",n.scrolling="auto",n.width="100%",n.height="100%",n.id="login_frame",n.name="login_frame",t.appendChild(n),n},t.prototype.getWeworkLoginMessageCheckFn=function(t){var e=t.data,n=t.origin,r="person"===this.envType?z:J;return!!(n.indexOf(r)&&"string"===typeof e&&e.indexOf("login wework success")>-1)},t}(),Z=function(){this.weworkLoginMessage=new X},tt=function(){function t(){this.getEnterpriseAccountListMessage=new _,this.switchEnterpriseAccountMessage=new T,this.getPersonAccountListMessage=new O,this.switchPersonAccountMessage=new Q,this.qqMessage=new Y,this.weworkMessage=new Z,this.logoutMessage=new G}return t.prototype.init=function(){return(0,i.__awaiter)(this,void 0,void 0,(function(){return(0,i.__generator)(this,(function(t){return[2]}))}))},(0,i.__decorate)([(0,o.u)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",Promise)],t.prototype,"init",null),t}()},50775:function(t,e,n){n.d(e,{Y:function(){return r}});var r=(0,n(76138).yh)("INotificationDomainService")},39430:function(t,e,n){n.d(e,{e:function(){return D}});var r=n(25490),i=n(52068),o=n(96501),a=n(23709),s=n(58257),c=n(44152),u=n(68124),d=function(t){function e(e){var n=t.call(this)||this;return n.dataType=0,n.domainId="",n.localPadId="",n.padTitle="",n.padType="",n.padUrl="",n.page="",n.jsonObj2Class(e),n}return(0,r.__extends)(e,t),e}(u.K),f=function(t){function e(e){var n=t.call(this)||this;return n.avatar="",n.nick="",n.uid="",n.jsonObj2Class(e),n}return(0,r.__extends)(e,t),e}(u.K),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.notifyUserInfo=new f({}),e.notifyPadInfo=new d({}),e.aRightFlag=0,e.bRightFlag=0,e.nRightFlag=0,e.rightFlag=0,e.denyCount=0,e.flag=0,e.id="",e.op="",e.pass=0,e.sendDate=0,e.subject="",e.type=0,e}return(0,r.__extends)(e,t),e.prototype.initWithJsonObj=function(t){t?(this.aRightFlag=t.aRightFlag,this.bRightFlag=t.bRightFlag,this.nRightFlag=t.nRightFlag,this.rightFlag=t.rightFlag,this.denyCount=t.denyCount,this.flag=t.flag,this.pass=t.pass,this.sendDate=t.send_date,this.type=t.type,this.id=t.id,this.op=t.op,this.subject=t.subject,this.notifyPadInfo=new d(t),this.notifyUserInfo=new f(t)):e.logger.debug("params erroro: initWithJsonObj")},e}(c.J),l=n(28612),h="".concat(l.HL,"notify_getnum"),g="".concat(l.HL,"notify_list"),v="".concat(l.HL,"auth_set"),y="".concat(l.HL,"auth_apply/check"),_="".concat(l.HL,"notify_delete"),m="".concat(l.HL,"transowner_accept"),w="".concat(l.HL,"transowner_reject"),b=n(83871),I=n(19780),E=n(45301),S=function(){function t(t){this.networkRequestService=t}return t.prototype.notifyGetNum=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t,e;return(0,r.__generator)(this,(function(n){return t={xsrf:"".concat((0,I.w$)(I.$W.xsrf))},e=(0,E.At)(h,t),[2,b.networkRequest.get(e)]}))}))},t.prototype.notifyList=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e,n;return(0,r.__generator)(this,(function(r){return t?(e=(0,E.At)(g,{xsrf:"".concat((0,I.w$)(I.$W.xsrf)),start:t}),[2,b.networkRequest.get(e)]):(n=(0,E.At)(g,{xsrf:"".concat((0,I.w$)(I.$W.xsrf))}),[2,b.networkRequest.get(n)])}))}))},t.prototype.currentDocNotifyList=function(t,e,n){return(0,r.__awaiter)(this,void 0,void 0,(function(){var i,o;return(0,r.__generator)(this,(function(r){return n?(o={xsrf:"".concat((0,I.w$)(I.$W.xsrf)),domainId:t,localPadId:e,start:n},i=(0,E.At)(g,o)):(o={xsrf:"".concat((0,I.w$)(I.$W.xsrf)),domainId:t,localPadId:e},i=(0,E.At)(g,o)),[2,b.networkRequest.get(i)]}))}))},t.prototype.authSet=function(t,e,n,i){return(0,r.__awaiter)(this,void 0,void 0,(function(){var o,a;return(0,r.__generator)(this,(function(r){return o={xsrf:(0,I.w$)(I.$W.xsrf),domainId:t,localPadId:e,notifyId:n,setInfo:i},a="".concat(v),[2,b.networkRequest.post(a,o)]}))}))},t.prototype.authApplyCheck=function(t,e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n,i;return(0,r.__generator)(this,(function(r){return n={xsrf:"".concat((0,I.w$)(I.$W.xsrf)),domainId:t,localPadId:e},i=(0,E.At)(y,n),[2,b.networkRequest.get(i)]}))}))},t.prototype.notifyDelete=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e,n;return(0,r.__generator)(this,(function(r){return e={id:t,xsrf:"".concat((0,I.w$)(I.$W.xsrf))},n=(0,E.At)(_,e),[2,b.networkRequest.get(n)]}))}))},t.prototype.transownerAccept=function(t,e,n,i){return(0,r.__awaiter)(this,void 0,void 0,(function(){var o,a;return(0,r.__generator)(this,(function(r){return o={xsrf:(0,I.w$)(I.$W.xsrf),domainId:t,localPadId:e,notifyId:n,setInfo:i},a="".concat(m),[2,b.networkRequest.post(a,o)]}))}))},t.prototype.transownerReject=function(t,e,n,i){return(0,r.__awaiter)(this,void 0,void 0,(function(){var o,a;return(0,r.__generator)(this,(function(r){return o={xsrf:(0,I.w$)(I.$W.xsrf),domainId:t,localPadId:e,notifyId:n,setInfo:i},a="".concat(w),[2,b.networkRequest.post(a,o)]}))}))},t=(0,r.__decorate)([(0,r.__param)(0,i._),(0,r.__metadata)("design:paramtypes",[Object])],t)}(),A=n(38516),O=function(t){function e(e){var n=t.call(this)||this;return n.unreadSumCount=0,n.hasPolicyNotify=0,n.jsonObj2Class(e),n}return(0,r.__extends)(e,t),e}(u.K),C="unreadInfo",x="list",R=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.docMetaDomainService=n,i.networkRequest=r,i.unreadInfo=new O({}),i.notifysAll=[],i.notifysCurrent=[],i.mOnNotifyUnreadInfoDidUpdated=new A.Emitter,i.onNotifyUnreadInfoDidUpdated=i.mOnNotifyUnreadInfoDidUpdated.event,i.notificationRepository=new S(r),i}return(0,r.__extends)(e,t),e.prototype.notifyGetNum=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(t){return[2,this.notificationRepository.notifyGetNum()]}))}))},e.prototype.notifyList=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return t||(this.notifysAll=[]),[2,this.notificationRepository.notifyList(t)]}))}))},e.prototype.currentDocNotifyList=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return t||(this.notifysCurrent=[]),[2,this.notificationRepository.currentDocNotifyList(this.docMetaDomainService.docMetaEntity.padInfo.domainId,this.docMetaDomainService.docMetaEntity.padInfo.padId,t)]}))}))},e.prototype.authSet=function(t,e,n,i){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(r){return[2,this.notificationRepository.authSet(t,e,n,i)]}))}))},e.prototype.authApplyCheck=function(t,e){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(n){return[2,this.notificationRepository.authApplyCheck(t,e)]}))}))},e.prototype.notifyDelete=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.notificationRepository.notifyDelete(t)]}))}))},e.prototype.transownerAccept=function(t,e,n,i){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(r){return[2,this.notificationRepository.transownerAccept(t,e,n,i)]}))}))},e.prototype.transownerReject=function(t,e,n,i){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(r){return[2,this.notificationRepository.transownerReject(t,e,n,i)]}))}))},e.prototype.clearUnreadInfo=function(){this.unreadInfo=new O({}),this.mOnNotifyUnreadInfoDidUpdated.fire({unreadInfo:this.unreadInfo})},(0,r.__decorate)([(0,s.BX)("mOnNotifyUnreadInfoDidUpdated",C),(0,s.sv)(O.prototype.constructor,C),(0,s.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[]),(0,r.__metadata)("design:returntype",Promise)],e.prototype,"notifyGetNum",null),(0,r.__decorate)([(0,s.FY)(p.prototype.constructor,"notifysAll",x),(0,s.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[String]),(0,r.__metadata)("design:returntype",Promise)],e.prototype,"notifyList",null),(0,r.__decorate)([(0,s.FY)(p.prototype.constructor,"notifysCurrent",x),(0,s.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[String]),(0,r.__metadata)("design:returntype",Promise)],e.prototype,"currentDocNotifyList",null),(0,r.__decorate)([(0,s.Hh)(),(0,s.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[String,String,String,Object]),(0,r.__metadata)("design:returntype",Promise)],e.prototype,"authSet",null),(0,r.__decorate)([(0,s.Hh)(),(0,s.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[String,String]),(0,r.__metadata)("design:returntype",Promise)],e.prototype,"authApplyCheck",null),(0,r.__decorate)([(0,s.Hh)(),(0,s.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[String]),(0,r.__metadata)("design:returntype",Promise)],e.prototype,"notifyDelete",null),(0,r.__decorate)([(0,s.Hh)(),(0,s.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[String,String,String,Object]),(0,r.__metadata)("design:returntype",Promise)],e.prototype,"transownerAccept",null),(0,r.__decorate)([(0,s.Hh)(),(0,s.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[String,String,String,Object]),(0,r.__metadata)("design:returntype",Promise)],e.prototype,"transownerReject",null),e=(0,r.__decorate)([(0,r.__param)(1,o.v),(0,r.__param)(2,i._),(0,r.__metadata)("design:paramtypes",[String,Object,Object])],e)}(a.Z),M=n(18497),D=function(){function t(t,e){this.docMetaDomainService=t,this.networkRequest=e,this.notificationAggregate=new R("mainUserInfoAggregate",t,e)}return t.prototype.init=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.docMetaDomainService.init(t)];case 1:return e.sent(),[2]}}))}))},(0,r.__decorate)([(0,M.u)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Object]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"init",null),t=(0,r.__decorate)([(0,r.__param)(0,o.v),(0,r.__param)(1,i._),(0,r.__metadata)("design:paramtypes",[Object,Object])],t)}()},66997:function(t,e,n){n.d(e,{Y:function(){return r}});var r=(0,n(76138).yh)("INotifyScopeDomainService")},245:function(t,e,n){n.d(e,{l:function(){return _}});var r=n(25490),i=n(23709),o=n(58257),a=n(90011),s=n(28612),c="".concat(s.Hf,"/wedoc/notifyscope"),u="".concat(s.Hf,"/wedoc/editnotify"),d=n(83871),f=function(){function t(){}return t.prototype.getNotifyType=function(t){var e=(0,a.bk)((0,r.__assign)({},t));return d.networkRequest.post(c,e)},t.prototype.setNotifyType=function(t){var e=(0,a.bk)((0,r.__assign)({},t));return d.networkRequest.post(c,e)},t.prototype.editnotify=function(t){var e=(0,a.bk)((0,r.__assign)({},t));return d.networkRequest.post(u,e)},t}(),p=function(t){function e(e){var n=t.call(this)||this;return n.notifyType=0,n.jsonObj2Class(e),n}return(0,r.__extends)(e,t),e}(n(68124).K),l=n(38516),h="mOnNotifyInfoDidUpdated",g="notifyInfo",v=function(t){function e(e){var n=t.call(this,e)||this;return n.mOnNotifyInfoDidUpdated=new l.Emitter,n.notifyScopeRepository=new f,n.onNotifyInfoDidUpdated=n.mOnNotifyInfoDidUpdated.event,n}return(0,r.__extends)(e,t),e.prototype.getNotifyType=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.notifyScopeRepository.getNotifyType(t)]}))}))},e.prototype.setNotifyType=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.notifyScopeRepository.setNotifyType(t)]}))}))},e.prototype.editnotify=function(t){return this.notifyScopeRepository.editnotify(t)},e.prototype.setNotifyTypeWithParams=function(t){!t||t.length<1||(this.notifyInfo=new p({notifyType:t[0].notifyType}))},(0,r.__decorate)([(0,o.BX)(h,g),(0,o.sv)(p.prototype.constructor,g),(0,o.Hh)(),(0,o.LD)(),(0,o.bj)(),(0,o.w1)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Object]),(0,r.__metadata)("design:returntype",Promise)],e.prototype,"getNotifyType",null),(0,r.__decorate)([(0,o.BX)(h,g),(0,o.CK)("setNotifyTypeWithParams"),(0,o.LD)(),(0,o.bj)(),(0,o.w1)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Object]),(0,r.__metadata)("design:returntype",Promise)],e.prototype,"setNotifyType",null),(0,r.__decorate)([(0,o.Hh)(),(0,o.LD)(),(0,o.bj)(),(0,o.w1)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Object]),(0,r.__metadata)("design:returntype",Promise)],e.prototype,"editnotify",null),e}(i.Z),y=n(18497),_=function(){function t(){this.notifyScopeAggregate=new v("mainINotifyScope")}return t.prototype.init=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(t){return[2]}))}))},(0,r.__decorate)([(0,y.u)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"init",null),t}()},56661:function(t,e,n){n.d(e,{j:function(){return r}});var r=(0,n(76138).yh)("IShareDomainService")},66497:function(t,e,n){n.d(e,{d:function(){return nt}});var r=n(25490),i=n(52068),o=n(96501),a=n(58257),s=n(28612),c="".concat(s.HL,"user_recent"),u="".concat(s.HL,"auth_sendmsg"),d="".concat(s.Hf,"/cgi-go/common-notify/view"),f="".concat(s.HL,"browser_list"),p="".concat(s.Hf,"/v2/privilege/wxsharelink/save"),l="".concat(s.Hf,"/v2/privilege/wxsharelink/get"),h="".concat(s.Hf,"/v2/privilege/wxsharelink/recall"),g="".concat(s.HL,"wxqrcode"),v="".concat(s.HL,"qq_import/setTips"),y="".concat(s.Hf,"/cgi-bin/share/share_doc"),_="".concat(s.HL,"auth_info/update"),m="".concat(s.Hf,"/sdc/friends"),w="".concat(s.Hf,"/sdc/gmembers"),b="".concat(s.Hf,"/sdc/dmembers"),I="".concat(s.Hf,"/v2/group/getinfo"),E="".concat(s.Hf,"/v2/sdc/friendchat"),S="".concat(s.Hf,"/v2/util/qq/auth/check"),A="".concat(s.Hf,"/enterprise/v1/cig/departments"),O="".concat(s.Hf,"/enterprise/v1/cig/search-user"),C="".concat(s.HL,"group_list"),x="".concat(s.HL,"group_members"),R="".concat(s.HL,"group_modify"),M="".concat(s.HL,"group_deletemember"),D="".concat(s.HL,"group_remove"),P="".concat(s.HL,"group_addmember"),T="".concat(s.HL,"group_create"),k="".concat(s.HL,"group_info"),L="".concat(s.HL,"group_quit"),N="".concat(s.HL,"group_checker"),U="".concat(s.HL,"group_addkey"),j="".concat(s.HL,"group_activate"),F=function(){function t(t,e){this.docMetaDomainService=t,this.networkRequestService=e}return t.prototype.fetchGroupList=function(t,e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n;return(0,r.__generator)(this,(function(i){return n={start:t,limit:e,t:(new Date).getTime()},[2,this.networkRequestService.instance.post(C,(0,r.__assign)({},n))]}))}))},t.prototype.fetchGroupMembers=function(t,e,n){return(0,r.__awaiter)(this,void 0,void 0,(function(){var i;return(0,r.__generator)(this,(function(o){return i={group_id:t,start:e,limit:n,t:(new Date).getTime()},[2,this.networkRequestService.instance.post(x,(0,r.__assign)({},i))]}))}))},t.prototype.modifyGroup=function(t,e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n;return(0,r.__generator)(this,(function(i){return n={group_id:t,group_name:e},[2,this.networkRequestService.instance.post(R,(0,r.__assign)({},n))]}))}))},t.prototype.deleteGroupMember=function(t,e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n;return(0,r.__generator)(this,(function(i){return n={group_id:t,mem_list:[e]},[2,this.networkRequestService.instance.post(M,(0,r.__assign)({},n))]}))}))},t.prototype.removeGroup=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(n){return e={group_id:t},[2,this.networkRequestService.instance.post(D,(0,r.__assign)({},e))]}))}))},t.prototype.addGroupMember=function(t,e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n;return(0,r.__generator)(this,(function(i){return n={group_id:t,mem_list:JSON.stringify(e)},[2,this.networkRequestService.instance.post(P,(0,r.__assign)({},n))]}))}))},t.prototype.createGroup=function(t,e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n;return(0,r.__generator)(this,(function(i){return n={group_name:t,is_temp:e},[2,this.networkRequestService.instance.post(T,(0,r.__assign)({},n))]}))}))},t.prototype.fetchGroupInfo=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(n){return e={group_id:t,get_key:!1},[2,this.networkRequestService.instance.post(k,(0,r.__assign)({},e))]}))}))},t.prototype.quitGroup=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(n){return e={group_id:t},[2,this.networkRequestService.instance.post(L,(0,r.__assign)({},e))]}))}))},t.prototype.checkCreateGroup=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t;return(0,r.__generator)(this,(function(e){return t={},[2,this.networkRequestService.instance.post(N,(0,r.__assign)({},t))]}))}))},t.prototype.addKeyToGroup=function(t,e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n;return(0,r.__generator)(this,(function(i){return n={group_id:t,share_key:e},[2,this.networkRequestService.instance.post(U,(0,r.__assign)({},n))]}))}))},t.prototype.activateGroup=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(n){return e={group_id:t},[2,this.networkRequestService.instance.post(j,(0,r.__assign)({},e))]}))}))},t=(0,r.__decorate)([(0,r.__param)(0,o.v),(0,r.__param)(1,i._),(0,r.__metadata)("design:paramtypes",[Object,Object])],t)}(),q=function(){function t(t,e){this.docMetaDomainService=t,this.networkRequest=e,this.groupShareRepository=new F(t,e)}return t.prototype.fetchGroupList=function(t,e){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(n){return[2,this.groupShareRepository.fetchGroupList(t,e)]}))}))},t.prototype.fetchGroupMembers=function(t,e,n){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(r){return[2,this.groupShareRepository.fetchGroupMembers(t,e,n)]}))}))},t.prototype.modifyGroup=function(t,e){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(n){return[2,this.groupShareRepository.modifyGroup(t,e)]}))}))},t.prototype.deleteGroupMember=function(t,e){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(n){return[2,this.groupShareRepository.deleteGroupMember(t,e)]}))}))},t.prototype.removeGroup=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.groupShareRepository.removeGroup(t)]}))}))},t.prototype.addGroupMember=function(t,e){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(n){return[2,this.groupShareRepository.addGroupMember(t,e)]}))}))},t.prototype.createGroup=function(t,e){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(n){return[2,this.groupShareRepository.createGroup(t,e)]}))}))},t.prototype.fetchGroupInfo=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.groupShareRepository.fetchGroupInfo(t)]}))}))},t.prototype.quitGroup=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.groupShareRepository.quitGroup(t)]}))}))},t.prototype.checkCreateGroup=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(t){return[2,this.groupShareRepository.checkCreateGroup()]}))}))},t.prototype.addKeyToGroup=function(t,e){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(n){return[2,this.groupShareRepository.addKeyToGroup(t,e)]}))}))},t.prototype.activateGroup=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.groupShareRepository.activateGroup(t)]}))}))},(0,r.__decorate)([(0,a.Hh)(),(0,a.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Number,Number]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"fetchGroupList",null),(0,r.__decorate)([(0,a.Hh)(),(0,a.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[String,Number,Number]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"fetchGroupMembers",null),(0,r.__decorate)([(0,a.Hh)(),(0,a.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[String,String]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"modifyGroup",null),(0,r.__decorate)([(0,a.Hh)(),(0,a.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[String,String]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"deleteGroupMember",null),(0,r.__decorate)([(0,a.Hh)(),(0,a.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[String]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"removeGroup",null),(0,r.__decorate)([(0,a.Hh)(),(0,a.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[String,Array]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"addGroupMember",null),(0,r.__decorate)([(0,a.Hh)(),(0,a.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[String,Boolean]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"createGroup",null),(0,r.__decorate)([(0,a.Hh)(),(0,a.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[String]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"fetchGroupInfo",null),(0,r.__decorate)([(0,a.Hh)(),(0,a.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[String]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"quitGroup",null),(0,r.__decorate)([(0,a.Hh)(),(0,a.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"checkCreateGroup",null),(0,r.__decorate)([(0,a.Hh)(),(0,a.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[String,String]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"addKeyToGroup",null),(0,r.__decorate)([(0,a.Hh)(),(0,a.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[String]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"activateGroup",null),t=(0,r.__decorate)([(0,r.__param)(0,o.v),(0,r.__param)(1,i._),(0,r.__metadata)("design:paramtypes",[Object,Object])],t)}(),B=n(19780),Q=n(45301),W=function(){function t(t,e){this.docMetaDomainService=t,this.networkRequestService=e}return t.prototype.fetchOrganizationalStructureList=function(t,e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n,i;return(0,r.__generator)(this,(function(r){return n={deptID:e,corpID:t,t:(new Date).getTime(),xsrf:"".concat((0,B.w$)(B.$W.xsrf))},i=(0,Q.At)(A,n),[2,this.networkRequestService.instance.get(i)]}))}))},t.prototype.searchQFYFUser=function(t,e,n){return(0,r.__awaiter)(this,void 0,void 0,(function(){var i,o;return(0,r.__generator)(this,(function(r){return i={corpid:t,pos:n,num:20,word:e,xsrf:"".concat((0,B.w$)(B.$W.xsrf)),t:(new Date).getTime()},o=(0,Q.At)(O,i),[2,this.networkRequestService.instance.get(o)]}))}))},t=(0,r.__decorate)([(0,r.__param)(0,o.v),(0,r.__param)(1,i._),(0,r.__metadata)("design:paramtypes",[Object,Object])],t)}(),H=function(){function t(t,e){this.docMetaDomainService=t,this.networkRequest=e,this.qfyfShareRepository=new W(t,e)}return t.prototype.fetchOrganizationalStructureList=function(t,e){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(n){return[2,this.qfyfShareRepository.fetchOrganizationalStructureList(t,e)]}))}))},t.prototype.searchQFYFUser=function(t,e,n){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(r){return[2,this.qfyfShareRepository.searchQFYFUser(t,e,n)]}))}))},(0,r.__decorate)([(0,a.Hh)(),(0,a.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[String,String]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"fetchOrganizationalStructureList",null),(0,r.__decorate)([(0,a.Hh)(),(0,a.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[String,String,String]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"searchQFYFUser",null),t=(0,r.__decorate)([(0,r.__param)(0,o.v),(0,r.__param)(1,i._),(0,r.__metadata)("design:paramtypes",[Object,Object])],t)}(),V=n(90011),G=n(55126),$=function(){function t(t,e,n){this.docMetaDomainService=t,this.networkRequestService=e,this.userInfoDomainService=n}return t.prototype.checkIfCanShare=function(t){return void 0===t&&(t=!1),(0,r.__awaiter)(this,void 0,void 0,(function(){var e,n,i,o;return(0,r.__generator)(this,(function(a){return e=(0,V.bk)({padId:this.docMetaDomainService.docMetaEntity.padInfo.padId,xsrf:(0,B.w$)(B.$W.xsrf)}),n={contentType:"application/x-www-form-urlencoded"},i=(0,r.__assign)({},t?{uflag:"qqsig"}:null),o=(0,Q.At)(_,i),[2,this.networkRequestService.instance.post(o,e,n)]}))}))},t.prototype.setTipsAfterImport=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e,n,i,o;return(0,r.__generator)(this,(function(a){return e=t.fileMd5,n=t.guestUid,i=t.guestUidType,o={file_md5:e,guest_uid:n,guest_uid_type:i,tips_showed_fl:1},[2,this.networkRequestService.instance.post(v,(0,r.__assign)({},o))]}))}))},t.prototype.shareToQQOrTIM=function(t,e){return void 0===e&&(e=!1),(0,r.__awaiter)(this,void 0,void 0,(function(){var n,i,o,a;return(0,r.__generator)(this,(function(s){return n=(0,V.bk)({padid:this.docMetaDomainService.docMetaEntity.padInfo.padId,domainid:this.docMetaDomainService.docMetaEntity.padInfo.domainId,uins:JSON.stringify(t),xsrf:(0,B.w$)(B.$W.xsrf)}),i={contentType:"application/x-www-form-urlencoded"},o=(0,r.__assign)({},e?{uflag:"qqsig"}:null),a=(0,Q.At)(y,o),[2,this.networkRequestService.instance.post(a,n,i)]}))}))},t.prototype.fetchFriendsInfo=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t,e;return(0,r.__generator)(this,(function(n){return t={t:(new Date).getTime(),xsrf:"".concat((0,B.w$)(B.$W.xsrf))},e=(0,Q.At)(m,t),[2,this.networkRequestService.instance.get(e)]}))}))},t.prototype.fetchGroupMember=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e,n;return(0,r.__generator)(this,(function(r){return e={dstuin:t,t:(new Date).getTime(),xsrf:"".concat((0,B.w$)(B.$W.xsrf))},n=(0,Q.At)(w,e),[2,this.networkRequestService.instance.get(n)]}))}))},t.prototype.fetchDiscussGroupMember=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e,n;return(0,r.__generator)(this,(function(r){return e={dstuin:t,t:(new Date).getTime(),xsrf:"".concat((0,B.w$)(B.$W.xsrf))},n=(0,Q.At)(b,e),[2,this.networkRequestService.instance.get(n)]}))}))},t.prototype.checkSkeyAuth=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t;return(0,r.__generator)(this,(function(e){return t={uin:this.userInfoDomainService.userInfoAggregate.userInfo.uin,p_lskey:(0,V.s4)()||"",p_skey:(0,V.DN)()||""},[2,this.networkRequestService.instance.post(S,(0,r.__assign)({},t))]}))}))},t.prototype.fetchGroupInfo=function(t){var e={groupCode:t,xsrf:"".concat((0,B.w$)(B.$W.xsrf))};return this.networkRequestService.instance.post(I,(0,r.__assign)({},e))},t.prototype.fetchFriendInfo=function(t){var e={uin:"".concat(t),xsrf:"".concat((0,B.w$)(B.$W.xsrf))};return this.networkRequestService.instance.post(E,(0,r.__assign)({},e))},t=(0,r.__decorate)([(0,r.__param)(0,o.v),(0,r.__param)(1,i._),(0,r.__param)(2,G.m),(0,r.__metadata)("design:paramtypes",[Object,Object,Object])],t)}(),K=n(93512),Y=function(){function t(t,e,n){this.docMetaDomainService=t,this.networkRequest=e,this.userInfoDomainService=n,this.qqShareRepository=new $(t,e,n)}return t.prototype.checkIfCanShare=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t,e;return(0,r.__generator)(this,(function(n){return t=this.userInfoDomainService.userInfoAggregate.userInfo.loginType,e=![K.Q.QQ,K.Q.WX].includes(t),[2,this.qqShareRepository.checkIfCanShare(e)]}))}))},t.prototype.setTipsAfterImport=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.qqShareRepository.setTipsAfterImport(t)]}))}))},t.prototype.shareToQQOrTIM=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e,n;return(0,r.__generator)(this,(function(r){return e=this.userInfoDomainService.userInfoAggregate.userInfo.loginType,n=![K.Q.QQ,K.Q.WX].includes(e),[2,this.qqShareRepository.shareToQQOrTIM(t,n)]}))}))},t.prototype.fetchFriendsInfo=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(t){return[2,this.qqShareRepository.fetchFriendsInfo()]}))}))},t.prototype.fetchGroupMember=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.qqShareRepository.fetchGroupMember(t)]}))}))},t.prototype.fetchDiscussGroupMember=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.qqShareRepository.fetchDiscussGroupMember(t)]}))}))},t.prototype.checkSkeyAuth=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(t){return[2,this.qqShareRepository.checkSkeyAuth()]}))}))},t.prototype.fetchGroupInfo=function(t){return this.qqShareRepository.fetchGroupInfo(t)},t.prototype.fetchFriendInfo=function(t){return this.qqShareRepository.fetchFriendInfo(t)},(0,r.__decorate)([(0,a.Hh)(),(0,a.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"checkIfCanShare",null),(0,r.__decorate)([(0,a.Hh)(),(0,a.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Object]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"setTipsAfterImport",null),(0,r.__decorate)([(0,a.Hh)(),(0,a.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Array]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"shareToQQOrTIM",null),(0,r.__decorate)([(0,a.Hh)(),(0,a.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"fetchFriendsInfo",null),(0,r.__decorate)([(0,a.Hh)(),(0,a.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[String]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"fetchGroupMember",null),(0,r.__decorate)([(0,a.Hh)(),(0,a.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[String]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"fetchDiscussGroupMember",null),(0,r.__decorate)([(0,a.Hh)(),(0,a.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"checkSkeyAuth",null),(0,r.__decorate)([(0,a.Hh)(),(0,a.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[String]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"fetchGroupInfo",null),(0,r.__decorate)([(0,a.Hh)(),(0,a.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[String]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"fetchFriendInfo",null),t=(0,r.__decorate)([(0,r.__param)(0,o.v),(0,r.__param)(1,i._),(0,r.__param)(2,G.m),(0,r.__metadata)("design:paramtypes",[Object,Object,Object])],t)}(),z=function(){function t(t,e){this.docMetaDomainService=t,this.networkRequestService=e}return t.prototype.fetchRecentUserInfo=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t,e;return(0,r.__generator)(this,(function(n){return t={padId:this.docMetaDomainService.docMetaEntity.padInfo.padId,domain:this.docMetaDomainService.docMetaEntity.padInfo.domainId,xsrf:"".concat((0,B.w$)(B.$W.xsrf))},e=(0,Q.At)(c,t),[2,this.networkRequestService.instance.post(e)]}))}))},t.prototype.sendDocToMember=function(t,e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n;return(0,r.__generator)(this,(function(i){return n={padId:this.docMetaDomainService.docMetaEntity.padInfo.padId,domainId:this.docMetaDomainService.docMetaEntity.padInfo.domainId,addmemlist:JSON.stringify(t),corpid:(0,V.Pc)(e),xsrf:(0,B.w$)(B.$W.xsrf)},[2,this.networkRequestService.instance.post(u,(0,r.__assign)({},n))]}))}))},t.prototype.exportToPC=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t;return(0,r.__generator)(this,(function(e){return t={padId:this.docMetaDomainService.docMetaEntity.padInfo.padId,xsrf:(0,B.w$)(B.$W.xsrf)},[2,this.networkRequestService.instance.post(d,(0,r.__assign)({},t))]}))}))},t.prototype.fetchBrowserList=function(t,e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n,i;return(0,r.__generator)(this,(function(r){return n={domain_id:this.docMetaDomainService.docMetaEntity.padInfo.domainId,pad_id:this.docMetaDomainService.docMetaEntity.padInfo.padId,start:t,limit:e,xsrf:"".concat((0,B.w$)(B.$W.xsrf)),t:(new Date).getTime()},i=(0,Q.At)(f,n),[2,this.networkRequestService.instance.get(i)]}))}))},t=(0,r.__decorate)([(0,r.__param)(0,o.v),(0,r.__param)(1,i._),(0,r.__metadata)("design:paramtypes",[Object,Object])],t)}(),J=function(){function t(t,e){this.docMetaDomainService=t,this.networkRequest=e,this.shareRepository=new z(t,e)}return t.prototype.sendDocToMember=function(t,e){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(n){return[2,this.shareRepository.sendDocToMember(t,e)]}))}))},t.prototype.fetchRecentUserInfo=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(t){return[2,this.shareRepository.fetchRecentUserInfo()]}))}))},t.prototype.exportToPC=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(t){return[2,this.shareRepository.exportToPC()]}))}))},t.prototype.fetchBrowserList=function(t,e){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(n){return[2,this.shareRepository.fetchBrowserList(t,e)]}))}))},(0,r.__decorate)([(0,a.Hh)(),(0,a.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Array,String]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"sendDocToMember",null),(0,r.__decorate)([(0,a.Hh)(),(0,a.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"fetchRecentUserInfo",null),(0,r.__decorate)([(0,a.Hh)(),(0,a.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"exportToPC",null),(0,r.__decorate)([(0,a.Hh)(),(0,a.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Number,Number]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"fetchBrowserList",null),t=(0,r.__decorate)([(0,r.__param)(0,o.v),(0,r.__param)(1,i._),(0,r.__metadata)("design:paramtypes",[Object,Object])],t)}(),X=function(){function t(t,e){this.docMetaDomainService=t,this.networkRequestService=e}return t.prototype.addWxShareLinkCount=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(n){return e={doc_id:this.docMetaDomainService.docMetaEntity.padInfo.padId,token:t},[2,this.networkRequestService.instance.post(p,(0,r.__assign)({},e))]}))}))},t.prototype.fetchWxShareLinkCount=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t;return(0,r.__generator)(this,(function(e){return t={doc_id:this.docMetaDomainService.docMetaEntity.padInfo.padId},[2,this.networkRequestService.instance.post(l,(0,r.__assign)({},t))]}))}))},t.prototype.wxShare=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e,n,i,o;return(0,r.__generator)(this,(function(a){return e=t.groupId,n=t.shareLink,i=t.policy,o={groupId:(0,V.Pc)(e),domainId:this.docMetaDomainService.docMetaEntity.padInfo.domainId,padId:this.docMetaDomainService.docMetaEntity.padInfo.padId,page:"h5",right_flag:2,type:1,param:encodeURIComponent(n),ac:"share",policy:i,xsrf:(0,B.w$)(B.$W.xsrf)},[2,this.networkRequestService.instance.post(g,(0,r.__assign)({},o))]}))}))},t.prototype.stopWxShare=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t;return(0,r.__generator)(this,(function(e){return t={doc_id:this.docMetaDomainService.docMetaEntity.padInfo.padId},[2,this.networkRequestService.instance.post(h,(0,r.__assign)({},t))]}))}))},t=(0,r.__decorate)([(0,r.__param)(0,o.v),(0,r.__param)(1,i._),(0,r.__metadata)("design:paramtypes",[Object,Object])],t)}(),Z=function(){function t(t,e){this.docMetaDomainService=t,this.networkRequest=e,this.weChatShareRepository=new X(t,e)}return t.prototype.fetchWxShareLinkCount=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(t){return[2,this.weChatShareRepository.fetchWxShareLinkCount()]}))}))},t.prototype.stopWxShare=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(t){return[2,this.weChatShareRepository.stopWxShare()]}))}))},t.prototype.addWxShareLinkCount=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.weChatShareRepository.addWxShareLinkCount(t)]}))}))},t.prototype.wxShare=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.weChatShareRepository.wxShare(t)]}))}))},(0,r.__decorate)([(0,a.Hh)(),(0,a.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"fetchWxShareLinkCount",null),(0,r.__decorate)([(0,a.Hh)(),(0,a.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"stopWxShare",null),(0,r.__decorate)([(0,a.Hh)(),(0,a.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[String]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"addWxShareLinkCount",null),(0,r.__decorate)([(0,a.Hh)(),(0,a.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Object]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"wxShare",null),t=(0,r.__decorate)([(0,r.__param)(0,o.v),(0,r.__param)(1,i._),(0,r.__metadata)("design:paramtypes",[Object,Object])],t)}(),tt=function(){function t(t,e,n){this.docMetaDomainService=t,this.networkRequestService=e,this.userInfoDomainService=n,this.shareEntity=new J(t,e),this.groupShareEntity=new q(t,e),this.qqShareEntity=new Y(t,e,n),this.weChatShareEntity=new Z(t,e),this.qfyfShareEntity=new H(t,e)}return t=(0,r.__decorate)([(0,r.__param)(0,o.v),(0,r.__param)(1,i._),(0,r.__param)(2,G.m),(0,r.__metadata)("design:paramtypes",[Object,Object,Object])],t)}(),et=n(18497),nt=function(){function t(t,e,n){this.docMetaDomainService=t,this.networkRequest=e,this.userInfoDomainService=n,this.shareAggregate=new tt(t,e,n)}return t.prototype.init=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){switch(e.label){case 0:return[4,Promise.all([this.docMetaDomainService.init(t),this.userInfoDomainService.init(t)])];case 1:return e.sent(),[2]}}))}))},(0,r.__decorate)([(0,et.u)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Object]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"init",null),t=(0,r.__decorate)([(0,r.__param)(0,o.v),(0,r.__param)(1,i._),(0,r.__param)(2,G.m),(0,r.__metadata)("design:paramtypes",[Object,Object,Object])],t)}()},55126:function(t,e,n){n.d(e,{m:function(){return r}});var r=(0,n(76138).yh)("IUserInfoDomainService")},91435:function(t,e,n){n.d(e,{$:function(){return E}});var r=n(25490),i=n(58257),o=n(23709),a=n(44152),s=function(t){function e(e){var n=t.call(this)||this;return n.beginTime=0,n.endTime=0,n.isVip=!1,n.oldVip=!1,n.vipLevel=0,n.user={},n.recycleLimit={},n.collaborateLimit={},n.expansion={},n.superVip={},e.super_vip=e.super,n.jsonObj2Class(e),n}return(0,r.__extends)(e,t),e}(n(68124).K),c=n(93512),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.avatar="",e.qqAvatar="",e.wxAvatar="",e.nick="",e.qqNick="",e.wxNick="",e.corpId="",e.corpName="",e.domain="",e.domainId="",e.dbEmail="",e.email="",e.tinyid="",e.toid="",e.userId="",e.uid="",e.wxOpenid="",e.uidSource=0,e.uin="",e.login=!1,e.loginTime=0,e.loginType=c.Q.UNKNOWN,e.xu="",e.vipInfo=new s({}),e.vip="",e}return(0,r.__extends)(e,t),e}(a.J),d=n(28612),f="".concat(d.HL,"user_info"),p="".concat(d.HL,"vip_all"),l="".concat(d.HL,"user_flag"),h="".concat(d.HL,"user_info/check"),g=n(83871),v=n(19780),y=n(45301),_=function(){function t(){}return t.prototype.getUserInfo=function(t,e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n,i;return(0,r.__generator)(this,(function(o){return n={get_vip_info:t},e&&(n=(0,r.__assign)((0,r.__assign)({},n),{u:e})),i=(0,y.At)(f,n),[2,g.networkRequest.post(i,{xsrf:(0,v.w$)(v.$W.xsrf)})]}))}))},t.prototype.getVipInfo=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t;return(0,r.__generator)(this,(function(e){return t=(0,y.At)(p,{xsrf:"".concat((0,v.w$)(v.$W.xsrf))}),[2,g.networkRequest.post(t)]}))}))},t.prototype.getUserFlag=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(n){return e=(0,y.At)(l,{xsrf:"".concat((0,v.w$)(v.$W.xsrf)),type:t}),[2,g.networkRequest.post(e)]}))}))},t.prototype.userInfoCheck=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t;return(0,r.__generator)(this,(function(e){return t=(0,y.At)(h,{xsrf:"".concat((0,v.w$)(v.$W.xsrf))}),[2,g.networkRequest.post(t)]}))}))},t}(),m=n(38516),w="userInfo",b=function(t){function e(e){var n=t.call(this,e)||this;return n.userInfo=new u("mainUserInfo"),n.mOnUserInfoDidUpdated=new m.Emitter,n.userInfoRepository=new _,n.onUserInfoDidUpdated=n.mOnUserInfoDidUpdated.event,n}return(0,r.__extends)(e,t),e.prototype.fetchUserInfo=function(t,e){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(n){return[2,this.userInfoRepository.getUserInfo(t,e)]}))}))},e.prototype.fetchVipInfo=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(t){return this.vipInfo=[],[2,this.userInfoRepository.getVipInfo()]}))}))},e.prototype.fetchUserFlag=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.userInfoRepository.getUserFlag(t)]}))}))},e.prototype.userInfoCheck=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(t){return[2,this.userInfoRepository.userInfoCheck()]}))}))},(0,r.__decorate)([(0,i.BX)("mOnUserInfoDidUpdated",w),(0,i.sv)(u.prototype.constructor,w),(0,i.rx)(),(0,i.bj)(),(0,i.GT)("x-u","xu"),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Number,String]),(0,r.__metadata)("design:returntype",Promise)],e.prototype,"fetchUserInfo",null),(0,r.__decorate)([(0,i.FY)(s.prototype.constructor,"vipInfo","vip_info"),(0,i.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[]),(0,r.__metadata)("design:returntype",Promise)],e.prototype,"fetchVipInfo",null),(0,r.__decorate)([(0,i.Hh)(),(0,i.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Number]),(0,r.__metadata)("design:returntype",Promise)],e.prototype,"fetchUserFlag",null),(0,r.__decorate)([(0,i.Hh)(),(0,i.bj)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[]),(0,r.__metadata)("design:returntype",Promise)],e.prototype,"userInfoCheck",null),e}(o.Z),I=n(18497),E=function(){function t(){this.userInfoAggregate=new b("mainUserInfoAggregate"),this.isInitedByBasicClientVars=!1,window.basicClientVars&&this.initWithBasicClientVars(window.basicClientVars)}return t.prototype.init=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e,n,i;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return e=t.u,[4,this.userInfoAggregate.fetchUserInfo(1,e)];case 1:return n=r.sent().resData,(i=null===n||void 0===n?void 0:n.data)?(this.userInfoAggregate.userInfo.initWithJsonObj({avatar:i.userPic,nick:i.nick,corpId:i.corpId,corpName:i.corpName,domain:i.domain,domainId:i.domainId,loginType:i.loginType,login:i.login,uin:i.uin,uidSource:i.uidSource,wxOpenid:i.wxOpenid,tinyid:i.tinyid,userId:i.userId}),[2]):[2]}}))}))},t.prototype.updateWithClientVars=function(t){this.isInitedByBasicClientVars||this.userInfoAggregate.userInfo.initWithJsonObj({avatar:t.userPic,tinyid:t.tinyid,nick:t.userName,loginType:t.userType,userId:t.userId,uin:t.uin})},t.prototype.initWithBasicClientVars=function(t){var e;this.userInfoAggregate.userInfo.initWithJsonObj({corpId:t.userInfo.corpId,corpName:t.userInfo.corpName,loginType:t.userInfo.loginType,login:null===(e=t.authInfo)||void 0===e?void 0:e.isLogin,uin:t.userInfo.uin,uidSource:t.userInfo.uidSource,wxOpenid:t.userInfo.openId,tinyid:t.userInfo.tinyId,userId:t.userInfo.userId,avatar:t.userInfo.userPic,nick:t.userInfo.userName}),this.isInitedByBasicClientVars=!0},(0,r.__decorate)([(0,I.u)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Object]),(0,r.__metadata)("design:returntype",Promise)],t.prototype,"init",null),(0,r.__decorate)([(0,i.aU)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Object]),(0,r.__metadata)("design:returntype",void 0)],t.prototype,"initWithBasicClientVars",null),t}()},6529:function(t,e,n){n.r(e),n.d(e,{DependentServiceCombinder:function(){return ba},EventTarget:function(){return $o},EventType:function(){return Ko},ExtensionConfigManager:function(){return Ha},ExtensionEvent:function(){return _a},ExtensionManager:function(){return pa},ExtensionService:function(){return Qa},FCModule:function(){return os},IDependentServiceCombinder:function(){return Ia},IExtensionConfigManager:function(){return Ba},IExtensionEvent:function(){return ma},IExtensionManager:function(){return la},IExtensionService:function(){return Va},LoadType:function(){return jo},ScriptLoaderAdapter:function(){return rs},createExtensionService:function(){return Xa},initInstantiationService:function(){return es},injectExtensionServiceToCollection:function(){return ts},patchScriptLoader:function(){return is},registerExtensionService:function(){return Za}});var r=n(76138),i=n(44892),o=n(9400),a=n(93812),s=n(96501),c=n(37362),u=n(16348),d=n(13611),f=n(4289),p=n(24108),l=n(2363),h=n(8561),g=n(20849),v=n(9542),y=(n(11425),n(46396),n(53248),n(38934),n(13857),n(54371),n(95019),n(19553),n(71091),n(81144),n(15770),n(8195),n(30980),n(16640),n(37108),n(28255),n(50104),n(25111),n(39585),n(77575),n(76880),n(11502),n(96434),n(3377),n(71318),n(21530),n(84919),n(52865),n(20670),n(62883),n(75793),n(20594),n(90926),n(77468),n(31688),n(90109),n(93984),n(48845),n(25594),n(64425),n(41031),function(t,e){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},y(t,e)});function _(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}y(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var m=function(){return m=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},m.apply(this,arguments)};function w(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function b(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function I(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}var E=new Map;function S(t){return function(e){e.prototype.appenderOptions=t,E.set(t.name,{provide:e})}}var A=new Map,O=function(){function t(){}return t.get=function(t,e){var n=t;return A.has(t)||(n="basic",console.warn("".concat(t," layout doesn't exists"))),new(A.get(n).provide)(null!==e&&void 0!==e?e:{})},t}(),C=function(){function t(){this.config={},this.appenderOptions={name:""},this.configure({})}return t.prototype.configure=function(t){var e;Object.assign(this.config,t),t.layout?this.useLayout=O.get(t.layout.type,t.layout):this.useLayout=O.get(null!==(e=this.appenderOptions.defaultLayout)&&void 0!==e?e:"basic")},t.prototype.layout=function(t){return this.useLayout.transform(t)},t}(),x=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _(e,t),e.prototype.write=function(t){var e=t.level;return e.isGreaterThanOrEqualTo("ERROR")?console.error.apply(console,I([],b(this.layout(t)),!1)):e.isEqualTo("WARN")?console.warn.apply(console,I([],b(this.layout(t)),!1)):e.isEqualTo("INFO")?console.info.apply(console,I([],b(this.layout(t)),!1)):console.log.apply(console,I([],b(this.layout(t)),!1))},e=w([S({name:"console"})],e)}(C);function R(t){return function(e){A.set(t.name,{provide:e})}}var M=function(t){var e=/(%?)(%([jds]))/g,n=Array.prototype.slice.call(arguments,1);return n.length&&(t=t.replace(e,(function(t,e,r,i){var o=n.shift();switch(i){case"s":o=""+o;break;case"d":o=Number(o);break;case"j":o=JSON.stringify(o)}return e?(n.unshift(o),t):o}))),n.length&&(t+=" "+n.join(" ")),""+(t=t.replace(/%{2,2}/g,"%"))};function D(t,e){void 0===e&&(e="yyyy-MM-ddThh:mm:ss.SSS");var n="".concat(t.getDate()).padStart(2,"0"),r="".concat(t.getMonth()+1).padStart(2,"0"),i="".concat(t.getFullYear()).padStart(2,"0"),o="".concat(i).substring(2,4),a=e.indexOf("yyyy")>-1?i:o,s="".concat(t.getHours()).padStart(2,"0"),c="".concat(t.getMinutes()).padStart(2,"0"),u="".concat(t.getSeconds()).padStart(2,"0"),d="".concat(t.getMilliseconds()).padStart(3,"0"),f=function(t){var e=Math.abs(t),n=String(Math.floor(e/60)),r=String(e%60);return 1===n.length&&(n="0".concat(n)),1===r.length&&(r="0".concat(r)),t<0?"+".concat(n).concat(r):"-".concat(n).concat(r)}(t.getTimezoneOffset());return e.replace(/dd/g,n).replace(/MM/g,r).replace(/y{1,4}/g,a).replace(/hh/g,s).replace(/mm/g,c).replace(/ss/g,u).replace(/SSS/g,d).replace(/O/g,f)}var P,T=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _(e,t),e.prototype.transform=function(t){var e=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=t;return Array.isArray(r)||(r=I([r],b(e),!1)),M.apply(void 0,I([],b(r),!1))}("[%s] [%s] [%s] - ",D(t.startTime),t.formatedLevel,t.categoryName);return"string"===typeof t.data?[e+t.data]:[e,t.data]},e=w([R({name:"basic"})],e)}((function(){})),k=function(){function t(t,e,n,r){this._categoryName=t,this._level=e,this._data=n,this._context=r,this._startTime=new Date}return Object.defineProperty(t.prototype,"startTime",{get:function(){return this._startTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"categoryName",{get:function(){return this._categoryName},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return this._level},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"formatedLevel",{get:function(){return this.level.toString().padEnd(5," ")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data.length>1?this._data:this._data[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._context},enumerable:!1,configurable:!0}),t}(),L=function(){function t(t,e){this.level=t,this.levelStr=e,this.level=t,this.levelStr=e}return t.getLevel=function(e,n){return e instanceof t?e:"string"===typeof e?P[e.toUpperCase()]||n:this.getLevel(e.toString())},t.prototype.toString=function(){return this.levelStr},t.prototype.isLessThanOrEqualTo=function(e){return this.level<=t.getLevel(e).level},t.prototype.isGreaterThanOrEqualTo=function(e){return this.level>=t.getLevel(e).level},t.prototype.isEqualTo=function(e){return this.level===t.getLevel(e).level},t}();function N(){return P}P={ALL:new L(Number.MIN_VALUE,"ALL"),TRACE:new L(5e3,"TRACE"),DEBUG:new L(1e4,"DEBUG"),INFO:new L(2e4,"INFO"),WARN:new L(3e4,"WARN"),ERROR:new L(4e4,"ERROR"),FATAL:new L(5e4,"FATAL"),MARK:new L(9007199254740992,"MARK"),OFF:new L(Number.MAX_VALUE,"OFF")};var U=function(){function t(){this.appenders=new Map,this.levels=new Map}return Object.defineProperty(t.prototype,"size",{get:function(){return this.appenders.size},enumerable:!1,configurable:!0}),t.prototype.has=function(t){return this.appenders.has(t)},t.prototype.get=function(t){return this.appenders.get(t)},t.prototype.set=function(t,e){if(!E.has(t)){var n=new Error("Appender ".concat(t," doesn't exists. Check your configuration:\n").concat(JSON.stringify(e),"\n"));throw n.name="UNKNOW_APPENDER",n}var r=new(0,E.get(t).provide)(e);return this.appenders.set(t,{instance:r,config:e}),this.levels.clear(),this},t.prototype.delete=function(t){var e=this.appenders.delete(t);return e&&this.levels.clear(),e},t.prototype.clear=function(){this.appenders.clear(),this.levels.clear()},t.prototype.forEach=function(t,e){this.appenders.forEach(t,e)},t.prototype.byLogLevel=function(t){var e=t.toString();if(this.levels.has(e))return this.levels.get(e);var n=this.toArray().filter((function(e){return!e.config.levels||e.config.levels.find((function(e){return e.toUpperCase()===t.toString()}))})).map((function(t){return t.instance}));return this.levels.set(t.toString(),n),n},t.prototype.toArray=function(){var t=[];return this.appenders.forEach((function(e){return t.push(e)})),t},t}(),j="ALL",F=function(){function t(t){this.name=t,this.appenders=new U}return t.createStack=function(){var t,e=(null!==(t=(new Error).stack)&&void 0!==t?t:"").replace("Error\n","").split("\n");return e[0].indexOf("Logger.")>-1&&e.splice(0,1),e[0].indexOf("Logger.")>-1&&e.splice(0,1),e.join("\n")},Object.defineProperty(t.prototype,"level",{get:function(){return this.currentLevel?this.currentLevel.toString():L.getLevel(j).toString()},set:function(t){this.currentLevel=L.getLevel(t,j)},enumerable:!1,configurable:!0}),t.prototype.use=function(t,e){return this.appenders.set(t,m({layout:{type:"basic"},levels:["trace","debug","info","warn","error","fatal"]},e)),this},t.prototype.isLevelEnabled=function(t){return this.currentLevel?this.currentLevel.isLessThanOrEqualTo(t):L.getLevel(j).isLessThanOrEqualTo(t)},t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.write(N().DEBUG,t)},t.prototype.trace=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r="\n".concat(t.createStack(),"\n");return e.push(r),this.write(N().TRACE,e)},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.write(N().INFO,t)},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.write(N().WARN,t)},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.write(N().ERROR,t)},t.prototype.fatal=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.write(N().FATAL,t)},t.prototype.write=function(t,e){if(!this.isLevelEnabled(t))return this;var n=new k(this.name,t,e,this.context);return this.appenders.byLogLevel(t).forEach((function(t){t.write(n)})),this},t}();S({name:"console"})(x),R({name:"basic"})(T);var q=n(35083),B=n(88185),Q=n(76852),W=n(25962),H=n.n(W),V=n(83871),G=(0,r.yh)("IConnectionControllerService");function $(t){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$(t)}var K=function(t,e){return K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},K(t,e)};function Y(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}K(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var z=function(){return z=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},z.apply(this,arguments)};function J(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"===typeof Reflect?"undefined":$(Reflect))&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function X(t,e){return function(n,r){e(n,r,t)}}function Z(t,e){if("object"===("undefined"===typeof Reflect?"undefined":$(Reflect))&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)}function tt(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{c(r.next(t))}catch(e){o(e)}}function s(t){try{c(r.throw(t))}catch(e){o(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))}function et(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function nt(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function rt(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function it(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}var ot=function(t){return"".concat(String(t),"__locked")},at=function(t){return"".concat(String(t),"__result")};function st(){return function(t,e,n){var r=n.value,i=ot(e),o=at(e);n.value=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this[i]||(this[o]=r.call.apply(r,it([this],rt(t),!1)),this[i]=!0),this[o]}}}function ct(t){return function(e,n,r){var i=r.value,o=ot(t),a=at(t);r.value=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this[o]&&(this[o]=!1,this[a]=void 0),i.call.apply(i,it([this],rt(t),!1))}}}var ut,dt=function(){function t(e){this.element=e,this.next=t.Undefined,this.prev=t.Undefined}return t.Undefined=new t(void 0),t}(),ft=function(){function t(){this.first=dt.Undefined,this.last=dt.Undefined,this.mSize=0}return Object.defineProperty(t.prototype,"size",{get:function(){return this.mSize},enumerable:!1,configurable:!0}),t.prototype.isEmpty=function(){return this.first===dt.Undefined},t.prototype.clear=function(){this.first=dt.Undefined,this.last=dt.Undefined,this.mSize=0},t.prototype.unshift=function(t){return this.insert(t,!1)},t.prototype.push=function(t){return this.insert(t,!0)},t.prototype.shift=function(){if(this.first!==dt.Undefined){var t=this.first.element;return this.remove(this.first),t}},t.prototype.pop=function(){if(this.last!==dt.Undefined){var t=this.last.element;return this.remove(this.last),t}},t.prototype[Symbol.iterator]=function(){var t;return et(this,(function(e){switch(e.label){case 0:t=this.first,e.label=1;case 1:return t===dt.Undefined?[3,3]:[4,t.element];case 2:return e.sent(),t=t.next,[3,1];case 3:return[2]}}))},t.prototype.insert=function(t,e){var n=this,r=new dt(t);if(this.first===dt.Undefined)this.first=r,this.last=r;else if(e){var i=this.last;this.last=r,r.prev=i,i.next=r}else{var o=this.first;this.first=r,r.next=o,o.prev=r}this.mSize+=1;var a=!1;return function(){a||(a=!0,n.remove(r))}},t.prototype.remove=function(t){if(t.prev!==dt.Undefined&&t.next!==dt.Undefined){var e=t.prev;e.next=t.next,t.next.prev=e}else t.prev===dt.Undefined&&t.next===dt.Undefined?(this.first=dt.Undefined,this.last=dt.Undefined):t.next===dt.Undefined?(this.last=this.last.prev,this.last.next=dt.Undefined):t.prev===dt.Undefined&&(this.first=this.first.next,this.first.prev=dt.Undefined);this.mSize-=1},t}(),pt=function(){function t(t){this.disposed=!1,this.options=t}return Object.defineProperty(t.prototype,"event",{get:function(){var t=this;return this.mEvent||(this.mEvent=function(e,n,r){var o,a,s;t.listeners||(t.listeners=new ft);var c=t.listeners.isEmpty();c&&(null===(o=t.options)||void 0===o?void 0:o.onFirstListenerAdd)&&t.options.onFirstListenerAdd(t);var u=t.listeners.push(n?[e,n]:e);c&&(null===(a=t.options)||void 0===a?void 0:a.onFirstListenerDidAdd)&&t.options.onFirstListenerDidAdd(t),(null===(s=t.options)||void 0===s?void 0:s.onListenerDidAdd)&&t.options.onListenerDidAdd(t,e,n);var d={dispose:function(){var e;t.disposed||(u(),(null===(e=t.options)||void 0===e?void 0:e.onLastListenerRemove)&&(t.listeners&&!t.listeners.isEmpty()||t.options.onLastListenerRemove(t))),(0,i.markTracked)(d)},disposableId:"event"};return Array.isArray(r)&&r.push(d),(0,i.trackDisposable)(d),d}),this.mEvent},enumerable:!1,configurable:!0}),t.prototype.fire=function(t){var e,n;if(this.listeners){this.deliveryQueue||(this.deliveryQueue=new ft);try{for(var r=nt(this.listeners),i=r.next();!i.done;i=r.next()){var o=i.value;this.deliveryQueue.push([o,t])}}catch(c){e={error:c}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}for(;this.deliveryQueue.size>0;){var a=rt(this.deliveryQueue.shift(),2),s=(o=a[0],a[1]);try{"function"===typeof o?o.call(void 0,s):o[0].call(o[1],s)}catch(u){console.error(u)}}}},t.prototype.dispose=function(){this.listeners&&this.listeners.clear(),this.deliveryQueue&&this.deliveryQueue.clear(),this.disposed=!0},t}();function lt(t,e){return Object.prototype.toString.call(e)==="[object ".concat(t,"]")}!function(t){t[t.USER_INITIATIVE=72105]="USER_INITIATIVE"}(ut||(ut={}));var ht=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.docMetaDomainService=e,o.authDomainService=n,o.collaborateService=r,o.likeDomainService=i,o.onEnterOnlineEmitter=new pt,o.onEnterOfflineEmitter=new pt,o.onRoomStateChangeEmitter=new pt,o.onNetReconnectedFailEmitter=new pt,o.logger=new F("ConnectionControllerService").use("console"),o.onEnterOnline=o.onEnterOnlineEmitter.event,o.onEnterOffline=o.onEnterOfflineEmitter.event,o.onRoomStateChange=o.onRoomStateChangeEmitter.event,o.onNetReconnectedFail=o.onNetReconnectedFailEmitter.event,o.configEventHandlerMap(),o.configMsgHandlerMap(),o}return Y(e,t),e.prototype.init=function(){return tt(this,void 0,void 0,(function(){return et(this,(function(t){return[2]}))}))},e.prototype.getConnectionController=function(){return this.connectionController},e.prototype.dispose=function(){var e;t.prototype.dispose.call(this),null===(e=this.connectionController)||void 0===e||e.dispose()},e.prototype.openRoom=function(){if(!this.connectionController)throw new Error("没有 connectionController 对象，需要先通过 initConnectionControllerWithClientVars 初始化");this.connectionController.connect()},e.prototype.shutDown=function(t){if(!this.connectionController)throw new Error("没有 connectionController 对象，需要先通过 initConnectionControllerWithClientVars 初始化");var e=z({},t);e.errCode||(e.errCode=72105),this.connectionController.disconnect(e)},e.prototype.setConnectionController=function(t){var e=this;this.connectionController=t,this.connectionController.onConnectionEvent((function(t){e.dispathEvent(t)}))},e.prototype.initConnectionControllerWithClientVars=function(t){var e=this,n={serverVars:t.collab_client_vars,uuId:t.userId+t.collab_client_vars.client.sid.slice(0,5),userid:t.userId,module:"ARK",uid:t.tinyid};this.connectionController=new v.ConnectionController(n),this.connectionController.onConnectionEvent((function(t){e.dispathEvent(t)}))},e.prototype.configEventHandlerMap=function(){var t=this;this.eventHandlerMap={onEnterOnline:function(){return t.onEnterOnlineEmitter.fire(void 0)},onEnterOffline:function(){return t.onEnterOfflineEmitter.fire(void 0)},onNetReconnectedFail:function(){return t.onNetReconnectedFailEmitter.fire(void 0)},onRoomStateChange:function(e){var n;t.onRoomStateChangeEmitter.fire(null===(n=e.data)||void 0===n?void 0:n.roomState)}}},e.prototype.configMsgHandlerMap=function(){var t=this,e=this.docMetaDomainService.docMetaEntity,n=this.collaborateService.collaborateAggregate,r=this.authDomainService.authAggregate;this.msgHandlerMap={HANDLE_DELETE:function(){return e.handleNoticeDeleted()},REVERT_MESSAGE:function(){t.logger.debug("REVERT_MESSAGE")},TITLE_MESSAGE:function(t){t.forEach((function(t){var n=t.body.notice;e.handleNoticeTitleChanged(n.title)}))},RIGHT_MESSAGE:function(e){t.logger.debug("RIGHT_MESSAGE"),e.forEach((function(e){var n;r.authInfoEntity.onReceiveMessageFromServer(null===(n=null===e||void 0===e?void 0:e.body)||void 0===n?void 0:n.notice,t.connectionController)}))},USER_NEWINFO:function(t){t.forEach((function(t){var e=t.body.notice,r={sessionType:e.session_type,userId:e.userId,uuId:e.uuId,vipInfo:e.vip_info},i={memCount:e.mem_count,notices:[r]};n.handleUserComeIn(i)}))},USER_NEWINFOS:function(t){t.forEach((function(t){var e=t.body,r=e.notices,i=e.mem_count,o=[];null===r||void 0===r||r.forEach((function(t){var e={sessionType:t.session_type,userId:t.userId,uuId:t.uuId,vipInfo:t.vip_info};o.push(e)}));var a={memCount:i,notices:o};n.handleUserComeIn(a)}))},USER_LEAVE:function(t){t.forEach((function(t){var e=t.body.notice,r={sessionType:e.session_type,userId:e.userId,uuId:e.uuId,vipInfo:e.vip_info},i={memCount:e.mem_count,notices:[r]};n.handleUserLeave(i)}))},USER_LEAVES:function(t){t.forEach((function(t){var e=t.body,r=e.notices,i=e.mem_count,o=[];null===r||void 0===r||r.forEach((function(t){var e={sessionType:t.session_type,userId:t.userId,uuId:t.uuId,vipInfo:t.vip_info};o.push(e)}));var a={memCount:i,notices:o};n.handleUserLeave(a)}))},COMMERCIALIZE_MESSAGE:function(e){t.likeDomainService.likeEntity.handleRealTimeLikeMessage(e)},COMMERICILIZE_MESSAGE:function(t){t.forEach((function(t){n.handleCommercializeMessage(t)}))},MARK_MESSAGE:function(e){t.logger.debug(e)},COMM_NOTICE:function(e){t.logger.debug(e)}}},e.prototype.dispathEvent=function(t){var e,n,r=this.eventHandlerMap[t.event];r?r(t):"OnReceiveMsgFromServer"===t.event?this.onReceiveMsgFromServer(null===(e=t.data)||void 0===e?void 0:e.serverMsg):"OnRoomShutDown"===t.event&&this.onRoomShutDown(null===(n=t.data)||void 0===n?void 0:n.closeReason)},e.prototype.onRoomShutDown=function(t){if(t){var e=t.errCode;72105!==(void 0===e?0:e)||this.logger.info("info  = onRoomShutDown = type or errCode === USER_SHUTDOWN_CODE")}else this.logger.info("info  = onRoomShutDown = type or closeReason is null")},e.prototype.onReceiveMsgFromServer=function(t){if((null===t||void 0===t?void 0:t.type)&&lt("Array",t.data)){var e=t.type,n=t.data,r=this.msgHandlerMap[e];r&&r(n)}else this.logger.error("error  = onReceiveMsgFromServer, type or receiveData.data is null")},J([st(),Z("design:type",Function),Z("design:paramtypes",[]),Z("design:returntype",Promise)],e.prototype,"init",null),J([ct("init"),Z("design:type",Function),Z("design:paramtypes",[]),Z("design:returntype",void 0)],e.prototype,"dispose",null),e=J([X(0,s.v),X(1,c.i),X(2,u.U),X(3,d.d),Z("design:paramtypes",[Object,Object,Object,Object])],e)}(i.Disposable),gt=a.L.getConfig('npm["@tencent/ark-application"]'),vt=window.location.host;null===gt||void 0===gt||gt.TENCENT_DOCS_HOME,new RegExp((null===gt||void 0===gt?void 0:gt.TENCENT_DOCS_EDITOR_REGEXP)||"docs\\.qq\\.com\\/.+\\/[BD].+"),null===gt||void 0===gt||gt.WECOM_DOCS_HOME,null===gt||void 0===gt||gt.WECOM_DOCS_EDITOR,null===gt||void 0===gt||gt.FEEDBACK_URL;var yt=(null===gt||void 0===gt?void 0:gt.EXACTLY_PARENT_TOC_COOKIE_DOMAIN)||"qq.com",_t=(null===gt||void 0===gt?void 0:gt.PARENT_TOC_COOKIE_DOMAIN)||".qq.com",mt=(null===gt||void 0===gt?void 0:gt.TOC_COOKIE_DOMAIN)||".docs.qq.com",wt=(null===gt||void 0===gt?void 0:gt.PARENT_TOB_COOKIE_DOMAIN)||".weixin.qq.com",bt=(null===gt||void 0===gt?void 0:gt.TOB_COOKIE_DOMAIN)||".doc.weixin.qq.com",It=(null===gt||void 0===gt?void 0:gt.WECOM_HOME_PAGE)||"https://doc.weixin.qq.com/home/recent",Et=(null===gt||void 0===gt?void 0:gt.PAGE_JUMP_TO_C)||"https://doc.weixin.qq.com/scenario/page-jump-to-c.html?redirect_uri=",St=new RegExp((null===gt||void 0===gt?void 0:gt.TOC_HOME_PAGE_REGEXP)||"docs\\.qq\\.com\\/desktop(\\/)?","i"),At=(null===gt||void 0===gt?void 0:gt.TOB_LOGIN_PAGE_URL)||"https://doc.weixin.qq.com/v2/user/workwx/login",Ot=(null===gt||void 0===gt?void 0:gt.TOC_HOME_PAGE)||"https://docs.qq.com/desktop",Ct=(null===gt||void 0===gt?void 0:gt.C_JUMP_TO_B_URL)||"https://docs.qq.com/scenario/page-jump-to-b.html",xt=(null===gt||void 0===gt?void 0:gt.C_JUMP_TOB_LOGIN_PAGE_URL)||"https://docs.qq.com/v2/user/workwx/login",Rt=(null===gt||void 0===gt?void 0:gt.C_LOGIN_URL)||"https://docs.qq.com/scenario/login.html",Mt=new RegExp((null===gt||void 0===gt?void 0:gt.TOB_HOME_PAGE_REGEXP)||"doc\\.weixin\\.qq\\.com\\/home\\/recent(\\/)?","i"),Dt=new RegExp((null===gt||void 0===gt?void 0:gt.TOB_MALL_PAGE_REGEXP)||"doc\\.weixin\\.qq\\.com\\/mall\\/index(\\/)?","i"),Pt=(null===gt||void 0===gt?void 0:gt.TOC_MALL_PAGE)||"https://docs.qq.com/mall/index",Tt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{};function kt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Lt(t){var e={exports:{}};return t(e,e.exports),e.exports}var Nt,Ut=Lt((function(t,e){"undefined"!=typeof window&&window,t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==$(t)&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=73)}([function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){t.exports=!n(3)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(5);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(18)("wks"),i=n(17),o=n(0).Symbol,a="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))}).store=r},function(t,e){t.exports=function(t){return"object"==$(t)?null!==t:"function"==typeof t}},function(t,e,n){var r=n(0),i=n(15),o=n(11),a=n(12),s=n(19),c=function t(e,n,c){var u,d,f,p,l=e&t.F,h=e&t.G,g=e&t.P,v=e&t.B,y=h?r:e&t.S?r[n]||(r[n]={}):(r[n]||{}).prototype,_=h?i:i[n]||(i[n]={}),m=_.prototype||(_.prototype={});for(u in h&&(c=n),c)f=((d=!l&&y&&void 0!==y[u])?y:c)[u],p=v&&d?s(f,r):g&&"function"==typeof f?s(Function.call,f):f,y&&a(y,u,f,e&t.U),_[u]!=f&&o(_,u,p),g&&m[u]!=f&&(m[u]=f)};r.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e,n){var r=n(2),i=n(24),o=n(16),a=Object.defineProperty;e.f=n(1)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(14),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(7),i=n(26);t.exports=n(1)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(0),i=n(11),o=n(13),a=n(17)("src"),s=n(45),c=(""+s).split("toString");n(15).inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,n,s){var u="function"==typeof n;u&&(o(n,"name")||i(n,"name",e)),t[e]!==n&&(u&&(o(n,a)||i(n,a,t[e]?""+t[e]:c.join(String(e)))),t===r?t[e]=n:s?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[a]||s.call(this)}))},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e){var n=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(5);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(15),i=n(0),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(46)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(27);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(8);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(31),i=n(8);t.exports=function(t){return r(i(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r,i,o=n(40),a=RegExp.prototype.exec,s=String.prototype.replace,c=a,u=(r=/a/,i=/b*/g,a.call(r,"a"),a.call(i,"a"),0!==r.lastIndex||0!==i.lastIndex),d=void 0!==/()??/.exec("")[1];(u||d)&&(c=function(t){var e,n,r,i,c=this;return d&&(n=new RegExp("^"+c.source+"$(?!\\s)",o.call(c))),u&&(e=c.lastIndex),r=a.call(c,t),u&&r&&(c.lastIndex=c.global?r.index+r[0].length:e),d&&r&&r.length>1&&s.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r}),t.exports=c},function(t,e,n){t.exports=!n(1)&&!n(3)((function(){return 7!=Object.defineProperty(n(25)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(5),i=n(0).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(14),i=Math.max,o=Math.min;t.exports=function(t,e){return(t=r(t))<0?i(t+e,0):o(t,e)}},function(t,e,n){var r=n(4)("unscopables"),i=Array.prototype;null==i[r]&&n(11)(i,r,{}),t.exports=function(t){i[r][t]=!0}},function(t,e,n){var r=n(19),i=n(31),o=n(20),a=n(9),s=n(50);t.exports=function(t,e){var n=1==t,c=2==t,u=3==t,d=4==t,f=6==t,p=5==t||f,l=e||s;return function(e,s,h){for(var g,v,y=o(e),_=i(y),m=r(s,h,3),w=a(_.length),b=0,I=n?l(e,w):c?l(e,0):void 0;w>b;b++)if((p||b in _)&&(v=m(g=_[b],b,y),t))if(n)I[b]=v;else if(v)switch(t){case 3:return!0;case 5:return g;case 6:return b;case 2:I.push(g)}else if(d)return!1;return f?-1:u||d?d:I}}},function(t,e,n){var r=n(10);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){var r=n(5),i=n(54).set;t.exports=function(t,e,n){var o,a=e.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&r(o)&&i&&i(t,o),t}},function(t,e,n){var r=n(55),i=n(26),o=n(21),a=n(16),s=n(13),c=n(24),u=Object.getOwnPropertyDescriptor;e.f=n(1)?u:function(t,e){if(t=o(t),e=a(e,!0),c)try{return u(t,e)}catch(t){}if(s(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e,n){var r=n(35),i=n(22).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){var r=n(13),i=n(21),o=n(56)(!1),a=n(36)("IE_PROTO");t.exports=function(t,e){var n,s=i(t),c=0,u=[];for(n in s)n!=a&&r(s,n)&&u.push(n);for(;e.length>c;)r(s,n=e[c++])&&(~o(u,n)||u.push(n));return u}},function(t,e,n){var r=n(18)("keys"),i=n(17);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e,n){var r=n(5),i=n(10),o=n(4)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},function(t,e,n){var r=n(65)(!0);t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},function(t,e,n){var r=n(66),i=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var o=n.call(t,e);if("object"!=$(o))throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},function(t,e,n){var r=n(2);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){n(67);var r=n(12),i=n(11),o=n(3),a=n(8),s=n(4),c=n(23),u=s("species"),d=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),f=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var p=s(t),l=!o((function(){var e={};return e[p]=function(){return 7},7!=""[t](e)})),h=l?!o((function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[u]=function(){return n}),n[p](""),!e})):void 0;if(!l||!h||"replace"===t&&!d||"split"===t&&!f){var g=/./[p],v=n(a,p,""[t],(function(t,e,n,r,i){return e.exec===c?l&&!i?{done:!0,value:g.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}})),y=v[0],_=v[1];r(String.prototype,t,y),i(RegExp.prototype,p,2==e?function(t,e){return _.call(t,this,e)}:function(t){return _.call(t,this)})}}},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}},function(t,e,n){var r=n(6);r(r.S+r.F*!n(1),"Object",{defineProperty:n(7).f})},function(t,e,n){t.exports=n(18)("native-function-to-string",Function.toString)},function(t,e){t.exports=!1},function(t,e,n){var r=n(6);r(r.P,"Array",{fill:n(48)}),n(29)("fill")},function(t,e,n){var r=n(20),i=n(28),o=n(9);t.exports=function(t){for(var e=r(this),n=o(e.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),c=a>2?arguments[2]:void 0,u=void 0===c?n:i(c,n);u>s;)e[s++]=t;return e}},function(t,e,n){var r=n(6),i=n(30)(5),o=!0;"find"in[]&&Array(1).find((function(){o=!1})),r(r.P+r.F*o,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(29)("find")},function(t,e,n){var r=n(51);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){var r=n(5),i=n(52),o=n(4)("species");t.exports=function(t){var e;return i(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){var r=n(10);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(0),i=n(13),o=n(10),a=n(32),s=n(16),c=n(3),u=n(34).f,d=n(33).f,f=n(7).f,p=n(57).trim,l=r.Number,h=l,g=l.prototype,v="Number"==o(n(59)(g)),y="trim"in String.prototype,_=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){var n,r,i,o=(e=y?e.trim():p(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+e}for(var a,c=e.slice(2),u=0,d=c.length;u<d;u++)if((a=c.charCodeAt(u))<48||a>i)return NaN;return parseInt(c,r)}}return+e};if(!l(" 0o1")||!l("0b1")||l("+0x1")){l=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof l&&(v?c((function(){g.valueOf.call(n)})):"Number"!=o(n))?a(new h(_(e)),n,l):_(e)};for(var m,w=n(1)?u(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),b=0;w.length>b;b++)i(h,m=w[b])&&!i(l,m)&&f(l,m,d(h,m));l.prototype=g,g.constructor=l,n(12)(r,"Number",l)}},function(t,e,n){var r=n(5),i=n(2),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=n(19)(Function.call,n(33).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(21),i=n(9),o=n(28);t.exports=function(t){return function(e,n,a){var s,c=r(e),u=i(c.length),d=o(a,u);if(t&&n!=n){for(;u>d;)if((s=c[d++])!=s)return!0}else for(;u>d;d++)if((t||d in c)&&c[d]===n)return t||d||0;return!t&&-1}}},function(t,e,n){var r=n(6),i=n(8),o=n(3),a=n(58),s="["+a+"]",c=RegExp("^"+s+s+"*"),u=RegExp(s+s+"*$"),d=function(t,e,n){var i={},s=o((function(){return!!a[t]()||"​"!="​"[t]()})),c=i[t]=s?e(f):a[t];n&&(i[n]=c),r(r.P+r.F*s,"String",i)},f=d.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(u,"")),t};t.exports=d},function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,e,n){var r=n(2),i=n(60),o=n(22),a=n(36)("IE_PROTO"),s=function(){},c=function(){var t,e=n(25)("iframe"),r=o.length;for(e.style.display="none",n(62).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;r--;)delete c.prototype[o[r]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=r(t),n=new s,s.prototype=null,n[a]=t):n=c(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(7),i=n(2),o=n(61);t.exports=n(1)?Object.defineProperties:function(t,e){i(t);for(var n,a=o(e),s=a.length,c=0;s>c;)r.f(t,n=a[c++],e[n]);return t}},function(t,e,n){var r=n(35),i=n(22);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(0).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(37),i=n(2),o=n(64),a=n(38),s=n(9),c=n(39),u=n(23),d=n(3),f=Math.min,p=[].push,l="length",h=!d((function(){}));n(41)("split",2,(function(t,e,n,d){var g;return g="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[l]||2!="ab".split(/(?:ab)*/)[l]||4!=".".split(/(.?)(.?)/)[l]||".".split(/()()/)[l]>1||"".split(/.?/)[l]?function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!r(t))return n.call(i,t,e);for(var o,a,s,c=[],d=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,h=void 0===e?4294967295:e>>>0,g=new RegExp(t.source,d+"g");(o=u.call(g,i))&&!((a=g.lastIndex)>f&&(c.push(i.slice(f,o.index)),o[l]>1&&o.index<i[l]&&p.apply(c,o.slice(1)),s=o[0][l],f=a,c[l]>=h));)g.lastIndex===o.index&&g.lastIndex++;return f===i[l]?!s&&g.test("")||c.push(""):c.push(i.slice(f)),c[l]>h?c.slice(0,h):c}:"0".split(void 0,0)[l]?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,r){var i=t(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,i,r):g.call(String(i),n,r)},function(t,e){var r=d(g,t,this,e,g!==n);if(r.done)return r.value;var u=i(t),p=String(this),l=o(u,RegExp),v=u.unicode,y=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(h?"y":"g"),_=new l(h?u:"^(?:"+u.source+")",y),m=void 0===e?4294967295:e>>>0;if(0===m)return[];if(0===p.length)return null===c(_,p)?[p]:[];for(var w=0,b=0,I=[];b<p.length;){_.lastIndex=h?b:0;var E,S=c(_,h?p:p.slice(b));if(null===S||(E=f(s(_.lastIndex+(h?0:b)),p.length))===w)b=a(p,b,v);else{if(I.push(p.slice(w,b)),I.length===m)return I;for(var A=1;A<=S.length-1;A++)if(I.push(S[A]),I.length===m)return I;b=w=E}}return I.push(p.slice(w)),I}]}))},function(t,e,n){var r=n(2),i=n(27),o=n(4)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||null==(n=r(a)[o])?e:i(n)}},function(t,e,n){var r=n(14),i=n(8);t.exports=function(t){return function(e,n){var o,a,s=String(i(e)),c=r(n),u=s.length;return c<0||c>=u?t?"":void 0:(o=s.charCodeAt(c))<55296||o>56319||c+1===u||(a=s.charCodeAt(c+1))<56320||a>57343?t?s.charAt(c):o:t?s.slice(c,c+2):a-56320+(o-55296<<10)+65536}}},function(t,e,n){var r=n(10),i=n(4)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:o?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){var r=n(23);n(6)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},function(t,e,n){var r=n(6),i=n(30)(1);r(r.P+r.F*!n(69)([].map,!0),"Array",{map:function(t){return i(this,t,arguments[1])}})},function(t,e,n){var r=n(3);t.exports=function(t,e){return!!t&&r((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},function(t,e,n){var r=n(2),i=n(20),o=n(9),a=n(14),s=n(38),c=n(39),u=Math.max,d=Math.min,f=Math.floor,p=/\$([$&`']|\d\d?|<[^>]*>)/g,l=/\$([$&`']|\d\d?)/g;n(41)("replace",2,(function(t,e,n,h){return[function(r,i){var o=t(this),a=null==r?void 0:r[e];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},function(t,e){var i=h(n,t,this,e);if(i.done)return i.value;var f=r(t),p=String(this),l="function"==typeof e;l||(e=String(e));var v=f.global;if(v){var y=f.unicode;f.lastIndex=0}for(var _=[];;){var m=c(f,p);if(null===m)break;if(_.push(m),!v)break;""===String(m[0])&&(f.lastIndex=s(p,o(f.lastIndex),y))}for(var w,b="",I=0,E=0;E<_.length;E++){m=_[E];for(var S=String(m[0]),A=u(d(a(m.index),p.length),0),O=[],C=1;C<m.length;C++)O.push(void 0===(w=m[C])?w:String(w));var x=m.groups;if(l){var R=[S].concat(O,A,p);void 0!==x&&R.push(x);var M=String(e.apply(void 0,R))}else M=g(S,p,A,O,x,e);A>=I&&(b+=p.slice(I,A)+M,I=A+S.length)}return b+p.slice(I)}];function g(t,e,r,o,a,s){var c=r+t.length,u=o.length,d=l;return void 0!==a&&(a=i(a),d=p),n.call(s,d,(function(n,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(c);case"<":s=a[i.slice(1,-1)];break;default:var d=+i;if(0===d)return n;if(d>u){var p=f(d/10);return 0===p?n:p<=u?void 0===o[p-1]?i.charAt(1):o[p-1]+i.charAt(1):n}s=o[d-1]}return void 0===s?"":s}))}}))},function(t,e,n){var r=n(0),i=n(32),o=n(7).f,a=n(34).f,s=n(37),c=n(40),u=r.RegExp,d=u,f=u.prototype,p=/a/g,l=/a/g,h=new u(p)!==p;if(n(1)&&(!h||n(3)((function(){return l[n(4)("match")]=!1,u(p)!=p||u(l)==l||"/a/i"!=u(p,"i")})))){u=function(t,e){var n=this instanceof u,r=s(t),o=void 0===e;return!n&&r&&t.constructor===u&&o?t:i(h?new d(r&&!o?t.source:t,e):d((r=t instanceof u)?t.source:t,r&&o?c.call(t):e),n?this:f,u)};for(var g=function(t){t in u||o(u,t,{configurable:!0,get:function(){return d[t]},set:function(e){d[t]=e}})},v=a(d),y=0;v.length>y;)g(v[y++]);f.constructor=u,u.prototype=f,n(12)(r,"RegExp",u)}n(72)("RegExp")},function(t,e,n){var r=n(0),i=n(7),o=n(1),a=n(4)("species");t.exports=function(t){var e=r[t];o&&e&&!e[a]&&i.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){n.r(e),n.d(e,"UserAgent",(function(){return p})),n.d(e,"getVersionFromUA",(function(){return f})),n.d(e,"compareVersion",(function(){return d})),n(44);var r=n(42),i=n.n(r),o=n(43),a=n.n(o),s=(n(47),n(49),n(53),n(63),n(68),n(70),n(71),/\d+([._]\d+)*/);function c(t){var e,n=s.exec(t);return null!==(e=null==n?void 0:n[0].replace(/_/g,"."))&&void 0!==e?e:null}function u(t){var e=c(t);return(null==e?void 0:e.split(".").map(Number))||[]}function d(t,e){return n=u(t),r=u(e),(i=Array(Math.max(n.length,r.length)).fill(0).map((function(t,e){return(n[e]||0)-(r[e]||0)})).find((function(t){return 0!==t}))||0)<0?-1:i>0?1:0;var n,r,i}function f(t,e){var n;try{n=new RegExp("\\b".concat(t,"\\W+\\d+([\\._]\\d+)*"),"i")}catch(t){return null}var r=n.exec(e);return r?c(r[0].substring(t.length)):null}var p=function(){function t(e){var n=this;i()(this,t),this.userAgent="",this.getAndroidVersion=function(){return n.isAndroid?f("Android",n.userAgent):null},this.isAndroidVersionAboveOrEqual=function(t){return d(n.getAndroidVersion()||"",t)>=0},this.getIOSVersion=function(){return n.isIOS?f("OS",n.userAgent):null},this.isIOSVersionAboveOrEqual=function(t){return d(n.getIOSVersion()||"",t)>=0},this.getPCQQBrowserVersion=function(){return n.isPCQQBrowser?f("QQBrowser",n.userAgent):null},this.isPCQQBrowserVersionAboveOrEqual=function(t){return d(n.getPCQQBrowserVersion()||"",t)>=0},this.getMobileQQBrowserVersion=function(){return n.isMobileQQBrowser?f("MQQBrowser",n.userAgent):null},this.isMobileQQBrowserVersionAboveOrEqual=function(t){return d(n.getMobileQQBrowserVersion()||"",t)>=0},this.getChromeVersion=function(){return f("Chrome",n.userAgent)},this.isChromeVersionAboveOrEqual=function(t){return d(n.getChromeVersion()||"",t)>=0},this.getWeChatVersion=function(){return n.isWeChat||n.isWxMiniProgram?f("MicroMessenger",n.userAgent):null},this.isWeChatVersionAboveOrEqual=function(t){return d(n.getWeChatVersion()||"",t)>=0},this.getWxDriveVersion=function(){return n.isWxDrive?f("WXDrive",n.userAgent):null},this.isWxDriveVersionAboveOrEqual=function(t){return d(n.getWxDriveVersion()||"",t)>=0},this.getWxWorkVersion=function(){return n.isWxWork?f("wxwork",n.userAgent):null},this.isWxWorkVersionAboveOrEqual=function(t){return d(n.getWxWorkVersion()||"",t)>=0},this.getWxWorkPrivateVersion=function(){return n.isWxWorkPrivate?f("wxworklocal",n.userAgent):null},this.isWxWorkPrivateVersionAboveOrEqual=function(t){return d(n.getWxWorkPrivateVersion()||"",t)>=0},this.getQQVersion=function(){return n.isQQ||n.isQQMiniProgram?f("QQ",n.userAgent):null},this.isQQVersionAboveOrEqual=function(t){return d(n.getQQVersion()||"",t)>=0},this.getTimVersion=function(){return n.isTim?f("TIM",n.userAgent):null},this.isTimVersionAboveOrEqual=function(t){return d(n.getTimVersion()||"",t)>=0},this.getTencentDocsAppVersion=function(){return f("TencentDocs",n.userAgent)},this.isTencentDocsAppVersionAboveOrEqual=function(t){return d(n.getTencentDocsAppVersion()||"",t)>=0},this.getPCTencentDocsClientVersion=function(){return f("TxDocsPC",n.userAgent)},this.isPCTencentDocsClientVersionAboveOrEqual=function(t){return d(n.getPCTencentDocsClientVersion()||"",t)>=0},this.getElectronTencentDocsClientVersion=function(){return f("TDAppDesktop",n.userAgent)},this.isElectronTencentDocsClientVersionAboveOrEqual=function(t){return d(n.getElectronTencentDocsClientVersion()||"",t)>=0},void 0===e&&(e="undefined"!=typeof navigator?navigator.userAgent:""),Object.defineProperty(this,"userAgent",{value:e,writable:!1})}return a()(t,[{key:"isMobile",get:function(){return/(mobile)/i.test(this.userAgent)||this.isAndroidPad}},{key:"isMobilePhone",get:function(){return/(mobile)/i.test(this.userAgent)&&!this.isIPad}},{key:"isIPhone",get:function(){return/(iphone)/i.test(this.userAgent)}},{key:"isIPad",get:function(){return/(ipad)/i.test(this.userAgent)}},{key:"isAndroidPhone",get:function(){return/(mobile)/i.test(this.userAgent)&&this.isAndroid}},{key:"isAndroidPad",get:function(){return!/(mobile)/i.test(this.userAgent)&&this.isAndroid}},{key:"isPC",get:function(){return!this.isMobile}},{key:"isMac",get:function(){return!this.isMobile&&/Mac OS X/i.test(this.userAgent)}},{key:"isIPadEmulatedMac",get:function(){return this.isMac&&navigator.maxTouchPoints>1}},{key:"isAndroid",get:function(){return/android|adr/i.test(this.userAgent)}},{key:"isIOS",get:function(){return/(iphone|ipad|ipod)/i.test(this.userAgent)}},{key:"isWindows",get:function(){return/(win64|wow64|win32|wow32|windows nt)/i.test(this.userAgent)}},{key:"isWindowsUWP",get:function(){return/MSAppHost/i.test(this.userAgent)}},{key:"isLinux",get:function(){return/linux/i.test(this.userAgent)&&!this.isAndroid}},{key:"isLinuxKylin",get:function(){return/linux-kylin/i.test(this.userAgent)}},{key:"isLinuxUOS",get:function(){return/linux-uos/i.test(this.userAgent)}},{key:"isPCQQBrowser",get:function(){return!this.isMobile&&/QQBrowser/i.test(this.userAgent)&&!/QBCore/i.test(this.userAgent)}},{key:"isMobileQQBrowser",get:function(){return this.isMobile&&/MQQBrowser/i.test(this.userAgent)&&!this.isTimOrQQ&&!this.isWeChat&&!this.isWxWork&&!this.isTencentDocsApp&&!this.isWeiYunApp&&!this.isMiniProgram}},{key:"isQQBrowser",get:function(){return this.isMobile?this.isMobileQQBrowser:this.isPCQQBrowser}},{key:"isChrome",get:function(){return/(Chrome|CriOS)\/\S+( Mobile\S*)? Safari\/\S+$/i.test(this.userAgent)}},{key:"isSafari",get:function(){return/Version\/\S+( Mobile\S*)? Safari\/\S+$/i.test(this.userAgent)}},{key:"isIE",get:function(){return/MSIE/i.test(this.userAgent)&&!/opera/i.test(this.userAgent)||/Trident/i.test(this.userAgent)}},{key:"isOldEdge",get:function(){return/Edge/i.test(this.userAgent)}},{key:"isChromiumEdge",get:function(){return/Edg\//i.test(this.userAgent)}},{key:"isFirefox",get:function(){return/(Firefox|Focus|FxiOS)\//i.test(this.userAgent)}},{key:"isWeChat",get:function(){return/MicroMessenger/i.test(this.userAgent)&&!this.isWxWork&&!this.isWxMiniProgram}},{key:"isWxWork",get:function(){return/(wxwork)/i.test(this.userAgent)}},{key:"isWxWorkCustom",get:function(){return/WeComCEF/i.test(this.userAgent)&&this.isWxWork}},{key:"isWxWorkPrivate",get:function(){return/(wxworklocal)/i.test(this.userAgent)}},{key:"isWxDrive",get:function(){return/WXDrive/i.test(this.userAgent)}},{key:"isQQ",get:function(){return/QQ\//i.test(this.userAgent)&&!this.isTencentDocsApp&&!this.isQQMiniProgram&&!this.isTim}},{key:"isQQForGooglePlay",get:function(){return/QQ\//i.test(this.userAgent)&&/_GM/i.test(this.userAgent)}},{key:"isTim",get:function(){return/TIM/i.test(this.userAgent)}},{key:"isPCTim",get:function(){return/QBCore/i.test(this.userAgent)&&/TIM2.0/i.test(this.userAgent)}},{key:"isTimOrQQ",get:function(){return this.isTim||this.isQQ}},{key:"isTimOrQQFamily",get:function(){return this.isTim||/QQ/i.test(this.userAgent)}},{key:"isMiniProgram",get:function(){return/miniprogram|miniapp(?!enable)/i.test(this.userAgent)||"undefined"!=typeof __wxjs_environment&&"miniprogram"===__wxjs_environment}},{key:"isWxMiniProgram",get:function(){return/MicroMessenger/i.test(this.userAgent)&&this.isMiniProgram}},{key:"isQQMiniProgram",get:function(){return/QQ\/|TIM/i.test(this.userAgent)&&this.isMiniProgram}},{key:"isTencentDocsApp",get:function(){return/TencentDocs/i.test(this.userAgent)}},{key:"isPCTencentDocsClient",get:function(){return/TxDocsPC/i.test(this.userAgent)}},{key:"isPCTencentDocsApp",get:function(){return this.isPCTencentDocsClient}},{key:"isElectronTencentDocsClient",get:function(){return/TDAppDesktop/i.test(this.userAgent)}},{key:"isWeiYunApp",get:function(){return/weiyun/i.test(this.userAgent)}},{key:"isSouGou",get:function(){return/SE 2\.X MetaSr 1\.0/i.test(this.userAgent)}},{key:"isTencentMeeting",get:function(){return/tencent_wemeet/i.test(this.userAgent)}},{key:"isTencentMeetingRooms",get:function(){return/TencentMeetingRooms/i.test(this.userAgent)}}]),t}();e.default=new p}])})),jt=kt(Ut);!function(t){!function(e){var n="object"===$(Tt)?Tt:"object"===("undefined"===typeof self?"undefined":$(self))?self:"object"===$(this)?this:Function("return this;")(),r=i(t);function i(t,e){return function(n,r){"function"!==typeof t[n]&&Object.defineProperty(t,n,{configurable:!0,writable:!0,value:r}),e&&e(n,r)}}"undefined"===typeof n.Reflect?n.Reflect=t:r=i(n.Reflect,r),function(t){var e=Object.prototype.hasOwnProperty,n="function"===typeof Symbol,r=n&&"undefined"!==typeof Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=n&&"undefined"!==typeof Symbol.iterator?Symbol.iterator:"@@iterator",o="function"===typeof Object.create,a={__proto__:[]}instanceof Array,s=!o&&!a,c={create:o?function(){return it(Object.create(null))}:a?function(){return it({__proto__:null})}:function(){return it({})},has:s?function(t,n){return e.call(t,n)}:function(t,e){return e in t},get:s?function(t,n){return e.call(t,n)?t[n]:void 0}:function(t,e){return t[e]}},u=Object.getPrototypeOf(Function),d="object"===("undefined"===typeof process?"undefined":$(process))&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,f=d||"function"!==typeof Map||"function"!==typeof Map.prototype.entries?et():Map,p=d||"function"!==typeof Set||"function"!==typeof Set.prototype.entries?nt():Set,l=new(d||"function"!==typeof WeakMap?rt():WeakMap);function h(t,e,n,r){if(L(n)){if(!H(t))throw new TypeError;if(!G(e))throw new TypeError;return S(t,e)}if(!H(t))throw new TypeError;if(!j(e))throw new TypeError;if(!j(r)&&!L(r)&&!N(r))throw new TypeError;return N(r)&&(r=void 0),A(t,e,n=W(n),r)}function g(t,e){function n(n,r){if(!j(n))throw new TypeError;if(!L(r)&&!K(r))throw new TypeError;D(t,e,n,r)}return n}function v(t,e,n,r){if(!j(n))throw new TypeError;return L(r)||(r=W(r)),D(t,e,n,r)}function y(t,e,n){if(!j(e))throw new TypeError;return L(n)||(n=W(n)),C(t,e,n)}function _(t,e,n){if(!j(e))throw new TypeError;return L(n)||(n=W(n)),x(t,e,n)}function m(t,e,n){if(!j(e))throw new TypeError;return L(n)||(n=W(n)),R(t,e,n)}function w(t,e,n){if(!j(e))throw new TypeError;return L(n)||(n=W(n)),M(t,e,n)}function b(t,e){if(!j(t))throw new TypeError;return L(e)||(e=W(e)),P(t,e)}function I(t,e){if(!j(t))throw new TypeError;return L(e)||(e=W(e)),T(t,e)}function E(t,e,n){if(!j(e))throw new TypeError;L(n)||(n=W(n));var r=O(e,n,!1);if(L(r))return!1;if(!r.delete(t))return!1;if(r.size>0)return!0;var i=l.get(e);return i.delete(n),i.size>0||l.delete(e),!0}function S(t,e){for(var n=t.length-1;n>=0;--n){var r=(0,t[n])(e);if(!L(r)&&!N(r)){if(!G(r))throw new TypeError;e=r}}return e}function A(t,e,n,r){for(var i=t.length-1;i>=0;--i){var o=(0,t[i])(e,n,r);if(!L(o)&&!N(o)){if(!j(o))throw new TypeError;r=o}}return r}function O(t,e,n){var r=l.get(t);if(L(r)){if(!n)return;r=new f,l.set(t,r)}var i=r.get(e);if(L(i)){if(!n)return;i=new f,r.set(e,i)}return i}function C(t,e,n){if(x(t,e,n))return!0;var r=tt(e);return!N(r)&&C(t,r,n)}function x(t,e,n){var r=O(e,n,!1);return!L(r)&&B(r.has(t))}function R(t,e,n){if(x(t,e,n))return M(t,e,n);var r=tt(e);return N(r)?void 0:R(t,r,n)}function M(t,e,n){var r=O(e,n,!1);if(!L(r))return r.get(t)}function D(t,e,n,r){O(n,r,!0).set(t,e)}function P(t,e){var n=T(t,e),r=tt(t);if(null===r)return n;var i=P(r,e);if(i.length<=0)return n;if(n.length<=0)return i;for(var o=new p,a=[],s=0,c=n;s<c.length;s++){var u=c[s];o.has(u)||(o.add(u),a.push(u))}for(var d=0,f=i;d<f.length;d++)u=f[d],o.has(u)||(o.add(u),a.push(u));return a}function T(t,e){var n=[],r=O(t,e,!1);if(L(r))return n;for(var i=z(r.keys()),o=0;;){var a=X(i);if(!a)return n.length=o,n;var s=J(a);try{n[o]=s}catch(c){try{Z(i)}finally{throw c}}o++}}function k(t){if(null===t)return 1;switch($(t)){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===t?1:6;default:return 6}}function L(t){return void 0===t}function N(t){return null===t}function U(t){return"symbol"===$(t)}function j(t){return"object"===$(t)?null!==t:"function"===typeof t}function F(t,e){switch(k(t)){case 0:case 1:case 2:case 3:case 4:case 5:return t}var n=3===e?"string":5===e?"number":"default",i=Y(t,r);if(void 0!==i){var o=i.call(t,n);if(j(o))throw new TypeError;return o}return q(t,"default"===n?"number":n)}function q(t,e){if("string"===e){var n=t.toString;if(V(n)&&!j(i=n.call(t)))return i;if(V(r=t.valueOf)&&!j(i=r.call(t)))return i}else{var r;if(V(r=t.valueOf)&&!j(i=r.call(t)))return i;var i,o=t.toString;if(V(o)&&!j(i=o.call(t)))return i}throw new TypeError}function B(t){return!!t}function Q(t){return""+t}function W(t){var e=F(t,3);return U(e)?e:Q(e)}function H(t){return Array.isArray?Array.isArray(t):t instanceof Object?t instanceof Array:"[object Array]"===Object.prototype.toString.call(t)}function V(t){return"function"===typeof t}function G(t){return"function"===typeof t}function K(t){switch(k(t)){case 3:case 4:return!0;default:return!1}}function Y(t,e){var n=t[e];if(void 0!==n&&null!==n){if(!V(n))throw new TypeError;return n}}function z(t){var e=Y(t,i);if(!V(e))throw new TypeError;var n=e.call(t);if(!j(n))throw new TypeError;return n}function J(t){return t.value}function X(t){var e=t.next();return!e.done&&e}function Z(t){var e=t.return;e&&e.call(t)}function tt(t){var e=Object.getPrototypeOf(t);if("function"!==typeof t||t===u)return e;if(e!==u)return e;var n=t.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return e;var i=r.constructor;return"function"!==typeof i||i===t?e:i}function et(){var t={},e=[],n=function(){function t(t,e,n){this._index=0,this._keys=t,this._values=e,this._selector=n}return t.prototype["@@iterator"]=function(){return this},t.prototype[i]=function(){return this},t.prototype.next=function(){var t=this._index;if(t>=0&&t<this._keys.length){var n=this._selector(this._keys[t],this._values[t]);return t+1>=this._keys.length?(this._index=-1,this._keys=e,this._values=e):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},t.prototype.throw=function(t){throw this._index>=0&&(this._index=-1,this._keys=e,this._values=e),t},t.prototype.return=function(t){return this._index>=0&&(this._index=-1,this._keys=e,this._values=e),{value:t,done:!0}},t}();return function(){function e(){this._keys=[],this._values=[],this._cacheKey=t,this._cacheIndex=-2}return Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),e.prototype.has=function(t){return this._find(t,!1)>=0},e.prototype.get=function(t){var e=this._find(t,!1);return e>=0?this._values[e]:void 0},e.prototype.set=function(t,e){var n=this._find(t,!0);return this._values[n]=e,this},e.prototype.delete=function(e){var n=this._find(e,!1);if(n>=0){for(var r=this._keys.length,i=n+1;i<r;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,e===this._cacheKey&&(this._cacheKey=t,this._cacheIndex=-2),!0}return!1},e.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=t,this._cacheIndex=-2},e.prototype.keys=function(){return new n(this._keys,this._values,r)},e.prototype.values=function(){return new n(this._keys,this._values,o)},e.prototype.entries=function(){return new n(this._keys,this._values,a)},e.prototype["@@iterator"]=function(){return this.entries()},e.prototype[i]=function(){return this.entries()},e.prototype._find=function(t,e){return this._cacheKey!==t&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=t)),this._cacheIndex<0&&e&&(this._cacheIndex=this._keys.length,this._keys.push(t),this._values.push(void 0)),this._cacheIndex},e}();function r(t,e){return t}function o(t,e){return e}function a(t,e){return[t,e]}}function nt(){return function(){function t(){this._map=new f}return Object.defineProperty(t.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),t.prototype.has=function(t){return this._map.has(t)},t.prototype.add=function(t){return this._map.set(t,t),this},t.prototype.delete=function(t){return this._map.delete(t)},t.prototype.clear=function(){this._map.clear()},t.prototype.keys=function(){return this._map.keys()},t.prototype.values=function(){return this._map.values()},t.prototype.entries=function(){return this._map.entries()},t.prototype["@@iterator"]=function(){return this.keys()},t.prototype[i]=function(){return this.keys()},t}()}function rt(){var t=16,n=c.create(),r=i();return function(){function t(){this._key=i()}return t.prototype.has=function(t){var e=o(t,!1);return void 0!==e&&c.has(e,this._key)},t.prototype.get=function(t){var e=o(t,!1);return void 0!==e?c.get(e,this._key):void 0},t.prototype.set=function(t,e){return o(t,!0)[this._key]=e,this},t.prototype.delete=function(t){var e=o(t,!1);return void 0!==e&&delete e[this._key]},t.prototype.clear=function(){this._key=i()},t}();function i(){var t;do{t="@@WeakMap@@"+u()}while(c.has(n,t));return n[t]=!0,t}function o(t,n){if(!e.call(t,r)){if(!n)return;Object.defineProperty(t,r,{value:c.create()})}return t[r]}function a(t,e){for(var n=0;n<e;++n)t[n]=255*Math.random()|0;return t}function s(t){return"function"===typeof Uint8Array?"undefined"!==typeof crypto?crypto.getRandomValues(new Uint8Array(t)):"undefined"!==typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(t)):a(new Uint8Array(t),t):a(new Array(t),t)}function u(){var e=s(t);e[6]=79&e[6]|64,e[8]=191&e[8]|128;for(var n="",r=0;r<t;++r){var i=e[r];4!==r&&6!==r&&8!==r||(n+="-"),i<16&&(n+="0"),n+=i.toString(16).toLowerCase()}return n}}function it(t){return t.__=void 0,delete t.__,t}t("decorate",h),t("metadata",g),t("defineMetadata",v),t("hasMetadata",y),t("hasOwnMetadata",_),t("getMetadata",m),t("getOwnMetadata",w),t("getMetadataKeys",b),t("getOwnMetadataKeys",I),t("deleteMetadata",E)}(r)}()}(Nt||(Nt={}));var Ft=Symbol.for("swr-decorator:fetcherMap");function qt(t){return function(e,n){var r=Reflect.getMetadata(Ft,e)||new Map;r.set(t,n),Reflect.defineMetadata(Ft,r,e)}}var Bt=Symbol.for("swr-decorator:properties");function Qt(t,e){var n,r=null!==(n=Reflect.getMetadata(Bt,t))&&void 0!==n?n:[];r.push(e),Reflect.defineMetadata(Bt,r,t)}var Wt=function(){function t(t,e,n){void 0===n&&(n=!1),this.value=t,this.fetcher=e,this.subscribers=new Set,this.validating=!1,this.firstRequire=!1,this.updatePropertiesOnFirstRequire=n}return t.prototype.getValue=function(){var t=this;return this.updatePropertiesOnFirstRequire&&!this.firstRequire&&(setTimeout((function(){return t.revalidate()}),0),this.firstRequire=!0),this.value},t.prototype.getValueMutate=function(){return this.revalidate(),this.value},t.prototype.setValue=function(t,e){return void 0===e&&(e=!1),this.value=t,e||this.subscribers.forEach((function(e){return e(t)})),!0},t.prototype.addSubscriber=function(t){this.subscribers.add(t)},t.prototype.removeSubscriber=function(t){this.subscribers.delete(t)},t.prototype.isValidating=function(){return this.validating},t.prototype.revalidate=function(){var t=this;this.validating||this.fetcher&&(this.validating=!0,this.fetcher().then((function(e){t.validating=!1,t.setValue(e)})).catch((function(e){throw t.validating=!1,e})))},t}();function Ht(t){var e=(null!==t&&void 0!==t?t:{}).updatePropertiesOnFirstRequire;return function(t){var n=new Map;return function(t){function r(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o,a,s=this;s=t.apply(this,it([],rt(r),!1))||this;var c={},u=null!==(o=Reflect.getMetadata(Ft,s))&&void 0!==o?o:new Map,d=null!==(a=Reflect.getMetadata(Bt,s))&&void 0!==a?a:[];return d.forEach((function(t){var r,i=u.get(t),o=null===(r=s[i])||void 0===r?void 0:r.bind(s),a=new Wt(s[t],o,e);n.set(t,a),c[t]={get:function(){return a.getValue()},set:function(t){return a.setValue(t),!0}},s[i]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return tt(s,void 0,void 0,(function(){var e;return et(this,(function(n){switch(n.label){case 0:return[4,o.apply(void 0,it([],rt(t),!1))];case 1:return e=n.sent(),a.setValue(e),[2,e]}}))}))}})),Object.defineProperties(s,c),s}return Y(r,t),r.prototype.isValidating=function(t){var e,r;return null!==(r=null===(e=n.get(t))||void 0===e?void 0:e.isValidating())&&void 0!==r&&r},r.prototype.subscribe=function(t,e){var r;return null===(r=n.get(t))||void 0===r||r.addSubscriber(e),function(){var r;null===(r=n.get(t))||void 0===r||r.removeSubscriber(e)}},r.prototype.mutate=function(t,e,r){var i,o;return void 0===r&&(r=!0),tt(this,void 0,void 0,(function(){return et(this,(function(a){return void 0!==e&&(null===(i=n.get(t))||void 0===i||i.setValue(e,!0)),r&&(null===(o=n.get(t))||void 0===o||o.revalidate()),[2]}))}))},r}(t)}}var Vt={nick:"nickname",avatar:"avatarURI",uType:"accountType",phone:"phoneNumber",isHasPassword:"enabled",utype:"accountType",uin:"qq"},Gt={raw:Vt,words:Object.keys(Vt)};function $t(t,e){return null!==t&&Object.prototype.hasOwnProperty.call(t,e)}var Kt,Yt="document";function zt(t){return lt("Object",t)?JSON.stringify(t):t}function Jt(t,e,n,r,i){if($t(re,Yt)){var o=encodeURIComponent(zt(e)),a=2592e6;n&&(a=864e5*n);var s=new Date;a+=s.getTime(),s.setTime(a);var c=s.toUTCString(),u=r||"/",d=i?"domain=".concat(i,";"):"";document.cookie="".concat(t,"=").concat(o,";expires=").concat(c,";path=").concat(u,";").concat(d)}}function Xt(t,e,n){if($t(re,Yt)){var r=e||"/",i=n?"domain=".concat(n,";"):"",o=new Date(0).toUTCString();document.cookie="".concat(t,"=;expires=").concat(o,";path=").concat(r,";").concat(i)}}function Zt(t){if(!$t(re,Yt))return null;var e=new RegExp("(?:^|;+|\\s+)".concat(t,"=([^;]*)")),n=document.cookie.match(e);return(n?n[1]:null)||null}!function(t){t.xsrf="TOK",t.devRouteId="dev_route_id",t.devOaName="dev_oa_name",t.fd="fd",t.envId="env_id",t.sid="SID",t.sids="SID_S",t.uid="uid",t.uidKey="uid_key",t.uin="uin",t.loginTime="loginTime",t.hasBeenLogin="has_been_login",t.adtag="adtag",t.plUin="p_luin",t.pUin="p_uin",t.pSkey="p_skey",t.plSkey="p_lskey"}(Kt||(Kt={}));var te={};function ee(){return"undefined"!==typeof window}function ne(){return"undefined"!==typeof n.g}var re=ee()?window:ne()?n.g:ee||"undefined"===typeof self?(ne()&&n.g.describe,te):self,ie="location";function oe(t){if(!$t(re,ie))return"";var e=new RegExp("(\\?|&)".concat(t,"=([^&]*)(#|&|$)")),n=($t(re,ie)?decodeURIComponent(location.search):"").match(e);return n?decodeURIComponent(n[2]):""}var ae,se=["/doc/","/sheet/","/slide/","/form/","/mind/","/flowchart/","/pdf/"],ce=function(){function t(){var t=new B.Ar({type:this.isSupportClientDB()?B.c$.nativeDB:B.c$.indexDB,disableAutoOpen:!1}).storage.collection(q.ao);this.userInfoStorage=new B.Bl(t),this.onOfflineState=!1}return t.prototype.setOnOfflineState=function(t){this.onOfflineState=t},t.prototype.addUserInfo=function(t){this.onOfflineState||t&&(null===t||void 0===t?void 0:t.tinyId)&&t.tinyId!==f.Dr&&this.userInfoStorage.addUserInfo(z(z({},t),this.getDocInfo()))},t.prototype.updateUserInfo=function(t){t.tinyId===f.Dr||this.onOfflineState||this.userInfoStorage.updateUserInfo(t.tinyId,t)},t.prototype.getUserInfo=function(){return tt(this,void 0,void 0,(function(){var t,e,n,r,i,o;return et(this,(function(a){switch(a.label){case 0:return(t=oe("u"))?(e=this.changeOfflineData,[4,this.userInfoStorage.getUserInfoByUserIndex(t)]):[3,2];case 1:return[2,e.apply(this,[a.sent()])];case 2:return n=this.getDocInfo(),r=n.pageType,i=n.docId,o=this.changeOfflineData,[4,this.userInfoStorage.getUserInfoByDocInfo(r,i)];case 3:return[2,o.apply(this,[a.sent()])]}}))}))},t.prototype.changeOfflineData=function(t){if(!t)return null;var e={tinyId:t.tinyId,corpId:t.corpId,corpName:t.corpName,englishName:t.englishName,loginType:t.loginType,uidSource:t.uidSource,openId:t.openId,uin:t.uin,userId:t.userId,userName:t.userName,userPic:t.userPic,nowUserIndex:t.nowUserIndex,settings:t.settings},n=t.bindUserInfo;return{userInfo:e,vipInfo:t.vipUserInfo,bindUserInfo:n}},t.prototype.isSupportClientDB=function(){var t=navigator.userAgent.match(/_tdocFlag\/(\d+)/);return!!(null===t||void 0===t?void 0:t[1])&&(2&parseInt(t[1],10))>0},t.prototype.getDocInfo=function(){var t=null===globalThis||void 0===globalThis?void 0:globalThis.location.pathname.split("/"),e=t[1];return se.filter((function(t){return(null===globalThis||void 0===globalThis?void 0:globalThis.location.pathname.indexOf(t))>-1})).length>0?{pageType:e,docId:t[2],updateTime:(new Date).getTime().toString()}:{pageType:e,docId:e,updateTime:(new Date).getTime().toString()}},t}();!function(t){t.SUCCESS="SUCCESS",t.MAIN_SUCCESS_SECOND_FAIL="MAIN_SUCCESS_SECOND_FAIL",t.MAIN_FAIL_SECOND_SUCCESS="MAIN_FAIL_SECOND_SUCCESS",t.FAIL="FAIL",t.NOT_EXIST="NOT_EXIST"}(ae||(ae={}));var ue,de=function(){function t(t,e){this.accountDomainService=t,this.messageDomainService=e}return t.prototype.getPersonalAccountList=function(){return tt(this,void 0,void 0,(function(){var t,e;return et(this,(function(n){switch(n.label){case 0:return t=this,[4,this.getFetchAccountList()];case 1:return t.fetchAccountList=n.sent(),e=this,[4,this.getEnterpriseAccountList()];case 2:return e.enterpriseAccountList=n.sent(),[2,this.mergeAccountList(this.fetchAccountList,this.enterpriseAccountList)]}}))}))},t.prototype.deleteAccountForList=function(t){return tt(this,void 0,void 0,(function(){var e,n,r,i,o;return et(this,(function(a){switch(a.label){case 0:return e=t.uid,n=!0,r=!0,i=this.isHasSameTinyID(this.fetchAccountList,e),o=this.isHasSameTinyID(this.enterpriseAccountList,e),i?[4,this.deleteFetchAccountList(t)]:[3,2];case 1:n=a.sent(),a.label=2;case 2:return o?[4,this.deleteEnterpriseAccountList(t)]:[3,4];case 3:r=a.sent(),a.label=4;case 4:return[2,this.changeDeleteAccountState(n,r)]}}))}))},t.prototype.dispose=function(){this.messageDomainService.getEnterpriseAccountListMessage.dispose()},t.prototype.changeDeleteAccountState=function(t,e){return t&&e?ae.SUCCESS:t?ae.MAIN_SUCCESS_SECOND_FAIL:e?ae.MAIN_FAIL_SECOND_SUCCESS:ae.FAIL},t.prototype.deleteFetchAccountList=function(t){return tt(this,void 0,void 0,(function(){var e;return et(this,(function(n){switch(n.label){case 0:return(e=t.userIndex)?[4,this.accountDomainService.accountAggregate.accountListEntity.delAccountForList(e)]:[2,!1];case 1:return[2,n.sent()]}}))}))},t.prototype.mergeAccountList=function(t,e){var n=this;return e.reduce((function(t,e){return n.isHasSameTinyID(t,e.uid)?t:it(it([],rt(t),!1),[e],!1)}),t)},t.prototype.isHasSameTinyID=function(t,e){return t.some((function(t){return t.uid===e}))},t.prototype.getFetchAccountList=function(){return tt(this,void 0,void 0,(function(){return et(this,(function(t){switch(t.label){case 0:return[4,this.accountDomainService.accountAggregate.accountListEntity.getAccountList()];case 1:return[2,t.sent()]}}))}))},t.prototype.getEnterpriseAccountList=function(){return tt(this,void 0,void 0,(function(){var t=this;return et(this,(function(e){switch(e.label){case 0:return this.messageDomainService.getEnterpriseAccountListMessage.connect(),this.getIframeMountMessage(),this.messageDomainService.getEnterpriseAccountListMessage.createGetAccountListIframe((function(){t.messageDomainService.getEnterpriseAccountListMessage.sendAccountListMessage()})),[4,this.getAccountListMessage()];case 1:return[2,e.sent()]}}))}))},t.prototype.deleteEnterpriseAccountList=function(t){return tt(this,void 0,void 0,(function(){var e;return et(this,(function(n){switch(n.label){case 0:return(e=t.cookie)?(this.messageDomainService.getEnterpriseAccountListMessage.sendDeleteAccountMessage(e),[4,this.getDeleteAccountMessage()]):[2,!1];case 1:return[2,n.sent()]}}))}))},t.prototype.getAccountListMessage=function(){var t=this;return new Promise((function(e){t.messageDomainService.getEnterpriseAccountListMessage.getAccountListMessage((function(t){var n=t.data.userList;e(n)}))}))},t.prototype.getDeleteAccountMessage=function(){var t=this;return new Promise((function(e){t.messageDomainService.getEnterpriseAccountListMessage.getDeleteAccountMessage((function(){e(!0)}))}))},t.prototype.getIframeMountMessage=function(){var t=this;return new Promise((function(e){t.messageDomainService.getEnterpriseAccountListMessage.getIframeMountMessage((function(){e(!0),t.messageDomainService.getEnterpriseAccountListMessage.sendAccountListMessage()}))}))},t=J([X(0,p.b),X(1,l.x),Z("design:paramtypes",[Object,Object])],t)}();!function(t){t.BIND_CGI_SUCCESS="BIND_CGI_SUCCESS",t.CHECK_KEY_IS_READY="CHECK_KEY_IS_READY",t.BIND_POLLING_RUNNING="BIND_POLLING_RUNNING",t.BIND_POLLING_FINISH="BIND_POLLING_FINISH",t.BIND_TIMEOUT="BIND_TIMEOUT",t.ERROR="ERROR"}(ue||(ue={}));var fe,pe,le=function(){function t(t){this.accountDomainService=t,this.isExpired=!1}return t.prototype.getBindingQQAccountInfo=function(){return tt(this,void 0,void 0,(function(){return et(this,(function(t){switch(t.label){case 0:return[4,this.accountDomainService.accountAggregate.bindingQQInfo()];case 1:return[2,t.sent()]}}))}))},t.prototype.getStatus=function(t){var e=this;return this.runBindProcess(t),{dispose:function(){return e.dispose()}}},t.prototype.runBindProcess=function(t){return tt(this,void 0,void 0,(function(){var e;return et(this,(function(n){switch(n.label){case 0:return[4,this.accountDomainService.accountAggregate.accountRepository.bindUserInfo()];case 1:return 0===(null===(e=n.sent().resData)||void 0===e?void 0:e.cgicode)?(t(ue.BIND_CGI_SUCCESS),this.getKey(t)):t(ue.ERROR,{errBindQQStatus:ue.BIND_CGI_SUCCESS}),[2]}}))}))},t.prototype.dispose=function(){this.pollingTimer&&clearTimeout(this.pollingTimer),this.isExpired=!0},t.prototype.getKey=function(t){return tt(this,void 0,void 0,(function(){var e,n;return et(this,(function(r){switch(r.label){case 0:return e=this.accountDomainService.accountAggregate.userInfo.nowUserIndex,[4,this.accountDomainService.accountAggregate.accountRepository.getBindWxQrCode(e)];case 1:return 0===(null===(n=r.sent().resData)||void 0===n?void 0:n.cgicode)?(t(ue.CHECK_KEY_IS_READY),this.runPolling(n.data.checkKey,t),[2]):(t(ue.ERROR,{errBindQQStatus:ue.CHECK_KEY_IS_READY}),[2])}}))}))},t.prototype.runPolling=function(t,e){var n=this;this.isExpired||(this.pollingTimer=setTimeout((function(){return tt(n,void 0,void 0,(function(){var n;return et(this,(function(r){switch(r.label){case 0:return[4,this.accountDomainService.accountAggregate.accountRepository.getBindProcess(t)];case 1:return n=r.sent().resData,clearTimeout(this.pollingTimer),0===(null===n||void 0===n?void 0:n.cgicode)?n.data.isFinish?(e(ue.BIND_POLLING_FINISH),[2]):Number(n.data.lastUpdateRs)>15?(e(ue.BIND_POLLING_FINISH,{progress:this.getProgress(n.data.totalNum,n.data.succNum)}),[2]):(e(ue.BIND_POLLING_RUNNING,{progress:this.getProgress(n.data.totalNum,n.data.succNum)}),this.runPolling(t,e),[2]):(e(ue.ERROR,{errBindQQStatus:ue.BIND_POLLING_RUNNING}),[2])}}))}))}),1e3))},t.prototype.getProgress=function(t,e){return void 0===e&&(e=0),t?Math.floor(e/t):1},t=J([X(0,p.b),Z("design:paramtypes",[Object])],t)}();function he(t,e){var n,r=this;return pe=e,function(i){return function o(){return tt(r,void 0,void 0,(function(){var r,a,s;return et(this,(function(c){switch(c.label){case 0:return pe!==e?[2]:[4,t.loginRepository.updateWeChatLoginQRCodeStatus(e)];case 1:return r=c.sent(),a=r.error,s=r.resData,a?(i({status:fe.ERROR}),[2]):(null===s||void 0===s?void 0:s.data.status.isFinish)?(i({status:fe.USER_HAS_CONFIRMED}),[2]):(n=setTimeout(o,1e3),[2])}}))}))}(),setTimeout((function(){pe===e&&i({status:fe.CODE_WAS_EXPIRED}),clearTimeout(n)}),58e3),function(){return clearTimeout(n)}}}!function(t){t.CODE_IS_READY="CODE_IS_READY",t.USER_HAS_SCANNED="USER_HAS_SCANNED",t.CODE_WAS_EXPIRED="CODE_WAS_EXPIRED",t.USER_HAS_CONFIRMED="USER_HAS_CONFIRMED",t.ERROR="ERROR"}(fe||(fe={}));var ge,ve=function(){function t(t,e){this.accountDomainService=t,this.loginDomainService=e}return t.prototype.getQRCode=function(){return tt(this,void 0,void 0,(function(){var t,e,n,r;return et(this,(function(i){switch(i.label){case 0:return t=this.accountDomainService.accountAggregate.userInfo.nowUserIndex,[4,this.accountDomainService.accountAggregate.accountRepository.getBindWxQrCode(t)];case 1:if(e=i.sent(),n=e.error,r=e.resData,n)throw n;return[2,this.convertWeChatQRCodeResponse(null===r||void 0===r?void 0:r.data)]}}))}))},t.prototype.convertWeChatQRCodeResponse=function(t){var e=null!==t&&void 0!==t?t:{},n=e.img,r=e.checkKey;if(!n||!r)throw Error("获取微信二维码失败");return{id:r,image:"data:image/png;base64,".concat(n),subscribe:he(this.loginDomainService.loginAggregate,r)}},t=J([X(0,p.b),X(1,h.C),Z("design:paramtypes",[Object,Object])],t)}(),ye=function(){function t(t,e){this.accountDomainService=t,this.loginDomainService=e}return t.prototype.qqBind=function(t){return this.qqBindApplication||(this.qqBindApplication=new le(this.accountDomainService)),this.qqBindApplication.getStatus(t)},t.prototype.wechatBind=function(){return this.wechatBindApplication=new ve(this.accountDomainService,this.loginDomainService),this.wechatBindApplication.getQRCode()},t.prototype.getQQBindingInfo=function(){return this.qqBindApplication||(this.qqBindApplication=new le(this.accountDomainService)),this.qqBindApplication.getBindingQQAccountInfo()},t.prototype.getCurrentAccountBindingInfo=function(){return this.accountDomainService.accountAggregate.currentLoginAccountBindInfo()},t=J([X(0,p.b),X(1,h.C),Z("design:paramtypes",[Object,Object])],t)}(),_e=Lt((function(t,e){window,t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==$(t)&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=41)}([function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var r=n(22)("wks"),i=n(23),o=n(0).Symbol,a="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))}).store=r},function(t,e){var n,r=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];e.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return 4*t+17},e.getSymbolTotalCodewords=function(t){return r[t]},e.getBCHDigit=function(t){for(var e=0;0!==t;)e++,t>>>=1;return e},e.setToSJISFunction=function(t){if("function"!=typeof t)throw new Error('"toSJISFunc" is not a valid function.');n=t},e.isKanjiModeEnabled=function(){return void 0!==n},e.toSJIS=function(t){return n(t)}},function(t,e,n){var r=n(35),i=n(36);e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(t,e){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(!r.isValid(e))throw new Error("Invalid version: "+e);return e>=1&&e<10?t.ccBits[0]:e<27?t.ccBits[1]:t.ccBits[2]},e.getBestModeForData=function(t){return i.testNumeric(t)?e.NUMERIC:i.testAlphanumeric(t)?e.ALPHANUMERIC:i.testKanji(t)?e.KANJI:e.BYTE},e.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")},e.isValid=function(t){return t&&t.bit&&t.ccBits},e.from=function(t,n){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+t)}}(t)}catch(t){return n}}},function(t,e){t.exports=function(t){return"object"==$(t)?null!==t:"function"==typeof t}},function(t,e,n){var r=n(16);o.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()}catch(t){return!1}}();var i=o.TYPED_ARRAY_SUPPORT?2147483647:1073741823;function o(t,e,n){return o.TYPED_ARRAY_SUPPORT||this instanceof o?"number"==typeof t?c(this,t):function(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");var i;return i=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),o.TYPED_ARRAY_SUPPORT?i.__proto__=o.prototype:i=u(t,i),i}(t,e,n,r):"string"==typeof e?function(t,e){var n=0|f(e),r=s(t,n),i=r.write(e);return i!==n&&(r=r.slice(0,i)),r}(t,e):function(t,e){if(o.isBuffer(e)){var n=0|a(e.length),r=s(t,n);return 0===r.length||e.copy(r,0,0,n),r}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(i=e.length)!=i?s(t,0):u(t,e);if("Buffer"===e.type&&Array.isArray(e.data))return u(t,e.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}(this,t,e,n):new o(t,e,n)}function a(t){if(t>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|t}function s(t,e){var n;return o.TYPED_ARRAY_SUPPORT?(n=new Uint8Array(e)).__proto__=o.prototype:(null===(n=t)&&(n=new o(e)),n.length=e),n}function c(t,e){var n=s(t,e<0?0:0|a(e));if(!o.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)n[r]=0;return n}function u(t,e){for(var n=e.length<0?0:0|a(e.length),r=s(t,n),i=0;i<n;i+=1)r[i]=255&e[i];return r}function d(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function f(t){return o.isBuffer(t)?t.length:"undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer)?t.byteLength:("string"!=typeof t&&(t=""+t),0===t.length?0:d(t).length)}o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1})),o.prototype.write=function(t,e,n){void 0===e||void 0===n&&"string"==typeof e?(n=this.length,e=0):isFinite(e)&&(e|=0,isFinite(n)?n|=0:n=void 0);var r=this.length-e;if((void 0===n||n>r)&&(n=r),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");return function(t,e,n,r){return function(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}(d(e,t.length-n),t,n,r)}(this,t,e,n)},o.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),o.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=o.prototype;else{var i=e-t;n=new o(i,void 0);for(var a=0;a<i;++a)n[a]=this[a+t]}return n},o.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,a=r-n;if(this===t&&n<e&&e<r)for(i=a-1;i>=0;--i)t[i+e]=this[i+n];else if(a<1e3||!o.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+a),e);return a},o.prototype.fill=function(t,e,n){if("string"==typeof t){if("string"==typeof e?(e=0,n=this.length):"string"==typeof n&&(n=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{var a=o.isBuffer(t)?t:new o(t),s=a.length;for(i=0;i<n-e;++i)this[i+e]=a[i%s]}return this},o.concat=function(t,e){if(!r(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return s(null,0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=c(null,e),a=0;for(n=0;n<t.length;++n){var u=t[n];if(!o.isBuffer(u))throw new TypeError('"list" argument must be an Array of Buffers');u.copy(i,a),a+=u.length}return i},o.byteLength=f,o.prototype._isBuffer=!0,o.isBuffer=function(t){return!(null==t||!t._isBuffer)},t.exports.alloc=function(t){var e=new o(t);return e.fill(0),e},t.exports.from=function(t){return new o(t)}},function(t,e,n){var r=n(10);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){var n=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(4);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){t.exports=!n(25)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(7),i=n(1)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:o?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){var r=n(14),i=n(45);t.exports=n(11)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(9),i=n(43),o=n(44),a=Object.defineProperty;e.f=n(11)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(0),i=n(13),o=n(27),a=n(23)("src"),s=n(46),c=(""+s).split("toString");n(8).inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,n,s){var u="function"==typeof n;u&&(o(n,"name")||i(n,"name",e)),t[e]!==n&&(u&&(o(n,a)||i(n,a,t[e]?""+t[e]:c.join(String(e)))),t===r?t[e]=n:s?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[a]||s.call(this)}))},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2},e.isValid=function(t){return t&&void 0!==t.bit&&t.bit>=0&&t.bit<4},e.from=function(t,n){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+t)}}(t)}catch(t){return n}}},function(t,e){function n(t){if("number"==typeof t&&(t=t.toString()),"string"!=typeof t)throw new Error("Color should be defined as hex string");var e=t.slice().replace("#","").split("");if(e.length<3||5===e.length||e.length>8)throw new Error("Invalid hex color: "+t);3!==e.length&&4!==e.length||(e=Array.prototype.concat.apply([],e.map((function(t){return[t,t]})))),6===e.length&&e.push("F","F");var n=parseInt(e.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n,hex:"#"+e.slice(0,6).join("")}}e.getOptions=function(t){t||(t={}),t.color||(t.color={});var e=void 0===t.margin||null===t.margin||t.margin<0?4:t.margin,r=t.width&&t.width>=21?t.width:void 0,i=t.scale||4;return{width:r,scale:r?4:i,margin:e,color:{dark:n(t.color.dark||"#000000ff"),light:n(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},e.getScale=function(t,e){return e.width&&e.width>=t+2*e.margin?e.width/(t+2*e.margin):e.scale},e.getImageWidth=function(t,n){var r=e.getScale(t,n);return Math.floor((t+2*n.margin)*r)},e.qrToImageData=function(t,n,r){for(var i=n.modules.size,o=n.modules.data,a=e.getScale(i,r),s=Math.floor((i+2*r.margin)*a),c=r.margin*a,u=[r.color.light,r.color.dark],d=0;d<s;d++)for(var f=0;f<s;f++){var p=4*(d*s+f),l=r.color.light;d>=c&&f>=c&&d<s-c&&f<s-c&&(l=u[o[Math.floor((d-c)/a)*i+Math.floor((f-c)/a)]?1:0]),t[p++]=l.r,t[p++]=l.g,t[p++]=l.b,t[p]=l.a}}},function(t,e,n){t.exports=n(20)},function(t,e,n){var r=function(t){var e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n,r){var i=e&&e.prototype instanceof d?e:d,o=Object.create(i.prototype),a=new I(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return S()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=m(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var d=c(t,e,n);if("normal"===d.type){if(r=n.done?"completed":"suspendedYield",d.arg===u)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(r="completed",n.method="throw",n.arg=d.arg)}}}(t,n,a),o}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var u={};function d(){}function f(){}function p(){}var l={};l[i]=function(){return this};var h=Object.getPrototypeOf,g=h&&h(h(E([])));g&&g!==e&&n.call(g,i)&&(l=g);var v=p.prototype=d.prototype=Object.create(l);function y(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function _(t,e){var r;this._invoke=function(i,o){function a(){return new e((function(r,a){!function r(i,o,a,s){var u=c(t[i],t,o);if("throw"!==u.type){var d=u.arg,f=d.value;return f&&"object"==$(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(f).then((function(t){d.value=t,a(d)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}(i,o,r,a)}))}return r=r?r.then(a,a):a()}}function m(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,m(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=c(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,u;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function b(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function E(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return f.prototype=v.constructor=p,p.constructor=f,p[a]=f.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,a in t||(t[a]="GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},y(_.prototype),_.prototype[o]=function(){return this},t.AsyncIterator=_,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new _(s(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},y(v),v[a]="Generator",v[i]=function(){return this},v.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=E,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),b(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;b(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},function(t,e){t.exports=!1},function(t,e,n){var r=n(8),i=n(0),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(21)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(0),i=n(8),o=n(13),a=n(15),s=n(6),c=function t(e,n,c){var u,d,f,p,l=e&t.F,h=e&t.G,g=e&t.P,v=e&t.B,y=h?r:e&t.S?r[n]||(r[n]={}):(r[n]||{}).prototype,_=h?i:i[n]||(i[n]={}),m=_.prototype||(_.prototype={});for(u in h&&(c=n),c)f=((d=!l&&y&&void 0!==y[u])?y:c)[u],p=v&&d?s(f,r):g&&"function"==typeof f?s(Function.call,f):f,y&&a(y,u,f,e&t.U),_[u]!=f&&o(_,u,p),g&&m[u]!=f&&(m[u]=f)};r.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(4),i=n(0).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e){t.exports={}},function(t,e,n){var r=n(51),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){var r,i,o,a=n(6),s=n(54),c=n(55),u=n(26),d=n(0),f=d.process,p=d.setImmediate,l=d.clearImmediate,h=d.MessageChannel,g=d.Dispatch,v=0,y={},_=function(){var t=+this;if(y.hasOwnProperty(t)){var e=y[t];delete y[t],e()}},m=function(t){_.call(t.data)};p&&l||(p=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return y[++v]=function(){s("function"==typeof t?t:Function(t),e)},r(v),v},l=function(t){delete y[t]},"process"==n(7)(f)?r=function(t){f.nextTick(a(_,t,1))}:g&&g.now?r=function(t){g.now(a(_,t,1))}:h?(o=(i=new h).port2,i.port1.onmessage=m,r=a(o.postMessage,o,1)):d.addEventListener&&"function"==typeof postMessage&&!d.importScripts?(r=function(t){d.postMessage(t+"","*")},d.addEventListener("message",m,!1)):r="onreadystatechange"in u("script")?function(t){c.appendChild(u("script")).onreadystatechange=function(){c.removeChild(this),_.call(t)}}:function(t){setTimeout(a(_,t,1),0)}),t.exports={set:p,clear:l}},function(t,e,n){var r=n(10);function i(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)}t.exports.f=function(t){return new i(t)}},function(t,e,n){var r=n(2).getSymbolSize;e.getPositions=function(t){var e=r(t);return[[0,0],[e-7,0],[0,e-7]]}},function(t,e,n){var r=n(17),i=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],o=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];e.getBlocksCount=function(t,e){switch(e){case r.L:return i[4*(t-1)+0];case r.M:return i[4*(t-1)+1];case r.Q:return i[4*(t-1)+2];case r.H:return i[4*(t-1)+3];default:return}},e.getTotalCodewordsCount=function(t,e){switch(e){case r.L:return o[4*(t-1)+0];case r.M:return o[4*(t-1)+1];case r.Q:return o[4*(t-1)+2];case r.H:return o[4*(t-1)+3];default:return}}},function(t,e,n){var r=n(2),i=n(33),o=n(17),a=n(3),s=n(35),c=n(16),u=r.getBCHDigit(7973);function d(t,e){return a.getCharCountIndicator(t,e)+4}function f(t,e){var n=0;return t.forEach((function(t){var r=d(t.mode,e);n+=r+t.getBitsLength()})),n}e.from=function(t,e){return s.isValid(t)?parseInt(t,10):e},e.getCapacity=function(t,e,n){if(!s.isValid(t))throw new Error("Invalid QR Code version");void 0===n&&(n=a.BYTE);var o=8*(r.getSymbolTotalCodewords(t)-i.getTotalCodewordsCount(t,e));if(n===a.MIXED)return o;var c=o-d(n,t);switch(n){case a.NUMERIC:return Math.floor(c/10*3);case a.ALPHANUMERIC:return Math.floor(c/11*2);case a.KANJI:return Math.floor(c/13);case a.BYTE:default:return Math.floor(c/8)}},e.getBestVersionForData=function(t,n){var r,i=o.from(n,o.M);if(c(t)){if(t.length>1)return function(t,n){for(var r=1;r<=40;r++)if(f(t,r)<=e.getCapacity(r,n,a.MIXED))return r}(t,i);if(0===t.length)return 1;r=t[0]}else r=t;return function(t,n,r){for(var i=1;i<=40;i++)if(n<=e.getCapacity(i,r,t))return i}(r.mode,r.getLength(),i)},e.getEncodedBits=function(t){if(!s.isValid(t)||t<7)throw new Error("Invalid QR Code version");for(var e=t<<12;r.getBCHDigit(e)-u>=0;)e^=7973<<r.getBCHDigit(e)-u;return t<<12|e}},function(t,e){e.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}},function(t,e){var n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+",r="(?:(?![A-Z0-9 $%*+\\-./:]|"+(n=n.replace(/u/g,"\\u"))+")(?:.|[\r\n]))+";e.KANJI=new RegExp(n,"g"),e.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),e.BYTE=new RegExp(r,"g"),e.NUMERIC=new RegExp("[0-9]+","g"),e.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");var i=new RegExp("^"+n+"$"),o=new RegExp("^[0-9]+$"),a=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");e.testKanji=function(t){return i.test(t)},e.testNumeric=function(t){return o.test(t)},e.testAlphanumeric=function(t){return a.test(t)}},function(t,e,n){var r=n(3),i=n(94),o=n(95),a=n(96),s=n(97),c=n(36),u=n(2),d=n(98);function f(t){return unescape(encodeURIComponent(t)).length}function p(t,e,n){for(var r,i=[];null!==(r=t.exec(n));)i.push({data:r[0],index:r.index,mode:e,length:r[0].length});return i}function l(t){var e,n,i=p(c.NUMERIC,r.NUMERIC,t),o=p(c.ALPHANUMERIC,r.ALPHANUMERIC,t);return u.isKanjiModeEnabled()?(e=p(c.BYTE,r.BYTE,t),n=p(c.KANJI,r.KANJI,t)):(e=p(c.BYTE_KANJI,r.BYTE,t),n=[]),i.concat(o,e,n).sort((function(t,e){return t.index-e.index})).map((function(t){return{data:t.data,mode:t.mode,length:t.length}}))}function h(t,e){switch(e){case r.NUMERIC:return i.getBitsLength(t);case r.ALPHANUMERIC:return o.getBitsLength(t);case r.KANJI:return s.getBitsLength(t);case r.BYTE:return a.getBitsLength(t)}}function g(t,e){var n,c=r.getBestModeForData(t);if((n=r.from(e,c))!==r.BYTE&&n.bit<c.bit)throw new Error('"'+t+'" cannot be encoded with mode '+r.toString(n)+".\n Suggested mode is: "+r.toString(c));switch(n!==r.KANJI||u.isKanjiModeEnabled()||(n=r.BYTE),n){case r.NUMERIC:return new i(t);case r.ALPHANUMERIC:return new o(t);case r.KANJI:return new s(t);case r.BYTE:return new a(t)}}e.fromArray=function(t){return t.reduce((function(t,e){return"string"==typeof e?t.push(g(e,null)):e.data&&t.push(g(e.data,e.mode)),t}),[])},e.fromString=function(t,n){for(var i=function(t,e){for(var n={},i={start:{}},o=["start"],a=0;a<t.length;a++){for(var s=t[a],c=[],u=0;u<s.length;u++){var d=s[u],f=""+a+u;c.push(f),n[f]={node:d,lastCount:0},i[f]={};for(var p=0;p<o.length;p++){var l=o[p];n[l]&&n[l].node.mode===d.mode?(i[l][f]=h(n[l].lastCount+d.length,d.mode)-h(n[l].lastCount,d.mode),n[l].lastCount+=d.length):(n[l]&&(n[l].lastCount=d.length),i[l][f]=h(d.length,d.mode)+4+r.getCharCountIndicator(d.mode,e))}}o=c}for(p=0;p<o.length;p++)i[o[p]].end=0;return{map:i,table:n}}(function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n];switch(i.mode){case r.NUMERIC:e.push([i,{data:i.data,mode:r.ALPHANUMERIC,length:i.length},{data:i.data,mode:r.BYTE,length:i.length}]);break;case r.ALPHANUMERIC:e.push([i,{data:i.data,mode:r.BYTE,length:i.length}]);break;case r.KANJI:e.push([i,{data:i.data,mode:r.BYTE,length:f(i.data)}]);break;case r.BYTE:e.push([{data:i.data,mode:r.BYTE,length:f(i.data)}])}}return e}(l(t,u.isKanjiModeEnabled())),n),o=d.find_path(i.map,"start","end"),a=[],s=1;s<o.length-1;s++)a.push(i.table[o[s]].node);return e.fromArray(function(t){return t.reduce((function(t,e){var n=t.length-1>=0?t[t.length-1]:null;return n&&n.mode===e.mode?(t[t.length-1].data+=e.data,t):(t.push(e),t)}),[])}(a))},e.rawSplit=function(t){return e.fromArray(l(t,u.isKanjiModeEnabled()))}},function(t,e){function n(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}t.exports=function(t){return function(){var e=this,r=arguments;return new Promise((function(i,o){var a=t.apply(e,r);function s(t){n(a,i,o,s,c,"next",t)}function c(t){n(a,i,o,s,c,"throw",t)}s(void 0)}))}}},function(t,e,n){var r=n(65),i=n(66),o=n(67),a=n(69);t.exports=function(t,e){return r(t)||i(t,e)||o(t,e)||a()}},function(t,e,n){var r=n(79),i=n(80),o=n(99),a=n(100);function s(t,e,n,o,a){var s=[].slice.call(arguments,1),c=s.length,u="function"==typeof s[c-1];if(!u&&!r())throw new Error("Callback required as last argument");if(!u){if(c<1)throw new Error("Too few arguments provided");return 1===c?(n=e,e=o=void 0):2!==c||e.getContext||(o=n,n=e,e=void 0),new Promise((function(r,a){try{var s=i.create(n,o);r(t(s,e,o))}catch(t){a(t)}}))}if(c<2)throw new Error("Too few arguments provided");2===c?(a=n,n=e,e=o=void 0):3===c&&(e.getContext&&void 0===a?(a=o,o=void 0):(a=o,o=n,n=e,e=void 0));try{var d=i.create(n,o);a(null,t(d,e,o))}catch(t){a(t)}}e.create=i.create,e.toCanvas=s.bind(null,o.render),e.toDataURL=s.bind(null,o.renderToDataURL),e.toString=s.bind(null,(function(t,e,n){return a.render(t,n)}))},function(t,e,n){n.r(e);var r=n(19),i=n.n(r),o=(n(42),n(64),n(20),n(38)),a=n.n(o),s=n(39),c=n.n(s),u=(n(70),n(40)),d=n.n(u),f=n(18),p=n(34),l=n(37),h=n(32),g=function(t,e,n,r){return!!t.find((function(t){var i=c()(t,2),o=i[0],a=i[1];return n>=o&&n<o+e&&r>=a&&r<a+e}))};f.qrToImageData=function(t,e,n){for(var r=e.modules.size,i=e.modules.data,o=f.getScale(r,n),a=Math.floor((r+2*n.margin)*o),s=n.margin*o,c=[n.color.light,n.color.dark],u=h.getPositions(e.version),d=r>21?[[r-9,r-9]]:[],p=0;p<a;p++)for(var l=0;l<a;l++){var v=4*(p*a+l),y=n.color.light;if(p>=s&&l>=s&&p<a-s&&l<a-s){var _=Math.floor((p-s)/o),m=Math.floor((l-s)/o);(g(u,7,_,m)||g(d,5,_,m)||p%o>o/4&&p%o<=o/4*3&&l%o>o/4&&l%o<=o/4*3)&&(y=c[i[_*r+m]?1:0])}t[v++]=y.r,t[v++]=y.g,t[v++]=y.b,t[v]=y.a}};var v={make:function(){var t=a()(i.a.mark((function t(e){var n,r,o,a,s,c,u,f,h,g,v,y,_,m,w,b,I,E,S,A,O,C,x,R,M,D,P,T=arguments;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=T.length>1&&void 0!==T[1]?T[1]:{},r=n.size,o=void 0===r?640:r,a=n.paddingSize,s=void 0===a?o/20:a,c=n.iconURL,u=void 0===c?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAABNVBMVEUqZPQqZfQAAACxxvspZPUpZfYqZPUqZPUqZPUqZfUqZPUqZPYqZPkoZfcqY/8qZPQqZfUrZPUqZPUqZPUqZfUqZPcoZv9+ovgbjvk+dPYqZfUqZPUrZfYpY/UmZv8rZfX///8C3P+VsvoLvv37/P/E1Pz9/v8D1f+6zfyZtfoza/X3+f+wxvsifPc+c/Y4bvUvaPXx9f/m7f6/0fyduPoakvlJe/YobPUJxf21yfyrwvuNrPp/ovlvlvhOf/bt8v/e5/7W4f3K2f3H1/2kvfuhuvt5nflbiPdSgvdDdvbT3/2mv/uEpvl0mvhmj/hgi/dXhffa5P6txPsTqPuSsPoWoPqJqfljjvcggvfp8P7h6f6yx/xqk/ji6v7O3P3O2/0Rr/sldPYGzf4Ot/yhvPsYmfkdivissIOZAAAAH3RSTlPBwADkZTT246PZznEoHQbtqpl+eUk/DNXSxLGSiUsUjRqlfAAABE5JREFUeNq124dSU1EUheFrpNl7L3tdTCIkMY0Yld57V7FhL+//CJIgoxu4iyOX9T3BP8mcPXf2mRNl2h5cvdttMi+f2T5nes51ZtraARcik3r8fLfAu3dxL6Cjy7Ti+NCCM527AR0m9jZOKOg63wq40GViv+KkgrOtgMjUXseJBVczUafJvYwTCy5lonMm9yje9fiJHXA+umxy3+Lkgo6o2+TiOLmgJzK5JzEpiNIFFMLGAClIGdAYDjqFpCBlQA79IaeQFKQMqAOlgFNICtIFFLBjoGrc83h/wduTCphDy+eKUfFBT08oYBht42UjvsakIGXAEnbVm/QUkoKUAZP4Y2zeEv2MSUHKgCL2FN+QMUAK0gWU8Vd2hZxCUpAqYBX/yC+TgISCtAFbcBokIKEgZUAJTsJQ/BIne5kuYBHwctXD5sBjUvAlVUAW+y1W7KBnr78/SnQ7RUATDhmKRJpfYAQOG4qagFc4TG3dDtIE9MFhQ1ETMI7DZWdtP0lANY8E+SHzNAHzSDZtjiZgFsQLcyQBDTC5gjmCgByoCTcUFQF1cO8XjEgfUMBR3jWNSB0whyPV5szhAeu9/TsajcbMzMz09PTS0tLg4ODmZqlU+vBiR1/LwI7cjqmpyckNHK24HRjQNoWTl5/9j4DCBARehQdY5SMEpsMDbGEMAn3V4AAbrUFgshAcYOtFCExUaICzmoXA+wUW4K1AYWyUBXhDUKjNsQBvBgrZERbgfYBCfpgFeDlI9AYHVBchMUgCvMo4JPqqJMAp1yHxuUACnOYYJDbKJMCZL0KivkACnLUsJMbmSYAzkodEcY0EOMvQyI6QAKcfGvlhF0AMQqTfBRBDvYfKgfnQe7RREhBgBsyoBUgXMAUia44koAZiwhxFQBlMyRxFwBswQ+YoArbArJqjCNgEUzZHEbAIomaOJCALYtIcRUATzJI5ioARMMPmKAJegZkzRxHQB6ZgjiJgHETdHEVANQ9iwBxFwDyYfnMUAbNgVsxRBDTCv0Y0ATkQeXMkAe9AbJijCKgg+KZEE7AW/jWiCVgGs22OImAQzII5ioBPIIrmSAKKID6ZowhYCF9DaQK2wSybowgYArNmjiLgBZiKOYqADRDvzJEE5EHkzFEEjIJpmKMIWAEza44ioB/MvDmKgAEQ+ao5ioA6iHFzFAEFMH3mKALmwu+JNQHDYEbMUQRMg2maowiYDF8QagJqIBbNUQSUwWyaowhYBbNljiJgC8wbcxQBpfAFoSZgInxBqAnIgpgyRxHQBPPDiNAA6YIwfUAvmHUjQgOkC8L0Ae9BfLRjORWdsVBVMAN2LFeiyxZqPXxBGK4jumaOYEFIdUbXzRFcV1IXo4tnzRFcVxL3W89+L1mYMX5deRxR++HzDQtSAVOyY+h+2A7InHf/gnJB6PXczLQCWq512ZGWU19Xet3X917ft9y8ca7nFHfrNHPn1H+50tGZ2fUblSLbLbJxjtoAAAAASUVORK5CYII=":c,f=n.iconSize,h=void 0===f?o/5:f,g=n.iconMargin,v=void 0===g?0:g,y=n.errorCorrectionLevel,_=void 0===y?"Q":y,(m=document.createElement("canvas")).width=o,m.height=o,w=m.getContext("2d")){t.next=8;break}throw Error("Cannot create canvas context");case 8:return w.fillStyle="#ffffff",w.fillRect(0,0,o,o),b=4*Math.ceil(o/320),I=l.rawSplit(e),E=Math.max(4,p.getBestVersionForData(I,_)),t.next=15,d.a.toDataURL(e,{margin:0,scale:b,version:E,errorCorrectionLevel:_});case 15:return S=t.sent,(A=new Image).src=S,t.next=20,new Promise((function(t,e){var n=[t,e];A.onload=n[0],A.onerror=n[1]}));case 20:if(O=o-2*s,null==w||w.drawImage(A,s,s,O,O),!u){t.next=35;break}return C=h+2*v,x=Math.round(A.naturalWidth/b),R=O/x,C=Math.ceil((2*Math.ceil((C-R)/(2*R))+1)*R),M=(o-C)/2,w.fillRect(M,M,C,C),D=(o-h)/2,(P=new Image).src=u,t.next=34,new Promise((function(t,e){var n=[t,e];P.onload=n[0],P.onerror=n[1]}));case 34:w.drawImage(P,D,D,h,h);case 35:return t.abrupt("return",m.toDataURL("png"));case 36:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};e.default=v},function(t,e,n){var r,i,o,a,s=n(21),c=n(0),u=n(6),d=n(12),f=n(24),p=n(4),l=n(10),h=n(47),g=n(48),v=n(53),y=n(30).set,_=n(56)(),m=n(31),w=n(57),b=n(58),I=n(59),E=c.TypeError,S=c.process,A=S&&S.versions,O=A&&A.v8||"",C=c.Promise,x="process"==d(S),R=function(){},M=i=m.f,D=!!function(){try{var t=C.resolve(1),e=(t.constructor={})[n(1)("species")]=function(t){t(R,R)};return(x||"function"==typeof PromiseRejectionEvent)&&t.then(R)instanceof e&&0!==O.indexOf("6.6")&&-1===b.indexOf("Chrome/66")}catch(t){}}(),P=function(t){var e;return!(!p(t)||"function"!=typeof(e=t.then))&&e},T=function(t,e){if(!t._n){t._n=!0;var n=t._c;_((function(){for(var r=t._v,i=1==t._s,o=0,a=function(e){var n,o,a,s=i?e.ok:e.fail,c=e.resolve,u=e.reject,d=e.domain;try{s?(i||(2==t._h&&N(t),t._h=1),!0===s?n=r:(d&&d.enter(),n=s(r),d&&(d.exit(),a=!0)),n===e.promise?u(E("Promise-chain cycle")):(o=P(n))?o.call(n,c,u):c(n)):u(r)}catch(t){d&&!a&&d.exit(),u(t)}};n.length>o;)a(n[o++]);t._c=[],t._n=!1,e&&!t._h&&k(t)}))}},k=function(t){y.call(c,(function(){var e,n,r,i=t._v,o=L(t);if(o&&(e=w((function(){x?S.emit("unhandledRejection",i,t):(n=c.onunhandledrejection)?n({promise:t,reason:i}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",i)})),t._h=x||L(t)?2:1),t._a=void 0,o&&e.e)throw e.v}))},L=function(t){return 1!==t._h&&0===(t._a||t._c).length},N=function(t){y.call(c,(function(){var e;x?S.emit("rejectionHandled",t):(e=c.onrejectionhandled)&&e({promise:t,reason:t._v})}))},U=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),T(e,!0))},j=function t(e){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw E("Promise can't be resolved itself");(n=P(e))?_((function(){var i={_w:r,_d:!1};try{n.call(e,u(t,i,1),u(U,i,1))}catch(e){U.call(i,e)}})):(r._v=e,r._s=1,T(r,!1))}catch(e){U.call({_w:r,_d:!1},e)}}};D||(C=function(t){h(this,C,"Promise","_h"),l(t),r.call(this);try{t(u(j,this,1),u(U,this,1))}catch(t){U.call(this,t)}},(r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(60)(C.prototype,{then:function(t,e){var n=M(v(this,C));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=x?S.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&T(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r;this.promise=t,this.resolve=u(j,t,1),this.reject=u(U,t,1)},m.f=M=function(t){return t===C||t===a?new o(t):i(t)}),f(f.G+f.W+f.F*!D,{Promise:C}),n(61)(C,"Promise"),n(62)("Promise"),a=n(8).Promise,f(f.S+f.F*!D,"Promise",{reject:function(t){var e=M(this);return(0,e.reject)(t),e.promise}}),f(f.S+f.F*(s||!D),"Promise",{resolve:function(t){return I(s&&this===a?C:this,t)}}),f(f.S+f.F*!(D&&n(63)((function(t){C.all(t).catch(R)}))),"Promise",{all:function(t){var e=this,n=M(e),r=n.resolve,i=n.reject,o=w((function(){var n=[],o=0,a=1;g(t,!1,(function(t){var s=o++,c=!1;n.push(void 0),a++,e.resolve(t).then((function(t){c||(c=!0,n[s]=t,--a||r(n))}),i)})),--a||r(n)}));return o.e&&i(o.v),n.promise},race:function(t){var e=this,n=M(e),r=n.reject,i=w((function(){g(t,!1,(function(t){e.resolve(t).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}})},function(t,e,n){t.exports=!n(11)&&!n(25)((function(){return 7!=Object.defineProperty(n(26)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(4);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){t.exports=n(22)("native-function-to-string",Function.toString)},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var r=n(6),i=n(49),o=n(50),a=n(9),s=n(29),c=n(52),u={},d={};(e=t.exports=function(t,e,n,f,p){var l,h,g,v,y=p?function(){return t}:c(t),_=r(n,f,e?2:1),m=0;if("function"!=typeof y)throw TypeError(t+" is not iterable!");if(o(y)){for(l=s(t.length);l>m;m++)if((v=e?_(a(h=t[m])[0],h[1]):_(t[m]))===u||v===d)return v}else for(g=y.call(t);!(h=g.next()).done;)if((v=i(g,_,h.value,e))===u||v===d)return v}).BREAK=u,e.RETURN=d},function(t,e,n){var r=n(9);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},function(t,e,n){var r=n(28),i=n(1)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(12),i=n(1)("iterator"),o=n(28);t.exports=n(8).getIteratorMethod=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){var r=n(9),i=n(10),o=n(1)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||null==(n=r(a)[o])?e:i(n)}},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(0).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(0),i=n(30).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,c="process"==n(7)(a);t.exports=function(){var t,e,n,u=function(){var r,i;for(c&&(r=a.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(c)n=function(){a.nextTick(u)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var d=s.resolve(void 0);n=function(){d.then(u)}}else n=function(){i.call(r,u)};else{var f=!0,p=document.createTextNode("");new o(u).observe(p,{characterData:!0}),n=function(){p.data=f=!f}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var r=n(0).navigator;t.exports=r&&r.userAgent||""},function(t,e,n){var r=n(9),i=n(4),o=n(31);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){var r=n(15);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},function(t,e,n){var r=n(14).f,i=n(27),o=n(1)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){var r=n(0),i=n(14),o=n(11),a=n(1)("species");t.exports=function(t){var e=r[t];o&&e&&!e[a]&&i.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(1)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},t(o)}catch(t){}return n}},function(t,e,n){var r=n(12),i={};i[n(1)("toStringTag")]="z",i+""!="[object z]"&&n(15)(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}},function(t,e,n){var r=n(68);t.exports=function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,e,n){var r=n(24),i=n(71)(5),o=!0;"find"in[]&&Array(1).find((function(){o=!1})),r(r.P+r.F*o,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(78)("find")},function(t,e,n){var r=n(6),i=n(72),o=n(73),a=n(29),s=n(75);t.exports=function(t,e){var n=1==t,c=2==t,u=3==t,d=4==t,f=6==t,p=5==t||f,l=e||s;return function(e,s,h){for(var g,v,y=o(e),_=i(y),m=r(s,h,3),w=a(_.length),b=0,I=n?l(e,w):c?l(e,0):void 0;w>b;b++)if((p||b in _)&&(v=m(g=_[b],b,y),t))if(n)I[b]=v;else if(v)switch(t){case 3:return!0;case 5:return g;case 6:return b;case 2:I.push(g)}else if(d)return!1;return f?-1:u||d?d:I}}},function(t,e,n){var r=n(7);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){var r=n(74);t.exports=function(t){return Object(r(t))}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(76);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){var r=n(4),i=n(77),o=n(1)("species");t.exports=function(t){var e;return i(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){var r=n(7);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(1)("unscopables"),i=Array.prototype;null==i[r]&&n(13)(i,r,{}),t.exports=function(t){i[r][t]=!0}},function(t,e){t.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},function(t,e,n){var r=n(5),i=n(2),o=n(17),a=n(81),s=n(82),c=n(83),u=n(32),d=n(84),f=n(33),p=n(85),l=n(34),h=n(93),g=n(3),v=n(37),y=n(16);function _(t,e,n){var r,i,o=t.size,a=h.getEncodedBits(e,n);for(r=0;r<15;r++)i=1==(a>>r&1),r<6?t.set(r,8,i,!0):r<8?t.set(r+1,8,i,!0):t.set(o-15+r,8,i,!0),r<8?t.set(8,o-r-1,i,!0):r<9?t.set(8,15-r-1+1,i,!0):t.set(8,15-r-1,i,!0);t.set(o-8,8,1,!0)}function m(t,e,n){var o=new a;n.forEach((function(e){o.put(e.mode.bit,4),o.put(e.getLength(),g.getCharCountIndicator(e.mode,t)),e.write(o)}));var s=8*(i.getSymbolTotalCodewords(t)-f.getTotalCodewordsCount(t,e));for(o.getLengthInBits()+4<=s&&o.put(0,4);o.getLengthInBits()%8!=0;)o.putBit(0);for(var c=(s-o.getLengthInBits())/8,u=0;u<c;u++)o.put(u%2?17:236,8);return function(t,e,n){for(var o=i.getSymbolTotalCodewords(e),a=o-f.getTotalCodewordsCount(e,n),s=f.getBlocksCount(e,n),c=s-o%s,u=Math.floor(o/s),d=Math.floor(a/s),l=d+1,h=u-d,g=new p(h),v=0,y=new Array(s),_=new Array(s),m=0,w=r.from(t.buffer),b=0;b<s;b++){var I=b<c?d:l;y[b]=w.slice(v,v+I),_[b]=g.encode(y[b]),v+=I,m=Math.max(m,I)}var E,S,A=r.alloc(o),O=0;for(E=0;E<m;E++)for(S=0;S<s;S++)E<y[S].length&&(A[O++]=y[S][E]);for(E=0;E<h;E++)for(S=0;S<s;S++)A[O++]=_[S][E];return A}(o,t,e)}function w(t,e,n,r){var o;if(y(t))o=v.fromArray(t);else{if("string"!=typeof t)throw new Error("Invalid data");var a=e;if(!a){var f=v.rawSplit(t);a=l.getBestVersionForData(f,n)}o=v.fromString(t,a||40)}var p=l.getBestVersionForData(o,n);if(!p)throw new Error("The amount of data is too big to be stored in a QR Code");if(e){if(e<p)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+p+".\n")}else e=p;var h=m(e,n,o),g=i.getSymbolSize(e),w=new s(g);return function(t,e){for(var n=t.size,r=u.getPositions(e),i=0;i<r.length;i++)for(var o=r[i][0],a=r[i][1],s=-1;s<=7;s++)if(!(o+s<=-1||n<=o+s))for(var c=-1;c<=7;c++)a+c<=-1||n<=a+c||(s>=0&&s<=6&&(0===c||6===c)||c>=0&&c<=6&&(0===s||6===s)||s>=2&&s<=4&&c>=2&&c<=4?t.set(o+s,a+c,!0,!0):t.set(o+s,a+c,!1,!0))}(w,e),function(t){for(var e=t.size,n=8;n<e-8;n++){var r=n%2==0;t.set(n,6,r,!0),t.set(6,n,r,!0)}}(w),function(t,e){for(var n=c.getPositions(e),r=0;r<n.length;r++)for(var i=n[r][0],o=n[r][1],a=-2;a<=2;a++)for(var s=-2;s<=2;s++)-2===a||2===a||-2===s||2===s||0===a&&0===s?t.set(i+a,o+s,!0,!0):t.set(i+a,o+s,!1,!0)}(w,e),_(w,n,0),e>=7&&function(t,e){for(var n,r,i,o=t.size,a=l.getEncodedBits(e),s=0;s<18;s++)n=Math.floor(s/3),r=s%3+o-8-3,i=1==(a>>s&1),t.set(n,r,i,!0),t.set(r,n,i,!0)}(w,e),function(t,e){for(var n=t.size,r=-1,i=n-1,o=7,a=0,s=n-1;s>0;s-=2)for(6===s&&s--;;){for(var c=0;c<2;c++)if(!t.isReserved(i,s-c)){var u=!1;a<e.length&&(u=1==(e[a]>>>o&1)),t.set(i,s-c,u),-1===--o&&(a++,o=7)}if((i+=r)<0||n<=i){i-=r,r=-r;break}}}(w,h),isNaN(r)&&(r=d.getBestMask(w,_.bind(null,w,n))),d.applyMask(r,w),_(w,n,r),{modules:w,version:e,errorCorrectionLevel:n,maskPattern:r,segments:o}}e.create=function(t,e){if(void 0===t||""===t)throw new Error("No input text");var n,r,a=o.M;return void 0!==e&&(a=o.from(e.errorCorrectionLevel,o.M),n=l.from(e.version),r=d.from(e.maskPattern),e.toSJISFunc&&i.setToSJISFunction(e.toSJISFunc)),w(t,n,a,r)}},function(t,e){function n(){this.buffer=[],this.length=0}n.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(var n=0;n<e;n++)this.putBit(1==(t>>>e-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},t.exports=n},function(t,e,n){var r=n(5);function i(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=r.alloc(t*t),this.reservedBit=r.alloc(t*t)}i.prototype.set=function(t,e,n,r){var i=t*this.size+e;this.data[i]=n,r&&(this.reservedBit[i]=!0)},i.prototype.get=function(t,e){return this.data[t*this.size+e]},i.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n},i.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]},t.exports=i},function(t,e,n){var r=n(2).getSymbolSize;e.getRowColCoords=function(t){if(1===t)return[];for(var e=Math.floor(t/7)+2,n=r(t),i=145===n?26:2*Math.ceil((n-13)/(2*e-2)),o=[n-7],a=1;a<e-1;a++)o[a]=o[a-1]-i;return o.push(6),o.reverse()},e.getPositions=function(t){for(var n=[],r=e.getRowColCoords(t),i=r.length,o=0;o<i;o++)for(var a=0;a<i;a++)0===o&&0===a||0===o&&a===i-1||o===i-1&&0===a||n.push([r[o],r[a]]);return n}},function(t,e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var n=3,r=3,i=40,o=10;function a(t,n,r){switch(t){case e.Patterns.PATTERN000:return(n+r)%2==0;case e.Patterns.PATTERN001:return n%2==0;case e.Patterns.PATTERN010:return r%3==0;case e.Patterns.PATTERN011:return(n+r)%3==0;case e.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(r/3))%2==0;case e.Patterns.PATTERN101:return n*r%2+n*r%3==0;case e.Patterns.PATTERN110:return(n*r%2+n*r%3)%2==0;case e.Patterns.PATTERN111:return(n*r%3+(n+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}}e.isValid=function(t){return null!=t&&""!==t&&!isNaN(t)&&t>=0&&t<=7},e.from=function(t){return e.isValid(t)?parseInt(t,10):void 0},e.getPenaltyN1=function(t){for(var e=t.size,r=0,i=0,o=0,a=null,s=null,c=0;c<e;c++){i=o=0,a=s=null;for(var u=0;u<e;u++){var d=t.get(c,u);d===a?i++:(i>=5&&(r+=n+(i-5)),a=d,i=1),(d=t.get(u,c))===s?o++:(o>=5&&(r+=n+(o-5)),s=d,o=1)}i>=5&&(r+=n+(i-5)),o>=5&&(r+=n+(o-5))}return r},e.getPenaltyN2=function(t){for(var e=t.size,n=0,i=0;i<e-1;i++)for(var o=0;o<e-1;o++){var a=t.get(i,o)+t.get(i,o+1)+t.get(i+1,o)+t.get(i+1,o+1);4!==a&&0!==a||n++}return n*r},e.getPenaltyN3=function(t){for(var e=t.size,n=0,r=0,o=0,a=0;a<e;a++){r=o=0;for(var s=0;s<e;s++)r=r<<1&2047|t.get(a,s),s>=10&&(1488===r||93===r)&&n++,o=o<<1&2047|t.get(s,a),s>=10&&(1488===o||93===o)&&n++}return n*i},e.getPenaltyN4=function(t){for(var e=0,n=t.data.length,r=0;r<n;r++)e+=t.data[r];return Math.abs(Math.ceil(100*e/n/5)-10)*o},e.applyMask=function(t,e){for(var n=e.size,r=0;r<n;r++)for(var i=0;i<n;i++)e.isReserved(i,r)||e.xor(i,r,a(t,i,r))},e.getBestMask=function(t,n){for(var r=Object.keys(e.Patterns).length,i=0,o=1/0,a=0;a<r;a++){n(a),e.applyMask(a,t);var s=e.getPenaltyN1(t)+e.getPenaltyN2(t)+e.getPenaltyN3(t)+e.getPenaltyN4(t);e.applyMask(a,t),s<o&&(o=s,i=a)}return i}},function(t,e,n){var r=n(5),i=n(86),o=n(88).Buffer;function a(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}a.prototype.initialize=function(t){this.degree=t,this.genPoly=i.generateECPolynomial(this.degree)},a.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");var e=r.alloc(this.degree),n=o.concat([t,e],t.length+this.degree),a=i.mod(n,this.genPoly),s=this.degree-a.length;if(s>0){var c=r.alloc(this.degree);return a.copy(c,s),c}return a},t.exports=a},function(t,e,n){var r=n(5),i=n(87);e.mul=function(t,e){for(var n=r.alloc(t.length+e.length-1),o=0;o<t.length;o++)for(var a=0;a<e.length;a++)n[o+a]^=i.mul(t[o],e[a]);return n},e.mod=function(t,e){for(var n=r.from(t);n.length-e.length>=0;){for(var o=n[0],a=0;a<e.length;a++)n[a]^=i.mul(e[a],o);for(var s=0;s<n.length&&0===n[s];)s++;n=n.slice(s)}return n},e.generateECPolynomial=function(t){for(var n=r.from([1]),o=0;o<t;o++)n=e.mul(n,[1,i.exp(o)]);return n}},function(t,e,n){var r=n(5),i=r.alloc(512),o=r.alloc(256);!function(){for(var t=1,e=0;e<255;e++)i[e]=t,o[t]=e,256&(t<<=1)&&(t^=285);for(e=255;e<512;e++)i[e]=i[e-255]}(),e.log=function(t){if(t<1)throw new Error("log("+t+")");return o[t]},e.exp=function(t){return i[t]},e.mul=function(t,e){return 0===t||0===e?0:i[o[t]+o[e]]}},function(t,e,n){(function(t){var r=n(90),i=n(91),o=n(92);function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=c.prototype:(null===t&&(t=new c(e)),t.length=e),t}function c(t,e,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return f(this,t)}return u(this,t,e,n)}function u(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),c.TYPED_ARRAY_SUPPORT?(t=e).__proto__=c.prototype:t=p(t,e),t}(t,e,n,r):"string"==typeof e?function(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|h(e,n),i=(t=s(t,r)).write(e,n);return i!==r&&(t=t.slice(0,i)),t}(t,e,n):function(t,e){if(c.isBuffer(e)){var n=0|l(e.length);return 0===(t=s(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?s(t,0):p(t,e);if("Buffer"===e.type&&o(e.data))return p(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function d(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function f(t,e){if(d(e),t=s(t,e<0?0:0|l(e)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function p(t,e){var n=e.length<0?0:0|l(e.length);t=s(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function l(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function h(t,e){if(c.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return q(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return B(t).length;default:if(r)return q(t).length;e=(""+e).toLowerCase(),r=!0}}function g(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return R(this,e,n);case"utf8":case"utf-8":return O(this,e,n);case"ascii":return C(this,e,n);case"latin1":case"binary":return x(this,e,n);case"base64":return A(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function v(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function y(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=c.from(e,r)),c.isBuffer(e))return 0===e.length?-1:_(t,e,n,r,i);if("number"==typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):_(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function _(t,e,n,r,i){var o,a=1,s=t.length,c=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,c/=2,n/=2}function u(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){var d=-1;for(o=n;o<s;o++)if(u(t,o)===u(e,-1===d?0:o-d)){if(-1===d&&(d=o),o-d+1===c)return d*a}else-1!==d&&(o-=o-d),d=-1}else for(n+c>s&&(n=s-c),o=n;o>=0;o--){for(var f=!0,p=0;p<c;p++)if(u(t,o+p)!==u(e,p)){f=!1;break}if(f)return o}return-1}function m(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function w(t,e,n,r){return Q(q(e,t.length-n),t,n,r)}function b(t,e,n,r){return Q(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function I(t,e,n,r){return b(t,e,n,r)}function E(t,e,n,r){return Q(B(e),t,n,r)}function S(t,e,n,r){return Q(function(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)r=(n=t.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function A(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function O(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,a,s,c,u=t[i],d=null,f=u>239?4:u>223?3:u>191?2:1;if(i+f<=n)switch(f){case 1:u<128&&(d=u);break;case 2:128==(192&(o=t[i+1]))&&(c=(31&u)<<6|63&o)>127&&(d=c);break;case 3:o=t[i+1],a=t[i+2],128==(192&o)&&128==(192&a)&&(c=(15&u)<<12|(63&o)<<6|63&a)>2047&&(c<55296||c>57343)&&(d=c);break;case 4:o=t[i+1],a=t[i+2],s=t[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(c=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(d=c)}null===d?(d=65533,f=1):d>65535&&(d-=65536,r.push(d>>>10&1023|55296),d=56320|1023&d),r.push(d),i+=f}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=4096));return n}(r)}function C(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function x(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function R(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=F(t[o]);return i}function M(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function D(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function P(t,e,n,r,i,o){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function T(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function k(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function L(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function N(t,e,n,r,o){return o||L(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function U(t,e,n,r,o){return o||L(t,0,n,8),i.write(t,e,n,r,52,8),n+8}e.Buffer=c,e.SlowBuffer=function(t){return+t!=t&&(t=0),c.alloc(+t)},e.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,e,n){return u(null,t,e,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,e,n){return function(t,e,n,r){return d(e),e<=0?s(t,e):void 0!==n?"string"==typeof r?s(t,e).fill(n,r):s(t,e).fill(n):s(t,e)}(null,t,e,n)},c.allocUnsafe=function(t){return f(null,t)},c.allocUnsafeSlow=function(t){return f(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,e){if(!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=c.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var a=t[n];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},c.byteLength=h,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)v(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)v(this,e,e+3),v(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)v(this,e,e+7),v(this,e+1,e+6),v(this,e+2,e+5),v(this,e+3,e+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?O(this,0,t):g.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,e,n,r,i){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(e>>>=0),s=Math.min(o,a),u=this.slice(r,i),d=t.slice(e,n),f=0;f<s;++f)if(u[f]!==d[f]){o=u[f],a=d[f];break}return o<a?-1:a<o?1:0},c.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},c.prototype.indexOf=function(t,e,n){return y(this,t,e,n,!0)},c.prototype.lastIndexOf=function(t,e,n){return y(this,t,e,n,!1)},c.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return m(this,t,e,n);case"utf8":case"utf-8":return w(this,t,e,n);case"ascii":return b(this,t,e,n);case"latin1":case"binary":return I(this,t,e,n);case"base64":return E(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},c.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=c.prototype;else{var i=e-t;n=new c(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},c.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||D(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},c.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||D(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},c.prototype.readUInt8=function(t,e){return e||D(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return e||D(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return e||D(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return e||D(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return e||D(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||D(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},c.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||D(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},c.prototype.readInt8=function(t,e){return e||D(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){e||D(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(t,e){e||D(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(t,e){return e||D(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return e||D(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return e||D(t,4,this.length),i.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return e||D(t,4,this.length),i.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return e||D(t,8,this.length),i.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return e||D(t,8,this.length),i.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,n,r){t=+t,e|=0,n|=0,r||P(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},c.prototype.writeUIntBE=function(t,e,n,r){t=+t,e|=0,n|=0,r||P(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},c.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):T(this,t,e,!0),e+2},c.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):T(this,t,e,!1),e+2},c.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):k(this,t,e,!0),e+4},c.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):k(this,t,e,!1),e+4},c.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);P(this,t,e,n,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},c.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);P(this,t,e,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},c.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):T(this,t,e,!0),e+2},c.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):T(this,t,e,!1),e+2},c.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):k(this,t,e,!0),e+4},c.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):k(this,t,e,!1),e+4},c.prototype.writeFloatLE=function(t,e,n){return N(this,t,e,!0,n)},c.prototype.writeFloatBE=function(t,e,n){return N(this,t,e,!1,n)},c.prototype.writeDoubleLE=function(t,e,n){return U(this,t,e,!0,n)},c.prototype.writeDoubleBE=function(t,e,n){return U(this,t,e,!1,n)},c.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},c.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var a=c.isBuffer(t)?t:q(new c(t,r).toString()),s=a.length;for(o=0;o<n-e;++o)this[o+e]=a[o%s]}return this};var j=/[^+\/0-9A-Za-z-_]/g;function F(t){return t<16?"0"+t.toString(16):t.toString(16)}function q(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function B(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(j,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function Q(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(this,n(89))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==("undefined"===typeof window?"undefined":$(window))&&(n=window)}t.exports=n},function(t,e,n){e.byteLength=function(t){var e=u(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,r=u(t),a=r[0],s=r[1],c=new o(function(t,e,n){return 3*(e+n)/4-n}(0,a,s)),d=0,f=s>0?a-4:a;for(n=0;n<f;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],c[d++]=e>>16&255,c[d++]=e>>8&255,c[d++]=255&e;return 2===s&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,c[d++]=255&e),1===s&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,c[d++]=e>>8&255,c[d++]=255&e),c},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(d(t,a,a+16383>s?s:a+16383));return 1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function d(t,e,n){for(var i,o,a=[],s=e;s<n;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,c=(1<<s)-1,u=c>>1,d=-7,f=n?i-1:0,p=n?-1:1,l=t[e+f];for(f+=p,o=l&(1<<-d)-1,l>>=-d,d+=s;d>0;o=256*o+t[e+f],f+=p,d-=8);for(a=o&(1<<-d)-1,o>>=-d,d+=r;d>0;a=256*a+t[e+f],f+=p,d-=8);if(0===o)o=1-u;else{if(o===c)return a?NaN:1/0*(l?-1:1);a+=Math.pow(2,r),o-=u}return(l?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,s,c,u=8*o-i-1,d=(1<<u)-1,f=d>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,l=r?0:o-1,h=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=d):(a=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-a))<1&&(a--,c*=2),(e+=a+f>=1?p/c:p*Math.pow(2,1-f))*c>=2&&(a++,c/=2),a+f>=d?(s=0,a=d):a+f>=1?(s=(e*c-1)*Math.pow(2,i),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;t[n+l]=255&s,l+=h,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;t[n+l]=255&a,l+=h,a/=256,u-=8);t[n+l-h]|=128*g}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){var r=n(2),i=r.getBCHDigit(1335);e.getEncodedBits=function(t,e){for(var n=t.bit<<3|e,o=n<<10;r.getBCHDigit(o)-i>=0;)o^=1335<<r.getBCHDigit(o)-i;return 21522^(n<<10|o)}},function(t,e,n){var r=n(3);function i(t){this.mode=r.NUMERIC,this.data=t.toString()}i.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(t){var e,n,r;for(e=0;e+3<=this.data.length;e+=3)n=this.data.substr(e,3),r=parseInt(n,10),t.put(r,10);var i=this.data.length-e;i>0&&(n=this.data.substr(e),r=parseInt(n,10),t.put(r,3*i+1))},t.exports=i},function(t,e,n){var r=n(3),i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function o(t){this.mode=r.ALPHANUMERIC,this.data=t}o.getBitsLength=function(t){return 11*Math.floor(t/2)+t%2*6},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(t){var e;for(e=0;e+2<=this.data.length;e+=2){var n=45*i.indexOf(this.data[e]);n+=i.indexOf(this.data[e+1]),t.put(n,11)}this.data.length%2&&t.put(i.indexOf(this.data[e]),6)},t.exports=o},function(t,e,n){var r=n(5),i=n(3);function o(t){this.mode=i.BYTE,this.data=r.from(t)}o.getBitsLength=function(t){return 8*t},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(t){for(var e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)},t.exports=o},function(t,e,n){var r=n(3),i=n(2);function o(t){this.mode=r.KANJI,this.data=t}o.getBitsLength=function(t){return 13*t},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(t){var e;for(e=0;e<this.data.length;e++){var n=i.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else{if(!(n>=57408&&n<=60351))throw new Error("Invalid SJIS character: "+this.data[e]+"\nMake sure your charset is UTF-8");n-=49472}n=192*(n>>>8&255)+(255&n),t.put(n,13)}},t.exports=o},function(t,e,n){var r={single_source_shortest_paths:function(t,e,n){var i={},o={};o[e]=0;var a,s,c,u,d,f,p,l=r.PriorityQueue.make();for(l.push(e,0);!l.empty();)for(c in s=(a=l.pop()).value,u=a.cost,d=t[s]||{})d.hasOwnProperty(c)&&(f=u+d[c],p=o[c],(void 0===o[c]||p>f)&&(o[c]=f,l.push(c,f),i[c]=s));if(void 0!==n&&void 0===o[n]){var h=["Could not find a path from ",e," to ",n,"."].join("");throw new Error(h)}return i},extract_shortest_path_from_predecessor_list:function(t,e){for(var n=[],r=e;r;)n.push(r),t[r],r=t[r];return n.reverse(),n},find_path:function(t,e,n){var i=r.single_source_shortest_paths(t,e,n);return r.extract_shortest_path_from_predecessor_list(i,n)},PriorityQueue:{make:function(t){var e,n=r.PriorityQueue,i={};for(e in t=t||{},n)n.hasOwnProperty(e)&&(i[e]=n[e]);return i.queue=[],i.sorter=t.sorter||n.default_sorter,i},default_sorter:function(t,e){return t.cost-e.cost},push:function(t,e){var n={value:t,cost:e};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};t.exports=r},function(t,e,n){var r=n(18);e.render=function(t,e,n){var i=n,o=e;void 0!==i||e&&e.getContext||(i=e,e=void 0),e||(o=function(){try{return document.createElement("canvas")}catch(t){throw new Error("You need to specify a canvas element")}}()),i=r.getOptions(i);var a=r.getImageWidth(t.modules.size,i),s=o.getContext("2d"),c=s.createImageData(a,a);return r.qrToImageData(c.data,t,i),function(t,e,n){t.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=n,e.width=n,e.style.height=n+"px",e.style.width=n+"px"}(s,o,a),s.putImageData(c,0,0),o},e.renderToDataURL=function(t,n,r){var i=r;void 0!==i||n&&n.getContext||(i=n,n=void 0),i||(i={});var o=e.render(t,n,i),a=i.type||"image/png",s=i.rendererOpts||{};return o.toDataURL(a,s.quality)}},function(t,e,n){var r=n(18);function i(t,e){var n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function o(t,e,n){var r=t+e;return void 0!==n&&(r+=" "+n),r}e.render=function(t,e,n){var a=r.getOptions(e),s=t.modules.size,c=t.modules.data,u=s+2*a.margin,d=a.color.light.a?"<path "+i(a.color.light,"fill")+' d="M0 0h'+u+"v"+u+'H0z"/>':"",f="<path "+i(a.color.dark,"stroke")+' d="'+function(t,e,n){for(var r="",i=0,a=!1,s=0,c=0;c<t.length;c++){var u=Math.floor(c%e),d=Math.floor(c/e);u||a||(a=!0),t[c]?(s++,c>0&&u>0&&t[c-1]||(r+=a?o("M",u+n,.5+d+n):o("m",i,0),i=0,a=!1),u+1<e&&t[c+1]||(r+=o("h",s),s=0)):i++}return r}(c,s,a.margin)+'"/>',p='viewBox="0 0 '+u+" "+u+'"',l='<svg xmlns="http://www.w3.org/2000/svg" '+(a.width?'width="'+a.width+'" height="'+a.width+'" ':"")+p+' shape-rendering="crispEdges">'+d+f+"</svg>\n";return"function"==typeof n&&n(null,l),l}}])})),me=kt(_e);!function(t){t.CODE_IS_READY="CODE_IS_READY",t.USER_HAS_SCANNED="USER_HAS_SCANNED",t.CODE_WAS_EXPIRED="CODE_WAS_EXPIRED",t.LOGIN_SUCCESS="LOGIN_SUCCESS",t.ERROR="ERROR"}(ge||(ge={}));var we,be=function(){function t(t){this.loginDomainService=t,this.isExpired=!1}return t.prototype.login=function(t){var e=this;return this.runLoginProcess(t),{dispose:function(){return e.dispose()}}},t.prototype.dispose=function(){this.qrTimer&&clearTimeout(this.qrTimer),this.pollingTimer&&clearTimeout(this.pollingTimer),this.isExpired=!0},t.prototype.runLoginProcess=function(t){return tt(this,void 0,void 0,(function(){var e;return et(this,(function(n){switch(n.label){case 0:return[4,this.getWechatLoginQRcode(t)];case 1:return(e=n.sent())?(this.isExpired=!1,this.runPolling(e,t),this.runQRTimer(t),[2]):[2]}}))}))},t.prototype.getWechatLoginQRcode=function(t){return tt(this,void 0,void 0,(function(){var e,n,r;return et(this,(function(i){switch(i.label){case 0:return[4,this.loginDomainService.loginAggregate.loginRepository.getWeChatLogInQRCodeURI()];case 1:return 0!==(null===(e=i.sent().resData)||void 0===e?void 0:e.retcode)?[3,3]:(n=e.data.checkKey,[4,this.getQRcode(n,t)]);case 2:return r=i.sent(),t(ge.CODE_IS_READY,{qrCodeImage:r}),[2,e.data.checkKey];case 3:return t(ge.ERROR,{errorQrQQLoginStatus:ge.CODE_IS_READY}),[2,""]}}))}))},t.prototype.getQRcode=function(t,e){return new Promise((function(n){me.make("https://".concat(vt,"/scenario/qr-h5login.html?key=").concat(t)).then((function(t){return n(t)})).catch((function(){e(ge.ERROR,{errorQrQQLoginStatus:ge.CODE_IS_READY})}))}))},t.prototype.runPolling=function(t,e){var n=this;this.isExpired||(this.pollingTimer=setTimeout((function(){return tt(n,void 0,void 0,(function(){var n,r,i,o,a;return et(this,(function(s){switch(s.label){case 0:return[4,this.loginDomainService.loginAggregate.loginRepository.updateEnterpriseWeChatLoginQRCodeStatus(t)];case 1:return 0!==(null===(n=s.sent().resData)||void 0===n?void 0:n.retcode)?(e(ge.ERROR,{errorQrQQLoginStatus:ge.USER_HAS_SCANNED}),clearTimeout(this.qrTimer),clearTimeout(this.pollingTimer),[2]):(r=null!==(a=null===(o=null===n||void 0===n?void 0:n.data)||void 0===o?void 0:o.status)&&void 0!==a?a:{},i=r.loginScanFlag,r.login?(e(ge.LOGIN_SUCCESS,{changeKey:t}),clearTimeout(this.qrTimer),clearTimeout(this.pollingTimer),[2]):(i&&e(ge.USER_HAS_SCANNED),clearTimeout(this.pollingTimer),this.runPolling(t,e),[2]))}}))}))}),1e3))},t.prototype.runQRTimer=function(t){var e=this;this.qrTimer=setTimeout((function(){t(ge.CODE_WAS_EXPIRED),e.isExpired=!0,clearTimeout(e.qrTimer)}),58e3)},t=J([X(0,h.C),Z("design:paramtypes",[Object])],t)}();!function(t){t.UPDATE_USER_INDEX="account:update-user-index",t.DELETE_USER_INDEX="account:delete-user-index",t.SWITCH_USER_INDEX="account:switch-user-index"}(we||(we={}));var Ie,Ee=function(t,e){return"https://xui.ptlogin2.qq.com/cgi-bin/xlogin?theme=4&appid=1600000931&pt_no_auth=1&daid=536&link_target=blank&target=self&hide_close_icon=1&style=20&low_login_enable=".concat(t?1:0,"&low_login_foreced=1&low_login_hour=720&hide_border=1&s_url=").concat(encodeURIComponent(e),"&pt_isdocs=0")},Se="https://".concat(vt,"/tim/docs/components/BindQQ.html?type=login"),Ae=function(t){return Se+(t?"&autojump=1":"")};!function(t){t.IFRAME_MESSAGE_CONNECTED="IFRAME_MESSAGE_CONNECTED",t.IFRAME_DOM_MOUNTED="IFRAME_DOM_MOUNTED",t.USER_HAS_CONFIRMED="USER_HAS_CONFIRMED",t.LOGIN_SUCCESS="LOGIN_SUCCESS",t.ERROR="ERROR"}(Ie||(Ie={}));var Oe,Ce=function(){function t(t,e){this.loginDomainService=t,this.messageDomainService=e}return t.prototype.login=function(t,e){var n=this;return this.runLoginProcess(t,e),{dispose:function(){return n.disposeQQLoginIframe()}}},t.prototype.disposeQQLoginIframe=function(){this.messageDomainService.qqMessage.qqLoginMessage.dispose()},t.prototype.loadQQLoginIframe=function(t,e){var n,r;this.messageDomainService.qqMessage.qqLoginMessage.connect(),this.getLoadQQLoginIframeMessage(e),this.messageDomainService.qqMessage.qqLoginMessage.createQQLoginIframe(t.qqPtLoginIframeRenderDom,this.getQQLoginIframeSrc(null===(n=t.isCheckAutoLogin)||void 0===n||n,null!==(r=t.isJumpFromQQClient)&&void 0!==r&&r,t.isJumpFromQQClient?oe("jumpuin"):""))},t.prototype.runLoginProcess=function(t,e){return tt(this,void 0,void 0,(function(){return et(this,(function(n){switch(n.label){case 0:return this.loadQQLoginIframe(t,e),[4,this.getQQLoginSuccessMessage(e)];case 1:return n.sent(),t.disableUserInfoAutoUpdating?(e(Ie.LOGIN_SUCCESS,{}),[2]):[4,this.checkQQLogin(e)];case 2:return n.sent(),[2]}}))}))},t.prototype.getQQLoginIframeSrc=function(t,e,n){return n?"".concat(Ee(t,Ae(e)),"&jumpuin=").concat(n):Ee(t,Ae(e))},t.prototype.getLoadQQLoginIframeMessage=function(t){return tt(this,void 0,void 0,(function(){return et(this,(function(e){return this.messageDomainService.qqMessage.qqLoginMessage.getQQIframeMessage((function(){t(Ie.IFRAME_DOM_MOUNTED)})),[2]}))}))},t.prototype.getQQLoginSuccessMessage=function(t){return tt(this,void 0,void 0,(function(){var e=this;return et(this,(function(n){return[2,new Promise((function(n){e.messageDomainService.qqMessage.qqLoginMessage.getQQLoginSuccessMessage((function(){t(Ie.USER_HAS_CONFIRMED),n(!0)}))}))]}))}))},t.prototype.checkQQLogin=function(t){var e,n;return tt(this,void 0,void 0,(function(){var r;return et(this,(function(i){switch(i.label){case 0:return[4,this.loginDomainService.loginAggregate.loginRepository.checkQQLogin()];case 1:return(null===(r=i.sent().resData)||void 0===r?void 0:r.data.userIndex)?(t(Ie.LOGIN_SUCCESS,{userIndex:null===r||void 0===r?void 0:r.data.userIndex}),null===(n=null===(e=navigator.serviceWorker)||void 0===e?void 0:e.controller)||void 0===n||n.postMessage({type:we.SWITCH_USER_INDEX,data:{userIndex:r.data.userIndex,url:location.href}}),[2]):(t(Ie.ERROR,{errorQrQQLoginStatus:Ie.LOGIN_SUCCESS}),[2])}}))}))},t=J([X(0,h.C),X(1,l.x),Z("design:paramtypes",[Object,Object])],t)}(),xe=function(){function t(t,e){this.messageDomainService=t,this.loginDomainService=e,this.isExpired=!1}return t.prototype.login=function(t){var e=this;return this.runLoginProcess(t),{dispose:function(){return e.dispose()}}},t.prototype.dispose=function(){this.qrTimer&&clearTimeout(this.qrTimer),this.pollingTimer&&clearTimeout(this.pollingTimer),this.isExpired=!0},t.prototype.runLoginProcess=function(t){return tt(this,void 0,void 0,(function(){var e;return et(this,(function(n){switch(n.label){case 0:return[4,this.getWechatLoginQRcode(t)];case 1:return(e=n.sent())?(this.isExpired=!1,this.runPolling(e,t),this.runQRTimer(t),[2]):[2]}}))}))},t.prototype.getWechatLoginQRcode=function(t){return tt(this,void 0,void 0,(function(){var e;return et(this,(function(n){switch(n.label){case 0:return[4,this.loginDomainService.loginAggregate.loginRepository.getWeChatLogInQRCodeURI()];case 1:return 0===(null===(e=n.sent().resData)||void 0===e?void 0:e.retcode)?(t(ge.CODE_IS_READY,{qrCodeImage:"data:image/png;base64,".concat(e.data.img)}),[2,e.data.checkKey]):(t(ge.ERROR,{errorQrQQLoginStatus:ge.CODE_IS_READY}),[2,""])}}))}))},t.prototype.runPolling=function(t,e){var n=this;this.isExpired||(this.pollingTimer=setTimeout((function(){return tt(n,void 0,void 0,(function(){var n,r,i,o,a,s,c;return et(this,(function(u){switch(u.label){case 0:return[4,this.loginDomainService.loginAggregate.loginRepository.updateWeChatLoginQRCodeStatus(t)];case 1:return 0!==(null===(n=u.sent().resData)||void 0===n?void 0:n.retcode)?(e(ge.ERROR,{errorQrQQLoginStatus:ge.USER_HAS_SCANNED}),clearTimeout(this.qrTimer),clearTimeout(this.pollingTimer),[2]):(r=null!==(a=null===(o=null===n||void 0===n?void 0:n.data)||void 0===o?void 0:o.status)&&void 0!==a?a:{},i=r.loginScanFlag,r.login?(e(ge.LOGIN_SUCCESS,{userIndex:n.data.userIndex}),clearTimeout(this.qrTimer),clearTimeout(this.pollingTimer),null===(c=null===(s=navigator.serviceWorker)||void 0===s?void 0:s.controller)||void 0===c||c.postMessage({type:we.SWITCH_USER_INDEX,data:{userIndex:n.data.userIndex,url:location.href}}),[2]):(i&&e(ge.USER_HAS_SCANNED),clearTimeout(this.pollingTimer),this.runPolling(t,e),[2]))}}))}))}),1e3))},t.prototype.runQRTimer=function(t){var e=this;this.qrTimer=setTimeout((function(){t(ge.CODE_WAS_EXPIRED),e.isExpired=!0,clearTimeout(e.qrTimer)}),58e3)},t=J([X(0,l.x),X(1,h.C),Z("design:paramtypes",[Object,Object])],t)}();!function(t){t.IFRAME_MESSAGE_CONNECTED="IFRAME_MESSAGE_CONNECTED",t.IFRAME_DOM_MOUNTED="IFRAME_DOM_MOUNTED",t.USER_HAS_CONFIRMED="USER_HAS_CONFIRMED",t.GOT_CHANGE_KEY="GOT_CHANGE_KEY",t.LOGIN_SUCCESS="LOGIN_SUCCESS",t.ERROR="ERROR"}(Oe||(Oe={}));var Re=function(){function t(t){this.messageDomainService=t}return t.prototype.login=function(t,e){var n=this;return this.loadWeworkLoginIframe(t.weworkLoginIframeRenderDom,t.targetUrl),this.getWeworkLoginSuccessMessage(e),{dispose:function(){return n.dispose()}}},t.prototype.loadWeworkLoginIframe=function(t,e){var n;this.messageDomainService.weworkMessage.weworkLoginMessage.connect("enterprise"),this.messageDomainService.weworkMessage.weworkLoginMessage.createWeworkLoginIframe(t,(n=e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),"https://".concat(vt,"/components/feature/WeworkLogin.html?redirect_uri=").concat(encodeURIComponent(n))))},t.prototype.dispose=function(){this.messageDomainService.weworkMessage.weworkLoginMessage.dispose()},t.prototype.getWeworkLoginSuccessMessage=function(t){return tt(this,void 0,void 0,(function(){var e=this;return et(this,(function(n){return[2,new Promise((function(n){e.messageDomainService.weworkMessage.weworkLoginMessage.getWeworkLoginSuccessMessage((function(e){var r,i,o=e.data;t(Oe.LOGIN_SUCCESS,{userIndex:o.slice(o.indexOf("u=")+2)}),null===(i=null===(r=navigator.serviceWorker)||void 0===r?void 0:r.controller)||void 0===i||i.postMessage({type:we.SWITCH_USER_INDEX,data:{userIndex:o.slice(o.indexOf("u=")+2),url:location.href}}),n(o)}))}))]}))}))},t=J([X(0,l.x),Z("design:paramtypes",[Object])],t)}(),Me=function(){function t(t,e){this.loginDomainService=t,this.messageDomainService=e}return t.prototype.qrQQLogin=function(t,e){return new Ce(this.loginDomainService,this.messageDomainService).login(t,e)},t.prototype.qrWechatLogin=function(t){return new xe(this.messageDomainService,this.loginDomainService).login(t)},t.prototype.enterpriseQrWechatLogin=function(t){return new be(this.loginDomainService).login(t)},t.prototype.qrWecomLogin=function(t,e){return new Re(this.messageDomainService).login(t,e)},t=J([X(0,h.C),X(1,l.x),Z("design:paramtypes",[Object,Object])],t)}(),De="#",Pe="?",Te="&";function ke(t,e){var n,r=t.split(Pe),i=null===(n=r[1])||void 0===n?void 0:n.split(Te);if(!i)return t;var o=i;return e.forEach((function(t){i.forEach((function(e){if(0===e.indexOf("".concat(t,"="))){var n=o.indexOf(e);o.splice(n,1)}}))})),0===o.length?r[0]:(r[1]=o.join(Te),r.join(Pe))}function Le(t,e){if(t.includes(Pe)){var n=t;return Object.keys(e).map((function(t){n=function(t,e,n){var r=t.split(Pe),i=r[1].split(Te),o=!0,a=new Map;i.forEach((function(t){var e=t.split("=");a.set(e[0],e[1])})),i.some((function(t){0===t.indexOf("".concat(e,"="))&&(a.set(e,n),o=!1)})),o&&a.set(e,n);var s=[];return a.forEach((function(t,e){var n="".concat(e,"=").concat(t);s.push(n)})),r[1]=s.join(Te),r.join(Pe)}(n,t,e[t])})),n}var r=Object.keys(e).map((function(t){return"".concat(t,"=").concat(e[t])})).join(Te);return"".concat(t,"?").concat(r)}function Ne(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=t.split(Pe);if(r.length<2||e.length<1)return t;if(t.includes(De)){var i=t.split(De);return i[0]=ke(i[0],e),i.join(De)}return ke(t,e)}function Ue(t,e){if(Object.keys(e).length<1)return t;if(t.includes(De)){var n=t.split(De);return n[0]=Le(n[0],e),n.join(De)}return Le(t,e)}var je,Fe=It,qe=function(){function t(){}return t.prototype.loginSuccessJumpUrl=function(t,e){var n;if(e){var r=St.test(t)?Fe:t,i=window.btoa(r).replace(/\+/g,"-").replace(/\//g,"_"),o="".concat(At,"?check_key=").concat(Zt("CheckKey"),"&redirect_url=").concat(encodeURIComponent(i));(0,Q.tencentDocOpenUrlForAll)({replace:!0,url:o,noUserIndex:!0})}else{var a=Ue(Ne(t,"autoshowlogin","u","jumpuin"),((n={})._t=(new Date).getTime(),n));(0,Q.tencentDocOpenUrlForAll)({replace:!0,url:a})}},t.prototype.logoutSuccessJumpUrl=function(){var t=Ne(window.location.href,"u"),e=Ue(Ne(t,"needShowTips"),{needShowTips:1});(0,Q.tencentDocOpenUrlForAll)({replace:!0,url:e,noUserIndex:!0})},t}(),Be=jt.isPC||jt.isIPad&&!(jt.isMiniProgram||jt.isTencentDocsApp||jt.isWeChat||jt.isQQ||jt.isTim||jt.isWxWork),Qe=function(){function t(t){this.loginDomainService=t}return t.prototype.login=function(t,e,n){document.location.pathname.indexOf("/desktop")>-1?this.desktopLogin(t,e):this.docLogin(t,e,n)},t.prototype.docLogin=function(t,e,n){var r=this.loginDomainService.loginAggregate;jt.isMiniProgram?r.loginDocsInMiniProgram(t):jt.isWeChat?n():jt.isWxWork?r.loginDocsInWework(t):(jt.isTimOrQQ&&r.timOrQQH5Login(),Be?e():r.jumpToLoginInCommonView(t))},t.prototype.desktopLogin=function(t,e){var n=this.loginDomainService.loginAggregate;jt.isMiniProgram?n.reloadMiniProgramForDesktop():jt.isWeChat?n.jumpToLoginInWechatWebview(t):jt.isWxWork?n.jumpToLoginInWeworkWebview(t):Be?e():n.jumpToLoginInCommonView(t)},t=J([X(0,h.C),Z("design:paramtypes",[Object])],t)}();!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.QQ=1]="QQ",t[t.WX=2]="WX",t[t.WORK=3]="WORK",t[t.EMAIL=4]="EMAIL",t[t.PHONE=8]="PHONE",t[t.WORK_COMBINATION=9]="WORK_COMBINATION",t[t.TOWER=10]="TOWER",t[t.ROBOT=11]="ROBOT",t[t.QFYF=12]="QFYF",t[t.OPEN=13]="OPEN",t[t.MEETING=14]="MEETING"}(je||(je={}));var We=function(){Xt("p_uin","/",mt),Xt("p_skey","/",mt),Xt("p_luin","/",mt),Xt("p_lskey","/",mt),Xt("p_uin","/",_t),Xt("p_skey","/",_t),Xt("p_luin","/",_t),Xt("p_lskey","/",_t),Xt("txdoc_pwd_token","/",mt)},He=function(){function t(t){this.accountDomainService=t}return t.prototype.logout=function(){return tt(this,void 0,void 0,(function(){return et(this,(function(t){switch(t.label){case 0:return this.accountDomainService.accountAggregate.userInfo.loginType!==je.WORK?[3,2]:[4,this.logoutForEnterpriseAccount()];case 1:case 3:return[2,t.sent()];case 2:return[4,this.logoutForPersonAccount()]}}))}))},t.prototype.getLogoutMessage=function(t){H().setCallback((function(){t()}))},t.prototype.logoutForEnterpriseAccount=function(){var t,e;return tt(this,void 0,void 0,(function(){var n,r,i,o;return et(this,(function(a){switch(a.label){case 0:return n=this.accountDomainService.accountAggregate.userInfo,r=n.tinyId,i=n.nowUserIndex,[4,this.accountDomainService.accountAggregate.accountRepository.wecomLogoutForCDomain(r)];case 1:return 0!==(null===(o=a.sent().resData)||void 0===o?void 0:o.retcode)?[3,3]:(H().postMessage({type:"logout",data:i,needCookie:!0}),[4,this.accountDomainService.accountAggregate.accountRepository.wecomLogoutForBDomain(r)]);case 2:return a.sent(),null===(e=null===(t=navigator.serviceWorker)||void 0===t?void 0:t.controller)||void 0===e||e.postMessage({type:we.DELETE_USER_INDEX,data:{userIndex:i}}),[2,!0];case 3:return[2,!1]}}))}))},t.prototype.logoutForPersonAccount=function(){var t,e;return tt(this,void 0,void 0,(function(){var n,r;return et(this,(function(i){switch(i.label){case 0:return n=this.accountDomainService.accountAggregate.userInfo.nowUserIndex,[4,this.accountDomainService.accountAggregate.accountRepository.logout()];case 1:return 0===(null===(r=i.sent().resData)||void 0===r?void 0:r.retcode)?(H().postMessage({type:"logout",data:n,needCookie:!0}),null===(e=null===(t=navigator.serviceWorker)||void 0===t?void 0:t.controller)||void 0===e||e.postMessage({type:we.DELETE_USER_INDEX,data:{userIndex:n}}),We(),[2,!0]):[2,!1]}}))}))},t=J([X(0,p.b),Z("design:paramtypes",[Object])],t)}(),Ve=function(){function t(t,e){this.accountDomainService=t,this.messageDomainService=e}return t.prototype.switchAccount=function(t){return tt(this,void 0,void 0,(function(){var e,n,r;return et(this,(function(i){switch(i.label){case 0:return e=t.cookie,n=t.userIndex,e?[4,this.switchEnterpriseAccount(t)]:(this.switchFetchAccount(n),[2]);case 1:return i.sent(),"ww"===e.uType&&document.location.pathname.indexOf("/desktop")>-1?(window.location.replace(It),[2]):(r="".concat(Et).concat(encodeURIComponent(this.getNewJumpUrl())),We(),(0,Q.tencentDocOpenUrlForAll)({url:r,replace:!0,noUserIndex:!0}),[2])}}))}))},t.prototype.switchFetchAccount=function(t){var e,n;null===(n=null===(e=navigator.serviceWorker)||void 0===e?void 0:e.controller)||void 0===n||n.postMessage({type:we.SWITCH_USER_INDEX,data:{userIndex:t,url:location.href}}),We(),(0,Q.tencentDocOpenUrlForAll)({url:this.getNewJumpUrl(t),replace:!0,noUserIndex:!0})},t.prototype.switchEnterpriseAccount=function(t){return tt(this,void 0,void 0,(function(){var e,n=this;return et(this,(function(r){switch(r.label){case 0:return(e=t.cookie)?(this.messageDomainService.switchEnterpriseAccountMessage.connect(),this.getIframeMountMessage(e),this.messageDomainService.switchEnterpriseAccountMessage.createSwitchEnterpriseAccount((function(){n.messageDomainService.switchEnterpriseAccountMessage.sendSwitchAccountMessage(e)})),[4,this.getSwitchAccountMessage()]):[2,!1];case 1:return r.sent()?[2]:[2,!1]}}))}))},t.prototype.getNewJumpUrl=function(t){var e=location.pathname,n=location.hostname,r=location.search;if(""===(r=Ne(r.replace(/&$/gi,""),"hst"))&&t)return"https://".concat(n).concat(e,"?u=").concat(t);if(""===r)return"https://".concat(n).concat(e);var i=r.replace(/(&)*u=([\d\w]+)(\/|\?|#|&|$)/,"");return t?"https://".concat(n).concat(e).concat(i,"&u=").concat(t):"https://".concat(n).concat(e).concat(i)},t.prototype.getIframeMountMessage=function(t){var e=this;return new Promise((function(n){e.messageDomainService.switchEnterpriseAccountMessage.getIframeMountMessage((function(){n(!0),e.messageDomainService.switchEnterpriseAccountMessage.sendSwitchAccountMessage(t)}))}))},t.prototype.getSwitchAccountMessage=function(){var t=this;return new Promise((function(e){t.messageDomainService.switchEnterpriseAccountMessage.getSwitchAccountMessage((function(){e(!0)}))}))},t=J([X(0,p.b),X(1,l.x),Z("design:paramtypes",[Object,Object])],t)}(),Ge=function t(e,n){var r,i;if(Array.isArray(e))return e.map((function(e){return t(e,n)}));if(!e)return e;var o={};try{for(var a=nt(Object.keys(e)),s=a.next();!s.done;s=a.next()){var c=s.value;o[n.words.includes(c)?n.raw[c]:c]=e[c]}}catch(u){r={error:u}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return o},$e=function(t){return function(e){return Ge(e,t)}},Ke=$e(Gt),Ye=function(t){function e(e,n,r){var i,o=this;(o=t.call(this)||this).accountDomainService=e,o.loginDomainService=n,o.messageDomainService=r,o.accountApplicationOfflineService=new ce,o.isInitFinish=o.accountDomainService.createPersonalEnvAccountAggregateByBasicClientVars(null===(i=null===globalThis||void 0===globalThis?void 0:globalThis.basicClientVars)||void 0===i?void 0:i.userInfo);var a=o.accountDomainService.accountAggregate.userInfo.tinyId;return o.loginDomainService.createLoginAggregate(a),o.initDomainService(),o.accountListApplicationService=new de(e,r),o.dcLoginApplicationService=new Me(n,r),o}return Y(e,t),e.prototype.updatePasswordsSettings=function(){return tt(this,void 0,void 0,(function(){var t;return et(this,(function(e){switch(e.label){case 0:return[4,(t=this.accountDomainService.accountAggregate).passwordEntity.updatePwdTips()];case 1:return e.sent(),[2,{enabled:t.passwordEntity.isHasPassword,phoneNumber:t.passwordEntity.phone}]}}))}))},e.prototype.updateVipInfo=function(){return tt(this,void 0,void 0,(function(){var t,e,n,r,i;return et(this,(function(o){switch(o.label){case 0:return[4,this.completionUserInfo()];case 1:return o.sent(),t=this.accountDomainService.accountAggregate,e=t.vipInfo,n=t.userInfo,r=t.bindUserInfo,i=t.officialInfo,this.accountApplicationOfflineService.updateUserInfo(z(z({},n),{vipUserInfo:e,bindUserInfo:r,officialInfo:i})),[2,e]}}))}))},e.prototype.updateBindUserInfo=function(){return tt(this,void 0,void 0,(function(){var t,e,n,r,i;return et(this,(function(o){switch(o.label){case 0:return[4,this.completionUserInfo()];case 1:return o.sent(),t=this.accountDomainService.accountAggregate,e=t.vipInfo,n=t.userInfo,r=t.bindUserInfo,i=t.officialInfo,this.accountApplicationOfflineService.updateUserInfo(z(z({},n),{vipUserInfo:e,bindUserInfo:r,officialInfo:i})),[2,r]}}))}))},e.prototype.updateOfficialInfo=function(){return tt(this,void 0,void 0,(function(){var t,e,n,r,i;return et(this,(function(o){switch(o.label){case 0:return[4,this.completionUserInfo()];case 1:return o.sent(),t=this.accountDomainService.accountAggregate,e=t.vipInfo,n=t.userInfo,r=t.bindUserInfo,i=t.officialInfo,this.accountApplicationOfflineService.updateUserInfo(z(z({},n),{vipUserInfo:e,bindUserInfo:r,officialInfo:i})),[2,i]}}))}))},e.prototype.updateUserInfo=function(t){return tt(this,void 0,void 0,(function(){var e;return et(this,(function(n){switch(n.label){case 0:return[4,this.accountDomainService.updatePersonalEnvAccountAggregate(t)];case 1:return n.sent(),e=this.accountDomainService.accountAggregate.userInfo.tinyId,this.loginDomainService.createLoginAggregate(e),this.initDomainService(),[2,this.accountDomainService.accountAggregate.userInfo]}}))}))},e.prototype.init=function(){return tt(this,void 0,void 0,(function(){return et(this,(function(t){switch(t.label){case 0:return this.isInitFinish?[2,!0]:[4,this.initForUserInfoFetch()];case 1:return t.sent()?[2,!0]:[4,this.initForUserInfoOfflineData()];case 2:return[2,t.sent()]}}))}))},e.prototype.dispose=function(){},e.prototype.getPasswordsModifyQuestionList=function(){return tt(this,void 0,void 0,(function(){var t;return et(this,(function(e){switch(e.label){case 0:return[4,(t=this.accountDomainService.accountAggregate).passwordEntity.updatePwdQuestionList()];case 1:return e.sent(),[2,t.passwordEntity.pwdQuestionList]}}))}))},e.prototype.getAccountProfileList=function(){return tt(this,void 0,void 0,(function(){var t;return et(this,(function(e){switch(e.label){case 0:return[4,this.accountListApplicationService.getPersonalAccountList()];case 1:return t=e.sent(),[2,Ke(t)]}}))}))},e.prototype.completionUserInfo=function(){return tt(this,void 0,void 0,(function(){var t;return et(this,(function(e){switch(e.label){case 0:return[4,this.accountDomainService.completionUserInfo()];case 1:return t=e.sent(),this.vipInfo=this.accountDomainService.accountAggregate.vipInfo,this.bindUserInfo=this.accountDomainService.accountAggregate.bindUserInfo,this.officialInfo=this.accountDomainService.accountAggregate.officialInfo,[2,t]}}))}))},e.prototype.loginSuccessJumpUrl=function(t,e){(new qe).loginSuccessJumpUrl(t,e)},e.prototype.logoutSuccessJumpUrl=function(){(new qe).logoutSuccessJumpUrl()},e.prototype.login=function(t,e,n){new Qe(this.loginDomainService).login(t,e,n)},e.prototype.logout=function(){return tt(this,void 0,void 0,(function(){return et(this,(function(t){switch(t.label){case 0:return[4,new He(this.accountDomainService).logout()];case 1:return[2,t.sent()]}}))}))},e.prototype.deleteAccount=function(t){return tt(this,void 0,void 0,(function(){return et(this,(function(e){switch(e.label){case 0:return[4,this.accountListApplicationService.deleteAccountForList(t)];case 1:return[2,e.sent()]}}))}))},e.prototype.switchToAccount=function(t){return tt(this,void 0,void 0,(function(){return et(this,(function(e){switch(e.label){case 0:return[4,new Ve(this.accountDomainService,this.messageDomainService).switchAccount(t)];case 1:return e.sent(),[2]}}))}))},e.prototype.bindQQAccount=function(t){return new ye(this.accountDomainService,this.loginDomainService).qqBind(t)},e.prototype.getCertificationGrey=function(){return tt(this,void 0,void 0,(function(){var t;return et(this,(function(e){switch(e.label){case 0:return[4,this.accountDomainService.accountAggregate.accountRepository.getCertificationGrey()];case 1:return[2,(null===(t=e.sent().resData)||void 0===t?void 0:t.data.result.open)||!1]}}))}))},e.prototype.bindWeChatAccount=function(){return new ye(this.accountDomainService,this.loginDomainService).wechatBind()},e.prototype.getQQBindingInfo=function(){return tt(this,void 0,void 0,(function(){return et(this,(function(t){return[2,this.accountDomainService.accountAggregate.bindingQQInfo()]}))}))},e.prototype.initDomainAction=function(){var t=this.accountDomainService.accountAggregate,e=t.passwordEntity.passwordRepository;this.sendVerifyCodeSMS=e.pwdVerifyCodeGet.bind(e),this.addPasswordsWithNewPhoneNumber=e.pwdAdd.bind(e),this.resetPasswords=e.pwdReset.bind(e),this.verifyCodeSMS=e.pwdVerifyCodeCheck.bind(e),this.verifyQuestionAnswers=e.pwdQuestionCheck.bind(e),this.delPasswords=e.pwdDel.bind(e),this.verifyPasswords=e.pwdVerify.bind(e),this.unbindAccount=t.accountRepository.unbindUserInfo.bind(t.accountRepository),this.getCurrentAccountBindingInfo=t.currentLoginAccountBindInfo.bind(t)},e.prototype.initDomainService=function(){var t=this.accountDomainService.accountAggregate;this.userInfo=t.userInfo;var e=t.passwordEntity,n=e.isHasPassword,r=e.phone;this.passwordsSettings={enabled:n,phoneNumber:r},this.vipInfo=t.vipInfo,this.bindUserInfo=t.bindUserInfo,this.officialInfo=t.officialInfo,this.accountApplicationOfflineService.addUserInfo(z(z({},this.userInfo),{vipUserInfo:this.vipInfo,bindUserInfo:this.bindUserInfo})),this.initDomainAction()},e.prototype.initForUserInfoFetch=function(){return tt(this,void 0,void 0,(function(){var t,e,n,r;return et(this,(function(i){switch(i.label){case 0:return[4,this.accountDomainService.userInfoRepository.getPersonalUserInfo()];case 1:return t=i.sent(),e=t.resData,t.error?[2,!1]:(0===(null===e||void 0===e?void 0:e.cgicode)&&(n=window.nowUserIndex||"",this.accountDomainService.createPersonalEnvAccountAggregateByUserInfoCgi(e.data,n),r=this.accountDomainService.accountAggregate.userInfo.tinyId,this.loginDomainService.createLoginAggregate(r),this.initDomainService()),[2,!0])}}))}))},e.prototype.initForUserInfoOfflineData=function(){return tt(this,void 0,void 0,(function(){var t;return et(this,(function(e){switch(e.label){case 0:return[4,this.accountApplicationOfflineService.getUserInfo()];case 1:return t=e.sent(),this.accountApplicationOfflineService.setOnOfflineState(!0),t?(this.userInfo=t.userInfo,this.vipInfo=t.vipInfo,this.bindUserInfo=t.bindUserInfo,[2,!0]):[2,!1]}}))}))},J([Qt,Z("design:type",Object)],e.prototype,"userInfo",void 0),J([Qt,Z("design:type",Object)],e.prototype,"passwordsSettings",void 0),J([Qt,Z("design:type",Object)],e.prototype,"vipInfo",void 0),J([Qt,Z("design:type",Object)],e.prototype,"bindUserInfo",void 0),J([Qt,Z("design:type",Object)],e.prototype,"officialInfo",void 0),J([qt("passwordsSettings"),Z("design:type",Function),Z("design:paramtypes",[]),Z("design:returntype",Promise)],e.prototype,"updatePasswordsSettings",null),J([qt("vipInfo"),Z("design:type",Function),Z("design:paramtypes",[]),Z("design:returntype",Promise)],e.prototype,"updateVipInfo",null),J([qt("bindUserInfo"),Z("design:type",Function),Z("design:paramtypes",[]),Z("design:returntype",Promise)],e.prototype,"updateBindUserInfo",null),J([qt("officialInfo"),Z("design:type",Function),Z("design:paramtypes",[]),Z("design:returntype",Promise)],e.prototype,"updateOfficialInfo",null),J([qt("userInfo"),Z("design:type",Function),Z("design:paramtypes",[String]),Z("design:returntype",Promise)],e.prototype,"updateUserInfo",null),J([st(),Z("design:type",Function),Z("design:paramtypes",[]),Z("design:returntype",Promise)],e.prototype,"init",null),J([ct("init"),Z("design:type",Function),Z("design:paramtypes",[]),Z("design:returntype",void 0)],e.prototype,"dispose",null),e=J([Ht(),X(0,p.b),X(1,h.C),X(2,l.x),Z("design:paramtypes",[Object,Object,Object])],e)}(i.Disposable),ze=function(){function t(){this.mockObject={}}return Object.defineProperty(t.prototype,"length",{get:function(){return Object.keys(this.mockObject).length},enumerable:!1,configurable:!0}),t.prototype.setItem=function(t,e){this.mockObject[t]=e},t.prototype.getItem=function(t){return $t(this.mockObject,t)?this.mockObject[t]:null},t.prototype.removeItem=function(t){delete this.mockObject[t]},t.prototype.clear=function(){this.mockObject={}},t}(),Je=ze,Xe="localStorage";function Ze(t,e){$t(re,Xe)?localStorage.setItem(t,e):(re.localStorage=new Je,re.localStorage.setItem(t,e))}function tn(t){return $t(re,Xe)?localStorage.getItem(t):null}var en,nn,rn,on=function(){function t(t,e){this.messageDomainService=t,this.accountDomainService=e}return t.prototype.getAccountList=function(){return tt(this,void 0,void 0,(function(){var t;return et(this,(function(e){switch(e.label){case 0:return this.enterpriseAccountList=this.getEnterpriseAccountList(),t=this,[4,this.getPersonAccount()];case 1:return t.personAccountList=e.sent(),[2,this.mergeAccountList(this.enterpriseAccountList,this.personAccountList)]}}))}))},t.prototype.deleteAccountForList=function(t){return tt(this,void 0,void 0,(function(){var e,n,r,i,o;return et(this,(function(a){switch(a.label){case 0:return e=t.uid,n=!0,r=!0,i=this.isHasSameTinyID(this.personAccountList,e),o=this.isHasSameTinyID(this.enterpriseAccountList,e),i?[4,this.deletePersonAccountList(t)]:[3,2];case 1:n=a.sent(),a.label=2;case 2:return o&&(r=this.deleteEnterpriseAccountList(t)),[2,this.changeDeleteAccountState(n,r)]}}))}))},t.prototype.addAccountForList=function(){var t=this.tryJSONParse(tn("b-logined-account-list"),[]);if(Zt("low_login_enable")){var e=this.accountDomainService.accountAggregate.userInfo,n={fromDomain:"B_DOMAIN",nick:e.userName,avatar:e.userPic,uType:Zt("utype"),utype:Zt("utype"),uid_key:Zt("uid_key"),uid:Zt("uid"),cookie:{uid:Zt("uid"),uidKey:Zt("uid_key"),uType:Zt("utype"),wedriveSid:Zt("wedrive_sid"),wedriveSkey:Zt("wedrive_skey"),wedriveTicket:Zt("wedrive_ticket"),wedriveUin:Zt("wedrive_uin")}},r=t.filter((function(t){var e,n,r;return t.uid!==Zt("uid")&&(null===(e=t.cookie)||void 0===e?void 0:e.wedriveSid)&&(null===(n=t.cookie)||void 0===n?void 0:n.wedriveSkey)&&(null===(r=t.cookie)||void 0===r?void 0:r.wedriveTicket)}));r.unshift(n),Ze("b-logined-account-list",JSON.stringify(r))}},t.prototype.dispose=function(){this.messageDomainService.getPersonAccountListMessage.dispose()},t.prototype.deletePersonAccountList=function(t){return tt(this,void 0,void 0,(function(){var e;return et(this,(function(n){switch(n.label){case 0:return(e=t.userIndex)?(this.messageDomainService.getPersonAccountListMessage.sendDeleteAccountMessage(e),[4,this.getDeleteAccountMessage()]):[2,!1];case 1:return[2,n.sent()]}}))}))},t.prototype.getDeleteAccountMessage=function(){var t=this;return new Promise((function(e){t.messageDomainService.getPersonAccountListMessage.getDeleteAccountMessage((function(){e(!0)}))}))},t.prototype.deleteEnterpriseAccountList=function(t){var e=t.uid,n=this.tryJSONParse(tn("b-logined-account-list"),[]);return n=n.filter((function(t){return t.uid!==(e||Zt("uid"))})),Ze("b-logined-account-list",JSON.stringify(n)),!0},t.prototype.getEnterpriseAccountList=function(){return this.tryJSONParse(tn("b-logined-account-list"),[])},t.prototype.changeDeleteAccountState=function(t,e){return t&&e?ae.SUCCESS:t?ae.MAIN_SUCCESS_SECOND_FAIL:e?ae.MAIN_FAIL_SECOND_SUCCESS:ae.FAIL},t.prototype.mergeAccountList=function(t,e){var n=this;return e.reduce((function(t,e){return n.isHasSameTinyID(t,e.uid)?t:it(it([],rt(t),!1),[e],!1)}),t)},t.prototype.isHasSameTinyID=function(t,e){return t.some((function(t){return t.uid===e}))},t.prototype.getPersonAccount=function(){return tt(this,void 0,void 0,(function(){return et(this,(function(t){switch(t.label){case 0:return this.messageDomainService.getPersonAccountListMessage.connect(),this.getIframeMountMessage(),this.messageDomainService.getPersonAccountListMessage.createGetAccountListIframe(),[4,this.getAccountListMessage()];case 1:return[2,t.sent()]}}))}))},t.prototype.getIframeMountMessage=function(){var t=this;return new Promise((function(e){t.messageDomainService.getPersonAccountListMessage.getIframeMountMessage((function(){e(!0),t.messageDomainService.getPersonAccountListMessage.sendAccountListMessage()}))}))},t.prototype.getAccountListMessage=function(){var t=this;return new Promise((function(e){t.messageDomainService.getPersonAccountListMessage.getAccountListMessage((function(t){var n=t.data.userList;e(n)}))}))},t.prototype.tryJSONParse=function(t,e){if(!t)return e;try{return JSON.parse(t)||e}catch(n){return e}},t=J([X(0,l.x),X(1,g.b),Z("design:paramtypes",[Object,Object])],t)}(),an=function(){function t(){}return t.prototype.loginSuccessJumpUrl=function(t,e){var n=this.getHomeJumpUrl(t)||this.getMailJumpUrl(t);if(n){var r=window.btoa(n).replace(/\+/g,"-").replace(/\//g,"_"),i="".concat(xt,"?check_key=").concat(e,"&redirect_url=").concat(encodeURIComponent(r));(0,Q.tencentDocOpenUrlForAll)({replace:!0,url:i,noUserIndex:!0})}else(0,Q.tencentDocOpenUrlForAll)({replace:!0,url:t,noUserIndex:!0})},t.prototype.logoutSuccessJumpUrl=function(){var t=Ne(window.location.href,"u","wwapp_deviceid","wwapp_vid","wwapp_cst","needShowTips");window.location.pathname.indexOf("home/recent")>-1?window.location.replace("".concat(Rt,"?success_jump_url=").concat(encodeURIComponent(Ot))):window.location.replace(t)},t.prototype.getHomeJumpUrl=function(t){return Mt.test(t)?Ot:""},t.prototype.getMailJumpUrl=function(t){return Dt.test(t)?Pt:""},t}(),sn=function(){function t(t){this.accountDomainService=t}return t.prototype.logout=function(){return tt(this,void 0,void 0,(function(){var t,e,n;return et(this,(function(r){switch(r.label){case 0:return t=this.accountDomainService.accountAggregate.userInfo,e=t.loginType,n=t.tinyId,e!==je.WORK?[3,2]:[4,this.logoutForEnterpriseAccount()];case 1:r.sent(),r.label=2;case 2:return this.updateEnterpriseAccountList(),Xt("utype","/",bt),Xt("uid","/",bt),Xt("uid","/",yt),Xt("uid_key","/",bt),Xt("login_client","/",bt),Xt("CheckKey","/",bt),Xt("TOK","/",bt),Xt("ES2","/",bt),Xt("loginTime","/",bt),Xt("wedrive_uin","/",mt),Xt("wedrive_sids","/",mt),Xt("wedrive_sid","/",mt),Xt("wedrive_skey","/",mt),Xt("wedrive_ticket","/",mt),Xt("wedrive_uin","/",wt),Xt("wedrive_sids","/",wt),Xt("wedrive_sid","/",wt),Xt("wedrive_skey","/",wt),Xt("wedrive_ticket","/",wt),Xt("wedrive_uin","/",bt),Xt("wedrive_sids","/",bt),Xt("wedrive_sid","/",bt),Xt("wedrive_skey","/",bt),Xt("wedrive_ticket","/",bt),Xt("tdoc_vid","/",mt),Xt("tdoc_sid","/",mt),Xt("tdoc_skey","/",mt),Xt("tdoc_vid","/",wt),Xt("tdoc_sid","/",wt),Xt("tdoc_skey","/",wt),Xt("tdoc_vid","/",bt),Xt("tdoc_sid","/",bt),Xt("tdoc_skey","/",bt),H().postMessage({type:"logout",data:n,needCookie:!0}),[2,!0]}}))}))},t.prototype.updateEnterpriseAccountList=function(){var t=this.accountDomainService.accountAggregate.userInfo.tinyId,e=this.tryJSONParse(tn("b-logined-account-list"),[]);e=e.filter((function(e){return e.uid!==t})),Ze("b-logined-account-list",JSON.stringify(e))},t.prototype.tryJSONParse=function(t,e){if(!t)return e;try{return JSON.parse(t)||e}catch(n){return e}},t.prototype.logoutForEnterpriseAccount=function(){return tt(this,void 0,void 0,(function(){var t,e;return et(this,(function(n){switch(n.label){case 0:return t=this.accountDomainService.accountAggregate.userInfo.tinyId,[4,this.accountDomainService.accountAggregate.accountRepository.wecomLogoutForBDomain(t)];case 1:return 0!==(null===(e=n.sent().resData)||void 0===e?void 0:e.retcode)?[3,3]:[4,this.accountDomainService.accountAggregate.accountRepository.wecomLogoutForCDomain(t)];case 2:return n.sent(),[2,!0];case 3:return[2,!1]}}))}))},t=J([X(0,g.b),Z("design:paramtypes",[Object])],t)}(),cn=function(){function t(t){this.messageDomainService=t}return t.prototype.switchAccount=function(t){return tt(this,void 0,void 0,(function(){var e,n,r,i;return et(this,(function(o){switch(o.label){case 0:return(e=t.cookie)?"C_DOMAIN"!==t.fromDomain?[3,2]:[4,this.switchPersonAccount(e)]:[2,!1];case 1:return(n=o.sent())&&(r=this.isInDesktopPage()?Ot:"".concat(location.origin).concat(location.pathname),i="".concat(Ct,"?redirect_uri=").concat(r,"u=").concat(t.userIndex),window.location.href=i),[2,n];case 2:return this.setBEndTicket(e),H().postMessage({type:"switch",data:e.uid,needCookie:!0}),[2,!0]}}))}))},t.prototype.switchPersonAccount=function(t){return tt(this,void 0,void 0,(function(){var e=this;return et(this,(function(n){switch(n.label){case 0:return this.messageDomainService.switchPersonAccountMessage.connect(),this.getIframeMountMessage(t),this.messageDomainService.switchPersonAccountMessage.createSwitchEnterpriseAccount((function(){e.messageDomainService.switchPersonAccountMessage.sendSwitchAccountMessage(t)})),[4,this.getSwitchAccountMessage()];case 1:return[2,n.sent()]}}))}))},t.prototype.getIframeMountMessage=function(t){var e=this;return new Promise((function(n){e.messageDomainService.switchPersonAccountMessage.getIframeMountMessage((function(){n(!0),e.messageDomainService.switchPersonAccountMessage.sendSwitchAccountMessage(t)}))}))},t.prototype.getSwitchAccountMessage=function(){var t=this;return new Promise((function(e){t.messageDomainService.switchPersonAccountMessage.getSwitchAccountMessage((function(t){"SUCCESS_SET_COOKIE"===t.data.event&&e(!0),e(!1)}))}))},t.prototype.setBEndTicket=function(t){var e=wt,n=location.host;t&&(Jt("uid",t.uid,30,"/",".".concat(n)),Jt("uid_key",t.uidKey,30,"/",".".concat(n)),Jt("utype",t.uType,30,"/",".".concat(n)),Jt("wedrive_sid",t.wedriveSid,30,"/","".concat(e)),Jt("wedrive_skey",t.wedriveSkey,30,"/","".concat(e)),Jt("wedrive_ticket",t.wedriveTicket,30,"/","".concat(e)),Jt("wedrive_uin",t.wedriveUin,30,"/","".concat(e)),location.reload())},t.prototype.isInDesktopPage=function(){return document.location.pathname.indexOf("/home/")>-1},t=J([X(0,l.x),Z("design:paramtypes",[Object])],t)}(),un=$e(Gt),dn=function(t){function e(e,n,r){var i,o=this;(o=t.call(this)||this).accountDomainService=e,o.loginDomainService=n,o.messageDomainService=r,o.accountApplicationOfflineService=new ce,o.enterpriseAccountListApplicationService=new on(r,e),o.dcLoginApplicationService=new Me(n,r),o.isInitFinish=o.accountDomainService.createEnterpriseEnvAccountAggregateByBasicClientVars(null===(i=null===globalThis||void 0===globalThis?void 0:globalThis.basicClientVars)||void 0===i?void 0:i.userInfo);var a=o.accountDomainService.accountAggregate.userInfo.tinyId;o.loginDomainService.createLoginAggregate(a);var s=o.accountDomainService.accountAggregate;return o.userInfo=s.userInfo,o}return Y(e,t),e.prototype.updateUserInfo=function(){return tt(this,void 0,void 0,(function(){var t,e;return et(this,(function(n){switch(n.label){case 0:return[4,this.accountDomainService.userInfoRepository.getEnterpriseUserInfo()];case 1:return 0===(null===(t=n.sent().resData)||void 0===t?void 0:t.cgicode)?(e=this.accountDomainService.accountAggregate.userInfo.tinyId,this.loginDomainService.createLoginAggregate(e),[2,this.accountDomainService.accountAggregate.userInfo]):(this.accountApplicationOfflineService.addUserInfo(z({},this.userInfo)),[2,this.userInfo])}}))}))},e.prototype.init=function(){return tt(this,void 0,void 0,(function(){return et(this,(function(t){switch(t.label){case 0:return this.isInitFinish?(this.accountApplicationOfflineService.addUserInfo(z({},this.userInfo)),[2,!0]):[4,this.initForUserInfoFetch()];case 1:return t.sent()?[2,!0]:[4,this.initForUserInfoOfflineData()];case 2:return[2,t.sent()]}}))}))},e.prototype.dispose=function(){},e.prototype.getAccountProfileList=function(){return tt(this,void 0,void 0,(function(){var t;return et(this,(function(e){switch(e.label){case 0:return[4,this.enterpriseAccountListApplicationService.getAccountList()];case 1:return t=e.sent(),[2,un(t)]}}))}))},e.prototype.deleteAccount=function(t){return tt(this,void 0,void 0,(function(){return et(this,(function(e){switch(e.label){case 0:return[4,this.enterpriseAccountListApplicationService.deleteAccountForList(t)];case 1:return[2,e.sent()]}}))}))},e.prototype.addAccount=function(){this.enterpriseAccountListApplicationService.addAccountForList()},e.prototype.switchToAccount=function(t){return tt(this,void 0,void 0,(function(){return et(this,(function(e){switch(e.label){case 0:return[4,new cn(this.messageDomainService).switchAccount(t)];case 1:return e.sent(),[2]}}))}))},e.prototype.loginSuccessJumpUrl=function(t,e){(new an).loginSuccessJumpUrl(t,e)},e.prototype.logoutSuccessJumpUrl=function(){(new an).logoutSuccessJumpUrl()},e.prototype.login=function(t,e,n){new Qe(this.loginDomainService).login(t,e,n)},e.prototype.logout=function(){return tt(this,void 0,void 0,(function(){return et(this,(function(t){switch(t.label){case 0:return[4,new sn(this.accountDomainService).logout()];case 1:return[2,t.sent()]}}))}))},e.prototype.initForUserInfoFetch=function(){return tt(this,void 0,void 0,(function(){var t,e,n,r;return et(this,(function(i){switch(i.label){case 0:return[4,this.accountDomainService.userInfoRepository.getEnterpriseUserInfo()];case 1:return t=i.sent(),e=t.resData,t.error?[2,!1]:(0===(null===e||void 0===e?void 0:e.cgicode)&&(this.accountDomainService.createEnterpriseEnvAccountAggregateByUserInfoCgi(e.data),n=this.accountDomainService.accountAggregate.userInfo.tinyId,this.loginDomainService.createLoginAggregate(n),r=this.accountDomainService.accountAggregate,this.userInfo=r.userInfo,this.accountApplicationOfflineService.addUserInfo(z({},this.userInfo))),[2,!0])}}))}))},e.prototype.initForUserInfoOfflineData=function(){return tt(this,void 0,void 0,(function(){var t;return et(this,(function(e){switch(e.label){case 0:return[4,this.accountApplicationOfflineService.getUserInfo()];case 1:return t=e.sent(),this.accountApplicationOfflineService.setOnOfflineState(!0),t?(this.userInfo=t.userInfo,[2,!0]):[2,!1]}}))}))},J([Qt,Z("design:type",Object)],e.prototype,"userInfo",void 0),J([qt("userInfo"),Z("design:type",Function),Z("design:paramtypes",[]),Z("design:returntype",Promise)],e.prototype,"updateUserInfo",null),J([st(),Z("design:type",Function),Z("design:paramtypes",[]),Z("design:returntype",Promise)],e.prototype,"init",null),J([ct("init"),Z("design:type",Function),Z("design:paramtypes",[]),Z("design:returntype",void 0)],e.prototype,"dispose",null),e=J([Ht(),X(0,g.b),X(1,h.C),X(2,l.x),Z("design:paramtypes",[Object,Object,Object])],e)}(i.Disposable),fn=(0,r.yh)("IAccountApplicationService"),pn=(0,r.yh)("IEnterpriseAccountApplicationService");!function(t){t.CODE_IS_READY="CODE_IS_READY",t.USER_HAS_SCANNED="USER_HAS_SCANNED",t.CODE_WAS_EXPIRED="CODE_WAS_EXPIRED",t.USER_HAS_CONFIRMED="USER_HAS_CONFIRMED",t.ERROR="ERROR"}(en||(en={})),function(t){t.TENCENT_DOCS="TENCENT_DOCS"}(nn||(nn={})),function(t){t.CODE_IS_READY="CODE_IS_READY",t.BIND_POLLING_RUNNING="BIND_POLLING_RUNNING",t.BIND_POLLING_FINISH="BIND_POLLING_FINISH",t.BIND_TIMEOUT="BIND_TIMEOUT",t.CODE_WAS_EXPIRED="CODE_WAS_EXPIRED",t.ERROR="ERROR"}(rn||(rn={}));var ln=function(){return Zt("TOK")};function hn(t){return tt(this,void 0,void 0,(function(){return et(this,(function(e){return[2,new Promise((function(e){setTimeout(e,t)}))]}))}))}var gn=function(){function t(t){var e,n,r;this.title=t.title,this.padId=t.padId,this.domainId=t.domainId,this.docType=t.docType,this.create_type=null!==(e=t.create_type)&&void 0!==e?e:"",this.redirect=null!==(n=t.redirect)&&void 0!==n?n:"",this.isMiniProgram=null!==(r=t.isMiniProgram)&&void 0!==r?r:""}return t.prototype.send=function(){return tt(this,void 0,void 0,(function(){var t;return et(this,(function(e){switch(e.label){case 0:return(t=new FormData).append("domain_id",this.domainId),t.append("title",this.title),t.append("pad_id",this.padId),t.append("xsrf",ln()),t.append("create_type",this.create_type),t.append("redirect",this.redirect),t.append("isMiniProgram",this.isMiniProgram),[4,V.networkRequest.post("/cgi-bin/online-docs/createdoc_new",t)];case 1:return[2,e.sent().data]}}))}))},t}(),vn=function(){function t(t){this.file_id=t.file_id,this.parent_id=t.parent_id}return t.prototype.send=function(){return tt(this,void 0,void 0,(function(){return et(this,(function(t){switch(t.label){case 0:return[4,V.networkRequest.post("".concat("/v2/file/clone","?xsrf=").concat(ln()),{file_id:this.file_id,parent_id:this.parent_id})];case 1:return[2,t.sent().data]}}))}))},t}(),yn={retcode:-1,doc_url:"",message:"创建副本存到本地失败",doc_id:{pad_id:""}},_n=function(){function t(t){this.logger=new F("IDocsManagementService").use("console"),this.title=t.title,this.padId=t.padId,this.domainId=t.domainId}return t.prototype.send=function(){return tt(this,void 0,void 0,(function(){var t,e,n,r,i;return et(this,(function(o){switch(o.label){case 0:return(t=new FormData).append("domain_id",this.domainId),t.append("title",this.title),t.append("pad_id",this.padId),t.append("xsrf",ln()),[4,V.networkRequest.post("/cgi-bin/online_docs/copydoc_async",t)];case 1:return e=o.sent(),n=e.data,r=n.retcode,i=n.doc_id.pad_id,0===r&&i?[4,this.requestCreateCopyLoop(n)]:(this.logger.error(n),[2,n]);case 2:return[2,o.sent()]}}))}))},t.prototype.requestCreateCopyLoop=function(t){return tt(this,void 0,void 0,(function(){var e,n,r,i,o,a;return et(this,(function(s){switch(s.label){case 0:e=t.doc_id.pad_id,n=t.doc_url,r=30,s.label=1;case 1:return(r-=1)?[4,hn(2e3)]:[3,4];case 2:return s.sent(),(i=new FormData).append("domain_id",this.domainId),i.append("pad_id",e),i.append("xsrf",ln()),[4,V.networkRequest.post("/cgi-bin/online_docs/copydoc_loop",i)];case 3:return o=s.sent(),a=o.data,n=n||a.doc_url,10027===a.retcode?[3,1]:[2,a];case 4:return[2,yn]}}))}))},t}(),mn=(0,r.yh)("IDocsManagementService"),wn=function(){function t(){}return t.prototype.loopClone=function(t){return tt(this,void 0,void 0,(function(){var e;return et(this,(function(n){switch(n.label){case 0:return[4,new _n(t.params).send()];case 1:return e=n.sent(),this.handleResult(t,e),[2]}}))}))},t.prototype.createDocClone=function(t){return tt(this,void 0,void 0,(function(){var e;return et(this,(function(n){switch(n.label){case 0:return[4,new gn(t.params).send()];case 1:return e=n.sent(),this.handleResult(t,e),[2]}}))}))},t.prototype.driveClone=function(t){return tt(this,void 0,void 0,(function(){var e;return et(this,(function(n){switch(n.label){case 0:return[4,new vn(t.params).send()];case 1:return e=n.sent(),this.handleResult(t,e),[2]}}))}))},t.prototype.handleResult=function(t,e){e?t.success(e):t.fail()},t}(),bn=n(55126),In=n(3386),En=n(40348),Sn=n(56262),An=n(50775),On=n(56661),Cn=n(66997),xn=n(29749),Rn=n(29011),Mn=n(11783),Dn=n(93704),Pn=n(52068),Tn=n(80744),kn=n(19237),Ln=n(39430),Nn=n(66497),Un=n(57354),jn=n(82801),Fn=n(69462),qn=n(97138),Bn=n(91435),Qn=n(41863),Wn=n(35381),Hn=n(58533),Vn=n(68376),Gn=n(9011),$n=n(28387),Kn=n(245),Yn=n(28761),zn=n(76884);function Jn(t){return Jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jn(t)}var Xn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{};function Zn(t){var e={exports:{}};return t(e,e.exports),e.exports}var tr,er,nr=function(t){return t&&t.Math==Math&&t},rr=nr("object"==("undefined"===typeof globalThis?"undefined":Jn(globalThis))&&globalThis)||nr("object"==("undefined"===typeof window?"undefined":Jn(window))&&window)||nr("object"==("undefined"===typeof self?"undefined":Jn(self))&&self)||nr("object"==Jn(Xn)&&Xn)||function(){return this}()||Function("return this")(),ir=function(t){try{return!!t()}catch(e){return!0}},or=!ir((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),ar=!ir((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),sr=Function.prototype.call,cr=ar?sr.bind(sr):function(){return sr.apply(sr,arguments)},ur={}.propertyIsEnumerable,dr=Object.getOwnPropertyDescriptor,fr={f:dr&&!ur.call({1:2},1)?function(t){var e=dr(this,t);return!!e&&e.enumerable}:ur},pr=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},lr=Function.prototype,hr=lr.bind,gr=lr.call,vr=ar&&hr.bind(gr,gr),yr=ar?function(t){return t&&vr(t)}:function(t){return t&&function(){return gr.apply(t,arguments)}},_r=yr({}.toString),mr=yr("".slice),wr=Object,br=yr("".split),Ir=ir((function(){return!wr("z").propertyIsEnumerable(0)}))?function(t){return"String"==function(t){return mr(_r(t),8,-1)}(t)?br(t,""):wr(t)}:wr,Er=TypeError,Sr=function(t){if(void 0==t)throw Er("Can't call method on "+t);return t},Ar=function(t){return Ir(Sr(t))},Or=function(t){return"function"==typeof t},Cr=function(t){return"object"==Jn(t)?null!==t:Or(t)},xr=function(t){return Or(t)?t:void 0},Rr=function(t,e){return arguments.length<2?xr(rr[t]):rr[t]&&rr[t][e]},Mr=yr({}.isPrototypeOf),Dr=Rr("navigator","userAgent")||"",Pr=rr.process,Tr=rr.Deno,kr=Pr&&Pr.versions||Tr&&Tr.version,Lr=kr&&kr.v8;Lr&&(er=(tr=Lr.split("."))[0]>0&&tr[0]<4?1:+(tr[0]+tr[1])),!er&&Dr&&(!(tr=Dr.match(/Edge\/(\d+)/))||tr[1]>=74)&&(tr=Dr.match(/Chrome\/(\d+)/))&&(er=+tr[1]);var Nr=er,Ur=!!Object.getOwnPropertySymbols&&!ir((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&Nr&&Nr<41})),jr=Ur&&!Symbol.sham&&"symbol"==Jn(Symbol.iterator),Fr=Object,qr=jr?function(t){return"symbol"==Jn(t)}:function(t){var e=Rr("Symbol");return Or(e)&&Mr(e.prototype,Fr(t))},Br=String,Qr=TypeError,Wr=function(t){if(Or(t))return t;throw Qr(function(t){try{return Br(t)}catch(e){return"Object"}}(t)+" is not a function")},Hr=TypeError,Vr=Object.defineProperty,Gr=function(t,e){try{Vr(rr,t,{value:e,configurable:!0,writable:!0})}catch(n){rr[t]=e}return e},$r="__core-js_shared__",Kr=rr[$r]||Gr($r,{}),Yr=Zn((function(t){(t.exports=function(t,e){return Kr[t]||(Kr[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.23.3",mode:"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.23.3/LICENSE",source:"https://github.com/zloirock/core-js"})})),zr=Object,Jr=yr({}.hasOwnProperty),Xr=Object.hasOwn||function(t,e){return Jr(zr(Sr(t)),e)},Zr=0,ti=Math.random(),ei=yr(1..toString),ni=function(t){return"Symbol("+(void 0===t?"":t)+")_"+ei(++Zr+ti,36)},ri=Yr("wks"),ii=rr.Symbol,oi=ii&&ii.for,ai=jr?ii:ii&&ii.withoutSetter||ni,si=TypeError,ci=function(t){if(!Xr(ri,t)||!Ur&&"string"!=typeof ri[t]){var e="Symbol."+t;Ur&&Xr(ii,t)?ri[t]=ii[t]:ri[t]=jr&&oi?oi(e):ai(e)}return ri[t]}("toPrimitive"),ui=function(t,e){if(!Cr(t)||qr(t))return t;var n,r=function(t,e){var n=t[e];return null==n?void 0:Wr(n)}(t,ci);if(r){if(void 0===e&&(e="default"),n=cr(r,t,e),!Cr(n)||qr(n))return n;throw si("Can't convert object to primitive value")}return void 0===e&&(e="number"),function(t,e){var n,r;if("string"===e&&Or(n=t.toString)&&!Cr(r=cr(n,t)))return r;if(Or(n=t.valueOf)&&!Cr(r=cr(n,t)))return r;if("string"!==e&&Or(n=t.toString)&&!Cr(r=cr(n,t)))return r;throw Hr("Can't convert object to primitive value")}(t,e)},di=function(t){var e=ui(t,"string");return qr(e)?e:e+""},fi=rr.document,pi=Cr(fi)&&Cr(fi.createElement),li=!or&&!ir((function(){return 7!=Object.defineProperty((t="div",pi?fi.createElement(t):{}),"a",{get:function(){return 7}}).a;var t})),hi=Object.getOwnPropertyDescriptor,gi={f:or?hi:function(t,e){if(t=Ar(t),e=di(e),li)try{return hi(t,e)}catch(n){}if(Xr(t,e))return pr(!cr(fr.f,t,e),t[e])}},vi=or&&ir((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),yi=String,_i=TypeError,mi=function(t){if(Cr(t))return t;throw _i(yi(t)+" is not an object")},wi=TypeError,bi=Object.defineProperty,Ii=Object.getOwnPropertyDescriptor,Ei="enumerable",Si="configurable",Ai="writable",Oi={f:or?vi?function(t,e,n){if(mi(t),e=di(e),mi(n),"function"===typeof t&&"prototype"===e&&"value"in n&&Ai in n&&!n.writable){var r=Ii(t,e);r&&r.writable&&(t[e]=n.value,n={configurable:Si in n?n.configurable:r.configurable,enumerable:Ei in n?n.enumerable:r.enumerable,writable:!1})}return bi(t,e,n)}:bi:function(t,e,n){if(mi(t),e=di(e),mi(n),li)try{return bi(t,e,n)}catch(r){}if("get"in n||"set"in n)throw wi("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},Ci=or?function(t,e,n){return Oi.f(t,e,pr(1,n))}:function(t,e,n){return t[e]=n,t},xi=Function.prototype,Ri=or&&Object.getOwnPropertyDescriptor,Mi=Xr(xi,"name"),Di={EXISTS:Mi,PROPER:Mi&&"something"===function(){}.name,CONFIGURABLE:Mi&&(!or||or&&Ri(xi,"name").configurable)},Pi=yr(Function.toString);Or(Kr.inspectSource)||(Kr.inspectSource=function(t){return Pi(t)});var Ti,ki,Li,Ni,Ui=Kr.inspectSource,ji=rr.WeakMap,Fi=Or(ji)&&/native code/.test(Ui(ji)),qi=Yr("keys"),Bi={},Qi="Object already initialized",Wi=rr.TypeError,Hi=rr.WeakMap;if(Fi||Kr.state){var Vi=Kr.state||(Kr.state=new Hi),Gi=yr(Vi.get),$i=yr(Vi.has),Ki=yr(Vi.set);Ti=function(t,e){if($i(Vi,t))throw new Wi(Qi);return e.facade=t,Ki(Vi,t,e),e},ki=function(t){return Gi(Vi,t)||{}},Li=function(t){return $i(Vi,t)}}else{var Yi=qi[Ni="state"]||(qi[Ni]=ni(Ni));Bi[Yi]=!0,Ti=function(t,e){if(Xr(t,Yi))throw new Wi(Qi);return e.facade=t,Ci(t,Yi,e),e},ki=function(t){return Xr(t,Yi)?t[Yi]:{}},Li=function(t){return Xr(t,Yi)}}var zi={set:Ti,get:ki,has:Li,enforce:function(t){return Li(t)?ki(t):Ti(t,{})},getterFor:function(t){return function(e){var n;if(!Cr(e)||(n=ki(e)).type!==t)throw Wi("Incompatible receiver, "+t+" required");return n}}},Ji=Zn((function(t){var e=Di.CONFIGURABLE,n=zi.enforce,r=zi.get,i=Object.defineProperty,o=or&&!ir((function(){return 8!==i((function(){}),"length",{value:8}).length})),a=String(String).split("String"),s=t.exports=function(t,r,s){"Symbol("===String(r).slice(0,7)&&(r="["+String(r).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),s&&s.getter&&(r="get "+r),s&&s.setter&&(r="set "+r),(!Xr(t,"name")||e&&t.name!==r)&&(or?i(t,"name",{value:r,configurable:!0}):t.name=r),o&&s&&Xr(s,"arity")&&t.length!==s.arity&&i(t,"length",{value:s.arity});try{s&&Xr(s,"constructor")&&s.constructor?or&&i(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(u){}var c=n(t);return Xr(c,"source")||(c.source=a.join("string"==typeof r?r:"")),t};Function.prototype.toString=s((function(){return Or(this)&&r(this).source||Ui(this)}),"toString")})),Xi=function(t,e,n,r){r||(r={});var i=r.enumerable,o=void 0!==r.name?r.name:e;if(Or(n)&&Ji(n,o,r),r.global)i?t[e]=n:Gr(e,n);else{try{r.unsafe?t[e]&&(i=!0):delete t[e]}catch(a){}i?t[e]=n:Oi.f(t,e,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return t},Zi=Math.ceil,to=Math.floor,eo=Math.trunc||function(t){var e=+t;return(e>0?to:Zi)(e)},no=function(t){var e=+t;return e!==e||0===e?0:eo(e)},ro=Math.max,io=Math.min,oo=Math.min,ao=function(t){return(e=t.length)>0?oo(no(e),9007199254740991):0;var e},so=function(t){return function(e,n,r){var i,o=Ar(e),a=ao(o),s=function(t,e){var n=no(t);return n<0?ro(n+e,0):io(n,e)}(r,a);if(t&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((t||s in o)&&o[s]===n)return t||s||0;return!t&&-1}},co=(so(!0),so(!1)),uo=yr([].push),fo=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"].concat("length","prototype"),po=Object.getOwnPropertyNames||function(t){return function(t,e){var n,r=Ar(t),i=0,o=[];for(n in r)!Xr(Bi,n)&&Xr(r,n)&&uo(o,n);for(;e.length>i;)Xr(r,n=e[i++])&&(~co(o,n)||uo(o,n));return o}(t,fo)},lo={f:po},ho={f:Object.getOwnPropertySymbols},go=yr([].concat),vo=Rr("Reflect","ownKeys")||function(t){var e=lo.f(mi(t)),n=ho.f;return n?go(e,n(t)):e},yo=function(t,e,n){for(var r=vo(e),i=Oi.f,o=gi.f,a=0;a<r.length;a++){var s=r[a];Xr(t,s)||n&&Xr(n,s)||i(t,s,o(e,s))}},_o=/#|\.prototype\./,mo=function(t,e){var n=bo[wo(t)];return n==Eo||n!=Io&&(Or(e)?ir(e):!!e)},wo=mo.normalize=function(t){return String(t).replace(_o,".").toLowerCase()},bo=mo.data={},Io=mo.NATIVE="N",Eo=mo.POLYFILL="P",So=mo,Ao=gi.f;!function(t,e){var n,r,i,o,a,s=t.target,c=t.global,u=t.stat;if(n=c?rr:u?rr[s]||Gr(s,{}):(rr[s]||{}).prototype)for(r in e){if(o=e[r],i=t.dontCallGetSet?(a=Ao(n,r))&&a.value:n[r],!So(c?r:s+(u?".":"#")+r,t.forced)&&void 0!==i){if(Jn(o)==Jn(i))continue;yo(o,i)}(t.sham||i&&i.sham)&&Ci(o,"sham",!0),Xi(n,r,o,t)}}({global:!0},{globalThis:rr});var Oo=function(t,e){return Oo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},Oo(t,e)};function Co(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Oo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var xo=function(){return xo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},xo.apply(this,arguments)};function Ro(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"===typeof Reflect?"undefined":Jn(Reflect))&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function Mo(t,e){return function(n,r){e(n,r,t)}}function Do(t,e){if("object"===("undefined"===typeof Reflect?"undefined":Jn(Reflect))&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)}function Po(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{c(r.next(t))}catch(e){o(e)}}function s(t){try{c(r.throw(t))}catch(e){o(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))}function To(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function ko(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Lo(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function No(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=ko(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}var Uo,jo,Fo,qo=function(t){function e(e){var n="(Extension Error) ".concat(e);return t.call(this,n)||this}return Co(e,t),e}(Error),Bo=Zn((function(t,e){function n(t,e,n,r){var o={};return function(a){if(!o[a]){var s={},c=[],u=[];for(u.push({node:a,processed:!1});u.length>0;){var d=u[u.length-1],f=d.processed,p=d.node;if(f)u.pop(),c.pop(),s[p]=!1,o[p]=!0,e&&0!==t[p].length||n.push(p);else{if(o[p]){u.pop();continue}if(s[p]){if(r){u.pop();continue}throw c.push(p),new i(c)}s[p]=!0,c.push(p);for(var l=t[p],h=l.length-1;h>=0;h--)u.push({node:l[h],processed:!1});d.processed=!0}}}}}var r=e.DepGraph=function(t){this.nodes={},this.outgoingEdges={},this.incomingEdges={},this.circular=t&&!!t.circular};r.prototype={size:function(){return Object.keys(this.nodes).length},addNode:function(t,e){this.hasNode(t)||(this.nodes[t]=2===arguments.length?e:t,this.outgoingEdges[t]=[],this.incomingEdges[t]=[])},removeNode:function(t){this.hasNode(t)&&(delete this.nodes[t],delete this.outgoingEdges[t],delete this.incomingEdges[t],[this.incomingEdges,this.outgoingEdges].forEach((function(e){Object.keys(e).forEach((function(n){var r=e[n].indexOf(t);r>=0&&e[n].splice(r,1)}),this)})))},hasNode:function(t){return this.nodes.hasOwnProperty(t)},getNodeData:function(t){if(this.hasNode(t))return this.nodes[t];throw new Error("Node does not exist: "+t)},setNodeData:function(t,e){if(!this.hasNode(t))throw new Error("Node does not exist: "+t);this.nodes[t]=e},addDependency:function(t,e){if(!this.hasNode(t))throw new Error("Node does not exist: "+t);if(!this.hasNode(e))throw new Error("Node does not exist: "+e);return-1===this.outgoingEdges[t].indexOf(e)&&this.outgoingEdges[t].push(e),-1===this.incomingEdges[e].indexOf(t)&&this.incomingEdges[e].push(t),!0},removeDependency:function(t,e){var n;this.hasNode(t)&&(n=this.outgoingEdges[t].indexOf(e))>=0&&this.outgoingEdges[t].splice(n,1),this.hasNode(e)&&(n=this.incomingEdges[e].indexOf(t))>=0&&this.incomingEdges[e].splice(n,1)},clone:function(){var t=this,e=new r;return Object.keys(t.nodes).forEach((function(n){e.nodes[n]=t.nodes[n],e.outgoingEdges[n]=t.outgoingEdges[n].slice(0),e.incomingEdges[n]=t.incomingEdges[n].slice(0)})),e},directDependenciesOf:function(t){if(this.hasNode(t))return this.outgoingEdges[t].slice(0);throw new Error("Node does not exist: "+t)},directDependantsOf:function(t){if(this.hasNode(t))return this.incomingEdges[t].slice(0);throw new Error("Node does not exist: "+t)},dependenciesOf:function(t,e){if(this.hasNode(t)){var r=[];n(this.outgoingEdges,e,r,this.circular)(t);var i=r.indexOf(t);return i>=0&&r.splice(i,1),r}throw new Error("Node does not exist: "+t)},dependantsOf:function(t,e){if(this.hasNode(t)){var r=[];n(this.incomingEdges,e,r,this.circular)(t);var i=r.indexOf(t);return i>=0&&r.splice(i,1),r}throw new Error("Node does not exist: "+t)},overallOrder:function(t){var e=this,r=[],i=Object.keys(this.nodes);if(0===i.length)return r;if(!this.circular){var o=n(this.outgoingEdges,!1,[],this.circular);i.forEach((function(t){o(t)}))}var a=n(this.outgoingEdges,t,r,this.circular);return i.filter((function(t){return 0===e.incomingEdges[t].length})).forEach((function(t){a(t)})),this.circular&&i.filter((function(t){return-1===r.indexOf(t)})).forEach((function(t){a(t)})),r},entryNodes:function(){var t=this;return Object.keys(this.nodes).filter((function(e){return 0===t.incomingEdges[e].length}))}},r.prototype.directDependentsOf=r.prototype.directDependantsOf,r.prototype.dependentsOf=r.prototype.dependantsOf;var i=e.DepGraphCycleError=function(t){var e="Dependency Cycle Found: "+t.join(" -> "),n=new Error(e);return n.cyclePath=t,Object.setPrototypeOf(n,Object.getPrototypeOf(this)),Error.captureStackTrace&&Error.captureStackTrace(n,i),n};i.prototype=Object.create(Error.prototype,{constructor:{value:Error,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(i,Error)})),Qo=(0,r.yh)("IMetadataLoader"),Wo=function(){function t(e){this.element=e,this.next=t.Undefined,this.prev=t.Undefined}return t.Undefined=new t(void 0),t}(),Ho=function(){function t(){this.first=Wo.Undefined,this.last=Wo.Undefined,this.mSize=0}return Object.defineProperty(t.prototype,"size",{get:function(){return this.mSize},enumerable:!1,configurable:!0}),t.prototype.isEmpty=function(){return this.first===Wo.Undefined},t.prototype.clear=function(){this.first=Wo.Undefined,this.last=Wo.Undefined,this.mSize=0},t.prototype.unshift=function(t){return this.insert(t,!1)},t.prototype.push=function(t){return this.insert(t,!0)},t.prototype.shift=function(){if(this.first!==Wo.Undefined){var t=this.first.element;return this.remove(this.first),t}},t.prototype.pop=function(){if(this.last!==Wo.Undefined){var t=this.last.element;return this.remove(this.last),t}},t.prototype[Symbol.iterator]=function(){var t;return To(this,(function(e){switch(e.label){case 0:t=this.first,e.label=1;case 1:return t===Wo.Undefined?[3,3]:[4,t.element];case 2:return e.sent(),t=t.next,[3,1];case 3:return[2]}}))},t.prototype.insert=function(t,e){var n=this,r=new Wo(t);if(this.first===Wo.Undefined)this.first=r,this.last=r;else if(e){var i=this.last;this.last=r,r.prev=i,i.next=r}else{var o=this.first;this.first=r,r.next=o,o.prev=r}this.mSize+=1;var a=!1;return function(){a||(a=!0,n.remove(r))}},t.prototype.remove=function(t){if(t.prev!==Wo.Undefined&&t.next!==Wo.Undefined){var e=t.prev;e.next=t.next,t.next.prev=e}else t.prev===Wo.Undefined&&t.next===Wo.Undefined?(this.first=Wo.Undefined,this.last=Wo.Undefined):t.next===Wo.Undefined?(this.last=this.last.prev,this.last.next=Wo.Undefined):t.prev===Wo.Undefined&&(this.first=this.first.next,this.first.prev=Wo.Undefined);this.mSize-=1},t}(),Vo=function(){function t(t){this.disposed=!1,this.options=t}return Object.defineProperty(t.prototype,"event",{get:function(){var t=this;return this.mEvent||(this.mEvent=function(e,n,r){var o,a,s;t.listeners||(t.listeners=new Ho);var c=t.listeners.isEmpty();c&&(null===(o=t.options)||void 0===o?void 0:o.onFirstListenerAdd)&&t.options.onFirstListenerAdd(t);var u=t.listeners.push(n?[e,n]:e);c&&(null===(a=t.options)||void 0===a?void 0:a.onFirstListenerDidAdd)&&t.options.onFirstListenerDidAdd(t),(null===(s=t.options)||void 0===s?void 0:s.onListenerDidAdd)&&t.options.onListenerDidAdd(t,e,n);var d={dispose:function(){var e;t.disposed||(u(),(null===(e=t.options)||void 0===e?void 0:e.onLastListenerRemove)&&(t.listeners&&!t.listeners.isEmpty()||t.options.onLastListenerRemove(t))),(0,i.markTracked)(d)},disposableId:"event"};return Array.isArray(r)&&r.push(d),(0,i.trackDisposable)(d),d}),this.mEvent},enumerable:!1,configurable:!0}),t.prototype.fire=function(t){var e,n;if(this.listeners){this.deliveryQueue||(this.deliveryQueue=new Ho);try{for(var r=ko(this.listeners),i=r.next();!i.done;i=r.next()){var o=i.value;this.deliveryQueue.push([o,t])}}catch(c){e={error:c}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}for(;this.deliveryQueue.size>0;){var a=Lo(this.deliveryQueue.shift(),2),s=(o=a[0],a[1]);try{"function"===typeof o?o.call(void 0,s):o[0].call(o[1],s)}catch(u){console.error(u)}}}},t.prototype.dispose=function(){this.listeners&&this.listeners.clear(),this.deliveryQueue&&this.deliveryQueue.clear(),this.disposed=!0},t}();!function(t){t.LOADING="LOADING",t.LOADED="LOADED",t.ERROR="ERROR"}(Uo||(Uo={})),function(t){t[t.IDLE=1]="IDLE",t[t.ON_DEMAND=3]="ON_DEMAND",t[t.EAGER=7]="EAGER"}(jo||(jo={})),function(t){t.WAITING="waiting",t.LOADING="loading",t.ERROR="error",t.SUCCESS="success"}(Fo||(Fo={}));var Go,$o,Ko,Yo=function(){function t(){this.loadCache=new Map,this.retryCountMap=new Map}return t.prototype.loadScript=function(t,e,n){return Po(this,void 0,void 0,(function(){var r;return To(this,(function(i){switch(i.label){case 0:return(r=this.loadCache.get(e))?[3,2]:(this.setRetryCount(t,n),[4,this.defferedLoadModule(t,e)]);case 1:r=i.sent(),this.loadCache.set(e,r),i.label=2;case 2:return[2,r]}}))}))},t.prototype.setRetryCount=function(t,e){this.retryCountMap.set(t,e)},t.prototype.defferedLoadModule=function(t,e){return Po(this,void 0,void 0,(function(){var n=this;return To(this,(function(r){return[2,new Promise((function(r,i){n.loadInBrowser(t,e,1,r,i)}))]}))}))},t.prototype.loadInBrowser=function(t,e,r,i,o){var a=this,s=this.buildScriptTag(e,(function(){var e=n.g[t];(null===e||void 0===e?void 0:e.default)?i(e.default):i(null!==e&&void 0!==e?e:{})}),(function(){var n=a.retryCountMap.get(t)||0;r>n?o("failed to load module [".concat(t,"] after [").concat(r-1,"] retry times.")):(document.head.removeChild(s),a.loadInBrowser(t,e,r+1,i,o))}));document.head.appendChild(s)},t.prototype.buildScriptTag=function(t,e,n){var r=document.createElement("script");return r.type="text/javascript",r.src=t,r.async=!1,r.crossOrigin="anonymous",r.onload=e,r.onerror=n,r},t}(),zo=new Yo,Jo=function(){function t(e,n,r){var i;this.hookEmitter=new Vo,this.loadState=Fo.WAITING,this.entryName=e,this.resourceUrl=n,this.options=r,this.retryTimes=null!==(i=null===r||void 0===r?void 0:r.retryTimes)&&void 0!==i?i:t.defaultRetryTimes,this.setupHooks()}return t.prototype.loadModule=function(){return Po(this,void 0,void 0,(function(){var e,n;return To(this,(function(r){switch(r.label){case 0:this.loadState=Fo.LOADING,this.hookEmitter.fire(Uo.LOADING),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,t.scriptLoader.loadScript(this.entryName,this.resourceUrl,this.retryTimes)];case 2:return e=r.sent(),this.loadState=Fo.SUCCESS,this.hookEmitter.fire(Uo.LOADED),[2,e];case 3:throw n=r.sent(),this.loadState=Fo.ERROR,this.hookEmitter.fire(Uo.ERROR),new qo(n.message);case 4:return[2]}}))}))},t.prototype.setupHooks=function(){var t=this;this.hookEmitter.event((function(e){var n,r,i=null===(r=null===(n=t.options)||void 0===n?void 0:n.hooks)||void 0===r?void 0:r[e];i&&i()}))},t.defaultRetryTimes=2,t.scriptLoader=zo,t}(),Xo=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return i.deferredModule=i.loadModule(),i}return Co(e,t),e.prototype.getModule=function(){return Po(this,void 0,void 0,(function(){return To(this,(function(t){return[2,this.deferredModule]}))}))},e}(Jo),Zo=function(){function t(t){this.url=t}return t.prototype.bootstrap=function(){return Po(this,void 0,void 0,(function(){return To(this,(function(t){switch(t.label){case 0:return this.loader=new Xo(this.url,this.url),[4,this.loader.getModule()];case 1:return t.sent(),[2]}}))}))},t}(),ta=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return i.schedulerHandler=o.scheduler,i.scheduleCallbackTask=i.loadWhenIdle(),i}return Co(e,t),e.prototype.getModule=function(){return Po(this,void 0,void 0,(function(){return To(this,(function(t){return this.loadState===Fo.WAITING||this.loadState===Fo.ERROR?(this.schedulerHandler.cancelTask(this.scheduleCallbackTask),this.deferredModule=this.loadModule(),[2,this.deferredModule]):[2,this.deferredModule]}))}))},e.prototype.loadWhenIdle=function(){var t=this;return this.schedulerHandler.scheduleTask((function(){t.deferredModule=t.loadModule()}))},e}(Jo),ea=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Co(e,t),e.prototype.getModule=function(){return Po(this,void 0,void 0,(function(){return To(this,(function(t){return this.deferredModule=this.loadModule(),[2,this.deferredModule]}))}))},e}(Jo),na=((Go={})[jo.ON_DEMAND]=ea,Go[jo.IDLE]=ta,Go[jo.EAGER]=Xo,Go),ra=function(){function t(t,e,n,r){this.name=t,this.url=e,this.surpportLanguages=n,this.language=r,this.loadTypeMap=new Map}return t.prototype.bootstrap=function(t){var e;void 0===t&&(t="");var n=null!==(e=this.loadTypeMap.get(t))&&void 0!==e?e:jo.IDLE;this.loader=this.createLoader(n)},t.prototype.addLoadType=function(t,e){this.loadTypeMap.set(null!==t&&void 0!==t?t:"",e)},t.prototype.getInstance=function(){return Po(this,void 0,void 0,(function(){var t;return To(this,(function(e){switch(e.label){case 0:if(this.loader||this.bootstrap(),this.loader.loadState===Fo.ERROR)throw new qo("load extension [".concat(this.name,"] error."));return void 0!==this.instance?[3,2]:[4,this.loader.getModule()];case 1:if("function"!==typeof(t=e.sent()))throw new qo("something went wrong in ".concat(this.name,"'s constructor."));this.instance=new t,this.instance.bootstraped=!1,e.label=2;case 2:return[2,this.instance]}}))}))},t.prototype.dealUrlForMultLanguage=function(t){var e,n=Array.isArray(t)?null===t||void 0===t?void 0:t[0]:t,r=null===n||void 0===n?void 0:n.lastIndexOf(".js");return-1===r||(null===(e=this.surpportLanguages)||void 0===e?void 0:e.includes(this.language))&&(n="".concat(n.slice(0,r),".").concat(this.language,".js")),n},t.prototype.createLoader=function(t){return new(0,na[t])(this.name,this.dealUrlForMultLanguage(this.url))},t}(),ia=function(){function t(){}return t.prototype.bootstrap=function(){throw new qo("genesis dependency node should not be called")},t.nodeName="GENESIS_DEPENDENCY_NODE",t}(),oa=a.L.getConfig('npm["@tencent/ark-extensions"]'),aa=(null===oa||void 0===oa?void 0:oa.React)||"//docs.idqqimg.com/tim/docs/components/libs/react-common-16.13.1-2bf240.js",sa=(null===oa||void 0===oa?void 0:oa.ReactDOM)||"//docs.idqqimg.com/tim/docs/components/libs/react-common-16.13.1-2bf240.js",ca=(null===oa||void 0===oa?void 0:oa.DEFAULT_COMPONENT_CDN_PREFIX)||"//docs.gtimg.com/docs_components",ua={React:aa,ReactDOM:sa},da=function(){function t(t){this.name=t}return t.prototype.bootstrap=function(){return Po(this,void 0,void 0,(function(){var t;return To(this,(function(e){switch(e.label){case 0:if(!(t=ua[this.name]))throw new qo("common lib [".concat(this.name,"] is illegal because it's not in white list."));return void 0!==window[this.name]?[3,2]:(this.loader=new Xo(this.name,t),[4,this.loader.getModule()]);case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},t}(),fa=function(){function t(t,e){this.name=t,this.cdnPrefix=e}return t.prototype.bootstrap=function(){return Po(this,void 0,void 0,(function(){var e;return To(this,(function(n){switch(n.label){case 0:return e="".concat(this.cdnPrefix.replace(/\/*$/,"/")).concat(this.name),t.loadRecords.has(e)?[3,2]:(this.loader=new Xo(this.name,e),[4,this.loader.getModule()]);case 1:n.sent(),t.loadRecords.add(e),n.label=2;case 2:return[2]}}))}))},t.loadRecords=new Set,t}(),pa=function(){function t(t){this.metadataLoader=t,this.createDepGraph()}return t.prototype.addExtensionConfig=function(t){return Po(this,void 0,void 0,(function(){var e;return To(this,(function(n){switch(n.label){case 0:return this.metadataRecord?[3,2]:(e=this,[4,this.metadataLoader.getMetadataRecord()]);case 1:e.metadataRecord=n.sent(),n.label=2;case 2:return this.language=this.metadataLoader.getLanguage(),this.addDepNodeByConfig(t),[2]}}))}))},t.prototype.addExtensionDescription=function(t){return Po(this,void 0,void 0,(function(){var e,n,r,i;return To(this,(function(o){switch(o.label){case 0:return this.metadataRecord?[3,2]:(e=this,[4,this.metadataLoader.getMetadataRecord()]);case 1:e.metadataRecord=o.sent(),o.label=2;case 2:return n=t.name,r=t.loadType,(i=this.addExtensionDependencyNode(n,r)).bootstrap(),[2,i]}}))}))},t.prototype.getInstance=function(t,e){var n,r;return void 0===e&&(e=ia.nodeName),Po(this,void 0,void 0,(function(){var i,o,a,s,c,u;return To(this,(function(d){switch(d.label){case 0:if(!this.depGraph.directDependantsOf(t).includes(e))throw new qo("Cannot get ".concat(t," extension in ").concat(e,", please add configuration !"));i=this.depGraph.getNodeData(t),o=this.depGraph.directDependenciesOf(t),d.label=1;case 1:d.trys.push([1,7,8,13]),a=No(o),d.label=2;case 2:return[4,a.next()];case 3:return(s=d.sent()).done?[3,6]:(c=s.value,[4,this.depGraph.getNodeData(c).bootstrap(t)]);case 4:d.sent(),d.label=5;case 5:return[3,2];case 6:return[3,13];case 7:return u=d.sent(),n={error:u},[3,13];case 8:return d.trys.push([8,,11,12]),s&&!s.done&&(r=a.return)?[4,r.call(a)]:[3,10];case 9:d.sent(),d.label=10;case 10:return[3,12];case 11:if(n)throw n.error;return[7];case 12:return[7];case 13:return[4,i.getInstance()];case 14:return[2,d.sent()]}}))}))},t.prototype.getDepGraph=function(){return Po(this,void 0,void 0,(function(){return To(this,(function(t){return[2,this.depGraph]}))}))},t.prototype.createDepGraph=function(){this.depGraph=new Bo.DepGraph;var t=new ia;this.depGraph.addNode(ia.nodeName,t)},t.prototype.addDepNodeByConfig=function(t){var e=this;t.forEach((function(t){var n=t.name,r=t.loadType;try{var i=e.addExtensionDependencyNode(n,r);e.depGraph.addDependency(ia.nodeName,i.name)}catch(o){console.error(o)}}))},t.prototype.addLibraryDependencyNode=function(t){var e=new da(t);this.depGraph.addNode(t,e)},t.prototype.addModulesDependencyNode=function(t,e){var n=new fa(t,e);this.depGraph.addNode(t,n)},t.prototype.addChunkDependencyNode=function(t){var e=new Zo(t);this.depGraph.addNode(t,e)},t.prototype.addExtensionDependencyNode=function(t,e,n){var r=this;if(this.depGraph.hasNode(t)){var i=this.depGraph.getNodeData(t);return i.addLoadType(n,e),i}var o=this.metadataRecord[t];if(!o)throw new qo("Cannot find ".concat(t," extension in metadata!"));var a=o.url,s=o.chunks,c=void 0===s?[]:s,u=o.dependencies,d=void 0===u?{}:u,f=o.surpportLanguages,p=void 0===f?[]:f,l=d.commonModules,h=void 0===l?[]:l,g=d.commonLibs,v=void 0===g?[]:g,y=d.extensions,_=void 0===y?[]:y,m=new ra(t,a,p,this.language);return m.addLoadType(n,e),this.depGraph.addNode(t,m),c.forEach((function(e){r.addChunkDependencyNode(e),r.depGraph.addDependency(t,e)})),v.forEach((function(e){r.addLibraryDependencyNode(e),r.depGraph.addDependency(t,e)})),h.forEach((function(e){r.addModulesDependencyNode(e,r.metadataLoader.COMPONENT_CDN_PREFIX),r.depGraph.addDependency(t,e)})),_.forEach((function(e){var n;try{var i=null!==(n=jo[e.loadType.toString()])&&void 0!==n?n:jo.ON_DEMAND;r.addExtensionDependencyNode(e.name,i,t),r.depGraph.addDependency(t,e.name)}catch(o){console.error(o)}})),m},t=Ro([Mo(0,Qo),Do("design:paramtypes",[Object])],t)}(),la=(0,r.yh)("IExtensionManager");!function(t){t[t.WINDOW=0]="WINDOW",t[t.DOCUMENT=1]="DOCUMENT",t[t.DOCUMENT_BODY=2]="DOCUMENT_BODY"}($o||($o={})),function(t){t.RESIZE="resize",t.MOUSE_DOWN="mousedown",t.MOUSE_MOVE="mousemove",t.MOUSE_UP="mouseup",t.KEY_UP="keyup",t.KEY_DOWN="keydown",t.CLICK="click",t.TOUCH_START="touchstart",t.TOUCH_MOVE="touchmove",t.TOUCH_END="touchend",t.POP_STATE="popState",t.VISIBILITY_CHANGE="visibilitychange",t.ONLINE="online",t.OFFLINE="offline",t.MESSAGE="message",t.CUSTOM="custom"}(Ko||(Ko={}));var ha=function(){function t(){this.eventListenerSet=new Set,this.customEventListenerMap=new Map}return t.prototype.listen=function(t){var e=t.type;switch(e){case Ko.RESIZE:case Ko.MOUSE_DOWN:case Ko.MOUSE_MOVE:case Ko.MOUSE_UP:case Ko.KEY_UP:case Ko.KEY_DOWN:case Ko.CLICK:case Ko.TOUCH_START:case Ko.TOUCH_MOVE:case Ko.TOUCH_END:case Ko.POP_STATE:case Ko.VISIBILITY_CHANGE:case Ko.ONLINE:case Ko.OFFLINE:case Ko.MESSAGE:return this.bindEvent(t);case Ko.CUSTOM:return this.bindCustomEvent(t);default:throw new qo("[".concat(e,"] event is not supported to use in extensions."))}},t.prototype.listenCustomEvent=function(t){return this.bindCustomEvent(t),{name:t.name,fire:this.dispatchCustomEvent.bind(this,t.name)}},t.prototype.dispatchCustomEvent=function(t,e){var n=new CustomEvent(t,{detail:e});this.node.dispatchEvent(n)},t.prototype.remove=function(t){if(!this.eventListenerSet.has(t))throw new qo("unable to remove [".concat(t.type,"] event which is not in your namespace or not bound."));var e=t.name,n=t.type,r=t.fn,i=t.options;if(n===Ko.CUSTOM)return this.node.removeEventListener(e,r,i),void this.customEventListenerMap.delete(e);this.node.removeEventListener(n,r,i),this.eventListenerSet.delete(t)},t.prototype.removeAll=function(){var t=this;this.eventListenerSet.forEach((function(e){t.remove(e)})),this.customEventListenerMap.forEach((function(e){t.remove(e)}))},t.prototype.bindEvent=function(t){if(this.eventListenerSet.has(t))throw new qo("duplicated [".concat(t.type,"] event."));var e=t.type,n=t.fn,r=t.options;this.node.addEventListener(e,n,r),this.eventListenerSet.add(t)},t.prototype.bindCustomEvent=function(t){var e=t.name;if(this.customEventListenerMap.has(e))throw new qo("duplicated [".concat(e,"] event."));var n=e,r=t.fn,i=t.options;this.node.addEventListener(n,r,i),this.customEventListenerMap.set(e,t)},t}(),ga=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.node=document.body,e}return Co(e,t),e}(ha),va=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.node=document,e}return Co(e,t),e}(ha),ya=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.node=window,e}return Co(e,t),e}(ha),_a=function(){function t(){this.initEventManagerPool()}return t.prototype.addListener=function(t){var e=t.target;return this.eventManagerPool[e].listen(t)},t.prototype.removeListener=function(t){var e=t.target;return this.eventManagerPool[e].remove(t)},t.prototype.removeAllListener=function(){Object.values(this.eventManagerPool).forEach((function(t){t.removeAll()}))},t.prototype.initEventManagerPool=function(){var t,e=new ya,n=new va,r=new ga;this.eventManagerPool=((t={})[$o.WINDOW]=e,t[$o.DOCUMENT]=n,t[$o.DOCUMENT_BODY]=r,t)},t}(),ma=(0,r.yh)("IExtensionEvent"),wa=(0,r.yh)("IExtensionContainerService"),ba=function(){function t(t,e,n,r,i,o,a,s,c,u,d,f,p,l,h,g,v,y,_,m,w,b){this.docMetaDomain=t,this.userInfoDomain=e,this.authDomain=n,this.fileDomain=r,this.likeDomain=i,this.folderDomain=o,this.templateDomain=a,this.accountDomain=s,this.loginDomain=c,this.notificationDomain=u,this.shareDomain=d,this.messageDomain=f,this.collaborateDomain=p,this.notifyScopeDomain=l,this.atMessageDomain=h,this.fileInfoDomain=g,this.connectionControllerService=v,this.accountApplication=y,this.enterpriseAccountApplication=_,this.docsManagementService=m,this.extensionEvent=w,this.extensionContainerService=b}return t.prototype.getExtensionService=function(t,e){return{getExtension:function(n){return t.safeGetExtension.call(t,n,e)},fireExtensionEvent:t.fireExtensionEvent.bind(t,e)}},t.prototype.getDomainService=function(){return{docMetaDomain:this.docMetaDomain,userInfoDomain:this.userInfoDomain,authDomain:this.authDomain,fileDomain:this.fileDomain,likeDomain:this.likeDomain,folderDomain:this.folderDomain,templateDomain:this.templateDomain,accountDomain:this.accountDomain,loginDomain:this.loginDomain,notificationDomain:this.notificationDomain,shareDomain:this.shareDomain,messageDomain:this.messageDomain,collaborateDomain:this.collaborateDomain,notifyScopeDomain:this.notifyScopeDomain,atMessageDomain:this.atMessageDomain,fileInfoDomain:this.fileInfoDomain}},t.prototype.getApplicationService=function(){return{accountApplication:this.accountApplication,enterpriseAccountApplication:this.enterpriseAccountApplication,connectionControllerService:this.connectionControllerService,docsManagementService:this.docsManagementService}},t.prototype.getToolService=function(){return{networkRequest:V.networkRequest,event:this.extensionEvent}},t.prototype.getExtensionContainerService=function(t){return{createContainerIfUnspecified:this.extensionContainerService.createContainerIfUnspecified.bind(this.extensionContainerService,t),createSandboxContainerIfUnspecified:this.extensionContainerService.createSandboxContainerIfUnspecified.bind(this.extensionContainerService,t)}},t=Ro([Mo(0,s.v),Mo(1,bn.m),Mo(2,c.i),Mo(3,In.G),Mo(4,d.d),Mo(5,En.r),Mo(6,Sn.y),Mo(7,p.b),Mo(8,h.C),Mo(9,An.Y),Mo(10,On.j),Mo(11,l.x),Mo(12,u.U),Mo(13,Cn.Y),Mo(14,xn.B),Mo(15,Rn.U),Mo(16,G),Mo(17,fn),Mo(18,pn),Mo(19,mn),Mo(20,ma),Mo(21,wa),Do("design:paramtypes",[Object,Object,Object,Object,Object,Object,Object,Object,Object,Object,Object,Object,Object,Object,Object,Object,Object,Object,Object,Object,Object,Object])],t)}(),Ia=(0,r.yh)("IDependentServiceCombinder");"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self&&self;var Ea,Sa={exports:{}};function Aa(t){return Aa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Aa(t)}function Oa(t){var e=new Set;return JSON.stringify(t,(function(t,n){if(function(t){return function(t,e){return Object.prototype.toString.call(e)==="[object ".concat(t,"]")}("Object",t)}(n)||Array.isArray(n)){if(e.has(n))return"[Circular]";e.add(n)}return n}))}function Ca(t){return"functionName"in t}function xa(t,e){var n;try{if(window.tencentDocReport)return void(n=window.tencentDocReport)[t].apply(n,e);!function(t){var e;null!==(e=window.tencentDocReportBuffers)&&void 0!==e||(window.tencentDocReportBuffers=[]),window.tencentDocReportBuffers.push(t)}({functionName:t,argsStringified:Oa(e)})}catch(r){console.error(r)}}function Ra(){window.tencentDocReportBuffers=[],delete window.tencentDocReportBuffers}"undefined"!=typeof window&&window,Sa.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==Aa(t)&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=74)}([function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){t.exports=!n(3)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(5);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(18)("wks"),i=n(17),o=n(0).Symbol,a="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))}).store=r},function(t,e){t.exports=function(t){return"object"==Aa(t)?null!==t:"function"==typeof t}},function(t,e,n){var r=n(0),i=n(15),o=n(11),a=n(12),s=n(19),c=function t(e,n,c){var u,d,f,p,l=e&t.F,h=e&t.G,g=e&t.P,v=e&t.B,y=h?r:e&t.S?r[n]||(r[n]={}):(r[n]||{}).prototype,_=h?i:i[n]||(i[n]={}),m=_.prototype||(_.prototype={});for(u in h&&(c=n),c)f=((d=!l&&y&&void 0!==y[u])?y:c)[u],p=v&&d?s(f,r):g&&"function"==typeof f?s(Function.call,f):f,y&&a(y,u,f,e&t.U),_[u]!=f&&o(_,u,p),g&&m[u]!=f&&(m[u]=f)};r.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e,n){var r=n(2),i=n(25),o=n(16),a=Object.defineProperty;e.f=n(1)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(14),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(7),i=n(27);t.exports=n(1)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(0),i=n(11),o=n(13),a=n(17)("src"),s=n(46),c=(""+s).split("toString");n(15).inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,n,s){var u="function"==typeof n;u&&(o(n,"name")||i(n,"name",e)),t[e]!==n&&(u&&(o(n,a)||i(n,a,t[e]?""+t[e]:c.join(String(e)))),t===r?t[e]=n:s?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[a]||s.call(this)}))},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e){var n=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(5);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(15),i=n(0),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(47)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(28);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(8);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(32),i=n(8);t.exports=function(t){return r(i(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r,i,o=n(41),a=RegExp.prototype.exec,s=String.prototype.replace,c=a,u=(r=/a/,i=/b*/g,a.call(r,"a"),a.call(i,"a"),0!==r.lastIndex||0!==i.lastIndex),d=void 0!==/()??/.exec("")[1];(u||d)&&(c=function(t){var e,n,r,i,c=this;return d&&(n=new RegExp("^"+c.source+"$(?!\\s)",o.call(c))),u&&(e=c.lastIndex),r=a.call(c,t),u&&r&&(c.lastIndex=c.global?r.index+r[0].length:e),d&&r&&r.length>1&&s.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r}),t.exports=c},function(t,e){function n(e){return"function"==typeof Symbol&&"symbol"==Aa(Symbol.iterator)?t.exports=n=function(t){return Aa(t)}:t.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":Aa(t)},n(e)}t.exports=n},function(t,e,n){t.exports=!n(1)&&!n(3)((function(){return 7!=Object.defineProperty(n(26)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(5),i=n(0).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(14),i=Math.max,o=Math.min;t.exports=function(t,e){return(t=r(t))<0?i(t+e,0):o(t,e)}},function(t,e,n){var r=n(4)("unscopables"),i=Array.prototype;null==i[r]&&n(11)(i,r,{}),t.exports=function(t){i[r][t]=!0}},function(t,e,n){var r=n(19),i=n(32),o=n(20),a=n(9),s=n(51);t.exports=function(t,e){var n=1==t,c=2==t,u=3==t,d=4==t,f=6==t,p=5==t||f,l=e||s;return function(e,s,h){for(var g,v,y=o(e),_=i(y),m=r(s,h,3),w=a(_.length),b=0,I=n?l(e,w):c?l(e,0):void 0;w>b;b++)if((p||b in _)&&(v=m(g=_[b],b,y),t))if(n)I[b]=v;else if(v)switch(t){case 3:return!0;case 5:return g;case 6:return b;case 2:I.push(g)}else if(d)return!1;return f?-1:u||d?d:I}}},function(t,e,n){var r=n(10);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){var r=n(5),i=n(55).set;t.exports=function(t,e,n){var o,a=e.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&r(o)&&i&&i(t,o),t}},function(t,e,n){var r=n(56),i=n(27),o=n(21),a=n(16),s=n(13),c=n(25),u=Object.getOwnPropertyDescriptor;e.f=n(1)?u:function(t,e){if(t=o(t),e=a(e,!0),c)try{return u(t,e)}catch(t){}if(s(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e,n){var r=n(36),i=n(22).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){var r=n(13),i=n(21),o=n(57)(!1),a=n(37)("IE_PROTO");t.exports=function(t,e){var n,s=i(t),c=0,u=[];for(n in s)n!=a&&r(s,n)&&u.push(n);for(;e.length>c;)r(s,n=e[c++])&&(~o(u,n)||u.push(n));return u}},function(t,e,n){var r=n(18)("keys"),i=n(17);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e,n){var r=n(5),i=n(10),o=n(4)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},function(t,e,n){var r=n(66)(!0);t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},function(t,e,n){var r=n(67),i=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var o=n.call(t,e);if("object"!=Aa(o))throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},function(t,e,n){var r=n(2);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){n(68);var r=n(12),i=n(11),o=n(3),a=n(8),s=n(4),c=n(23),u=s("species"),d=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),f=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var p=s(t),l=!o((function(){var e={};return e[p]=function(){return 7},7!=""[t](e)})),h=l?!o((function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[u]=function(){return n}),n[p](""),!e})):void 0;if(!l||!h||"replace"===t&&!d||"split"===t&&!f){var g=/./[p],v=n(a,p,""[t],(function(t,e,n,r,i){return e.exec===c?l&&!i?{done:!0,value:g.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}})),y=v[0],_=v[1];r(String.prototype,t,y),i(RegExp.prototype,p,2==e?function(t,e){return _.call(t,this,e)}:function(t){return _.call(t,this)})}}},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}},function(t,e,n){var r=n(6);r(r.S+r.F*!n(1),"Object",{defineProperty:n(7).f})},function(t,e,n){t.exports=n(18)("native-function-to-string",Function.toString)},function(t,e){t.exports=!1},function(t,e,n){var r=n(6);r(r.P,"Array",{fill:n(49)}),n(30)("fill")},function(t,e,n){var r=n(20),i=n(29),o=n(9);t.exports=function(t){for(var e=r(this),n=o(e.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),c=a>2?arguments[2]:void 0,u=void 0===c?n:i(c,n);u>s;)e[s++]=t;return e}},function(t,e,n){var r=n(6),i=n(31)(5),o=!0;"find"in[]&&Array(1).find((function(){o=!1})),r(r.P+r.F*o,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(30)("find")},function(t,e,n){var r=n(52);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){var r=n(5),i=n(53),o=n(4)("species");t.exports=function(t){var e;return i(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){var r=n(10);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(0),i=n(13),o=n(10),a=n(33),s=n(16),c=n(3),u=n(35).f,d=n(34).f,f=n(7).f,p=n(58).trim,l=r.Number,h=l,g=l.prototype,v="Number"==o(n(60)(g)),y="trim"in String.prototype,_=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){var n,r,i,o=(e=y?e.trim():p(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+e}for(var a,c=e.slice(2),u=0,d=c.length;u<d;u++)if((a=c.charCodeAt(u))<48||a>i)return NaN;return parseInt(c,r)}}return+e};if(!l(" 0o1")||!l("0b1")||l("+0x1")){l=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof l&&(v?c((function(){g.valueOf.call(n)})):"Number"!=o(n))?a(new h(_(e)),n,l):_(e)};for(var m,w=n(1)?u(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),b=0;w.length>b;b++)i(h,m=w[b])&&!i(l,m)&&f(l,m,d(h,m));l.prototype=g,g.constructor=l,n(12)(r,"Number",l)}},function(t,e,n){var r=n(5),i=n(2),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=n(19)(Function.call,n(34).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(21),i=n(9),o=n(29);t.exports=function(t){return function(e,n,a){var s,c=r(e),u=i(c.length),d=o(a,u);if(t&&n!=n){for(;u>d;)if((s=c[d++])!=s)return!0}else for(;u>d;d++)if((t||d in c)&&c[d]===n)return t||d||0;return!t&&-1}}},function(t,e,n){var r=n(6),i=n(8),o=n(3),a=n(59),s="["+a+"]",c=RegExp("^"+s+s+"*"),u=RegExp(s+s+"*$"),d=function(t,e,n){var i={},s=o((function(){return!!a[t]()||"​"!="​"[t]()})),c=i[t]=s?e(f):a[t];n&&(i[n]=c),r(r.P+r.F*s,"String",i)},f=d.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(u,"")),t};t.exports=d},function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,e,n){var r=n(2),i=n(61),o=n(22),a=n(37)("IE_PROTO"),s=function(){},c=function(){var t,e=n(26)("iframe"),r=o.length;for(e.style.display="none",n(63).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;r--;)delete c.prototype[o[r]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=r(t),n=new s,s.prototype=null,n[a]=t):n=c(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(7),i=n(2),o=n(62);t.exports=n(1)?Object.defineProperties:function(t,e){i(t);for(var n,a=o(e),s=a.length,c=0;s>c;)r.f(t,n=a[c++],e[n]);return t}},function(t,e,n){var r=n(36),i=n(22);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(0).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(38),i=n(2),o=n(65),a=n(39),s=n(9),c=n(40),u=n(23),d=n(3),f=Math.min,p=[].push,l="length",h=!d((function(){}));n(42)("split",2,(function(t,e,n,d){var g;return g="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[l]||2!="ab".split(/(?:ab)*/)[l]||4!=".".split(/(.?)(.?)/)[l]||".".split(/()()/)[l]>1||"".split(/.?/)[l]?function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!r(t))return n.call(i,t,e);for(var o,a,s,c=[],d=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,h=void 0===e?4294967295:e>>>0,g=new RegExp(t.source,d+"g");(o=u.call(g,i))&&!((a=g.lastIndex)>f&&(c.push(i.slice(f,o.index)),o[l]>1&&o.index<i[l]&&p.apply(c,o.slice(1)),s=o[0][l],f=a,c[l]>=h));)g.lastIndex===o.index&&g.lastIndex++;return f===i[l]?!s&&g.test("")||c.push(""):c.push(i.slice(f)),c[l]>h?c.slice(0,h):c}:"0".split(void 0,0)[l]?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,r){var i=t(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,i,r):g.call(String(i),n,r)},function(t,e){var r=d(g,t,this,e,g!==n);if(r.done)return r.value;var u=i(t),p=String(this),l=o(u,RegExp),v=u.unicode,y=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(h?"y":"g"),_=new l(h?u:"^(?:"+u.source+")",y),m=void 0===e?4294967295:e>>>0;if(0===m)return[];if(0===p.length)return null===c(_,p)?[p]:[];for(var w=0,b=0,I=[];b<p.length;){_.lastIndex=h?b:0;var E,S=c(_,h?p:p.slice(b));if(null===S||(E=f(s(_.lastIndex+(h?0:b)),p.length))===w)b=a(p,b,v);else{if(I.push(p.slice(w,b)),I.length===m)return I;for(var A=1;A<=S.length-1;A++)if(I.push(S[A]),I.length===m)return I;b=w=E}}return I.push(p.slice(w)),I}]}))},function(t,e,n){var r=n(2),i=n(28),o=n(4)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||null==(n=r(a)[o])?e:i(n)}},function(t,e,n){var r=n(14),i=n(8);t.exports=function(t){return function(e,n){var o,a,s=String(i(e)),c=r(n),u=s.length;return c<0||c>=u?t?"":void 0:(o=s.charCodeAt(c))<55296||o>56319||c+1===u||(a=s.charCodeAt(c+1))<56320||a>57343?t?s.charAt(c):o:t?s.slice(c,c+2):a-56320+(o-55296<<10)+65536}}},function(t,e,n){var r=n(10),i=n(4)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:o?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){var r=n(23);n(6)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},function(t,e,n){var r=n(6),i=n(31)(1);r(r.P+r.F*!n(70)([].map,!0),"Array",{map:function(t){return i(this,t,arguments[1])}})},function(t,e,n){var r=n(3);t.exports=function(t,e){return!!t&&r((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},function(t,e,n){var r=n(2),i=n(20),o=n(9),a=n(14),s=n(39),c=n(40),u=Math.max,d=Math.min,f=Math.floor,p=/\$([$&`']|\d\d?|<[^>]*>)/g,l=/\$([$&`']|\d\d?)/g;n(42)("replace",2,(function(t,e,n,h){return[function(r,i){var o=t(this),a=null==r?void 0:r[e];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},function(t,e){var i=h(n,t,this,e);if(i.done)return i.value;var f=r(t),p=String(this),l="function"==typeof e;l||(e=String(e));var v=f.global;if(v){var y=f.unicode;f.lastIndex=0}for(var _=[];;){var m=c(f,p);if(null===m)break;if(_.push(m),!v)break;""===String(m[0])&&(f.lastIndex=s(p,o(f.lastIndex),y))}for(var w,b="",I=0,E=0;E<_.length;E++){m=_[E];for(var S=String(m[0]),A=u(d(a(m.index),p.length),0),O=[],C=1;C<m.length;C++)O.push(void 0===(w=m[C])?w:String(w));var x=m.groups;if(l){var R=[S].concat(O,A,p);void 0!==x&&R.push(x);var M=String(e.apply(void 0,R))}else M=g(S,p,A,O,x,e);A>=I&&(b+=p.slice(I,A)+M,I=A+S.length)}return b+p.slice(I)}];function g(t,e,r,o,a,s){var c=r+t.length,u=o.length,d=l;return void 0!==a&&(a=i(a),d=p),n.call(s,d,(function(n,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(c);case"<":s=a[i.slice(1,-1)];break;default:var d=+i;if(0===d)return n;if(d>u){var p=f(d/10);return 0===p?n:p<=u?void 0===o[p-1]?i.charAt(1):o[p-1]+i.charAt(1):n}s=o[d-1]}return void 0===s?"":s}))}}))},function(t,e,n){var r=n(0),i=n(33),o=n(7).f,a=n(35).f,s=n(38),c=n(41),u=r.RegExp,d=u,f=u.prototype,p=/a/g,l=/a/g,h=new u(p)!==p;if(n(1)&&(!h||n(3)((function(){return l[n(4)("match")]=!1,u(p)!=p||u(l)==l||"/a/i"!=u(p,"i")})))){u=function(t,e){var n=this instanceof u,r=s(t),o=void 0===e;return!n&&r&&t.constructor===u&&o?t:i(h?new d(r&&!o?t.source:t,e):d((r=t instanceof u)?t.source:t,r&&o?c.call(t):e),n?this:f,u)};for(var g=function(t){t in u||o(u,t,{configurable:!0,get:function(){return d[t]},set:function(e){d[t]=e}})},v=a(d),y=0;v.length>y;)g(v[y++]);f.constructor=u,u.prototype=f,n(12)(r,"RegExp",u)}n(73)("RegExp")},function(t,e,n){var r=n(0),i=n(7),o=n(1),a=n(4)("species");t.exports=function(t){var e=r[t];o&&e&&!e[a]&&i.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){n.r(e),n.d(e,"UserAgent",(function(){return h})),n.d(e,"getVersionFromUA",(function(){return l})),n.d(e,"compareVersion",(function(){return p}));var r=n(24),i=n.n(r),o=(n(45),n(43)),a=n.n(o),s=n(44),c=n.n(s),u=(n(48),n(50),n(54),n(64),n(69),n(71),n(72),/\d+([._]\d+)*/);function d(t){var e,n=u.exec(t);return null!==(e=null==n?void 0:n[0].replace(/_/g,"."))&&void 0!==e?e:null}function f(t){var e=d(t);return(null==e?void 0:e.split(".").map(Number))||[]}function p(t,e){return n=f(t),r=f(e),(i=Array(Math.max(n.length,r.length)).fill(0).map((function(t,e){return(n[e]||0)-(r[e]||0)})).find((function(t){return 0!==t}))||0)<0?-1:i>0?1:0;var n,r,i}function l(t,e){var n;try{n=new RegExp("\\b".concat(t,"\\W+\\d+([\\._]\\d+)*"),"i")}catch(t){return null}var r=n.exec(e);return r?d(r[0].substring(t.length)):null}var h=function(){function t(e){var n=this;a()(this,t),this.userAgent="",this.getAndroidVersion=function(){return n.isAndroid?l("Android",n.userAgent):null},this.isAndroidVersionAboveOrEqual=function(t){return p(n.getAndroidVersion()||"",t)>=0},this.getIOSVersion=function(){return n.isIOS?l("OS",n.userAgent):null},this.isIOSVersionAboveOrEqual=function(t){return p(n.getIOSVersion()||"",t)>=0},this.getPCQQBrowserVersion=function(){return n.isPCQQBrowser?l("QQBrowser",n.userAgent):null},this.isPCQQBrowserVersionAboveOrEqual=function(t){return p(n.getPCQQBrowserVersion()||"",t)>=0},this.getMobileQQBrowserVersion=function(){return n.isMobileQQBrowser?l("MQQBrowser",n.userAgent):null},this.isMobileQQBrowserVersionAboveOrEqual=function(t){return p(n.getMobileQQBrowserVersion()||"",t)>=0},this.getChromeVersion=function(){return l("Chrome",n.userAgent)},this.isChromeVersionAboveOrEqual=function(t){return p(n.getChromeVersion()||"",t)>=0},this.getWeChatVersion=function(){return n.isWeChat||n.isWxMiniProgram?l("MicroMessenger",n.userAgent):null},this.isWeChatVersionAboveOrEqual=function(t){return p(n.getWeChatVersion()||"",t)>=0},this.getWxDriveVersion=function(){return n.isWxDrive?l("WXDrive",n.userAgent):null},this.isWxDriveVersionAboveOrEqual=function(t){return p(n.getWxDriveVersion()||"",t)>=0},this.getWxWorkVersion=function(){return n.isWxWork?l("wxwork",n.userAgent):null},this.isWxWorkVersionAboveOrEqual=function(t){return p(n.getWxWorkVersion()||"",t)>=0},this.getQQVersion=function(){return n.isQQ||n.isQQMiniProgram?l("QQ",n.userAgent):null},this.isQQVersionAboveOrEqual=function(t){return p(n.getQQVersion()||"",t)>=0},this.getTimVersion=function(){return n.isTim?l("TIM",n.userAgent):null},this.isTimVersionAboveOrEqual=function(t){return p(n.getTimVersion()||"",t)>=0},this.getTencentDocsAppVersion=function(){return l("TencentDocs",n.userAgent)},this.isTencentDocsAppVersionAboveOrEqual=function(t){return p(n.getTencentDocsAppVersion()||"",t)>=0},this.getPCTencentDocsClientVersion=function(){return l("TxDocsPC",n.userAgent)},this.isPCTencentDocsClientVersionAboveOrEqual=function(t){return p(n.getPCTencentDocsClientVersion()||"",t)>=0},this.getElectronTencentDocsClientVersion=function(){return l("TDAppDesktop",n.userAgent)},this.isElectronTencentDocsClientVersionAboveOrEqual=function(t){return p(n.getElectronTencentDocsClientVersion()||"",t)>=0},void 0===e&&(e="undefined"!=typeof navigator?navigator.userAgent:""),Object.defineProperty(this,"userAgent",{value:e,writable:!1})}return c()(t,[{key:"isMobile",get:function(){return/(mobile)/i.test(this.userAgent)||this.isAndroidPad}},{key:"isMobilePhone",get:function(){return/(mobile)/i.test(this.userAgent)&&!this.isIPad}},{key:"isIPhone",get:function(){return/(iphone)/i.test(this.userAgent)}},{key:"isIPad",get:function(){return/(ipad)/i.test(this.userAgent)}},{key:"isAndroidPhone",get:function(){return/(mobile)/i.test(this.userAgent)&&this.isAndroid}},{key:"isAndroidPad",get:function(){return!/(mobile)/i.test(this.userAgent)&&this.isAndroid}},{key:"isPC",get:function(){return!this.isMobile}},{key:"isMac",get:function(){return!this.isMobile&&/Mac OS X/i.test(this.userAgent)}},{key:"isIPadEmulatedMac",get:function(){return this.isMac&&navigator.maxTouchPoints>1}},{key:"isAndroid",get:function(){return/android|adr/i.test(this.userAgent)}},{key:"isIOS",get:function(){return/(iphone|ipad|ipod)/i.test(this.userAgent)}},{key:"isWindows",get:function(){return/(win64|wow64|win32|wow32|windows nt)/i.test(this.userAgent)}},{key:"isWindowsUWP",get:function(){return/MSAppHost/i.test(this.userAgent)}},{key:"isLinux",get:function(){return/linux/i.test(this.userAgent)&&!this.isAndroid}},{key:"isLinuxKylin",get:function(){return/linux-kylin/i.test(this.userAgent)}},{key:"isLinuxUOS",get:function(){return/linux-uos/i.test(this.userAgent)}},{key:"isPCQQBrowser",get:function(){return!this.isMobile&&/QQBrowser/i.test(this.userAgent)&&!/QBCore/i.test(this.userAgent)}},{key:"isMobileQQBrowser",get:function(){return this.isMobile&&/MQQBrowser/i.test(this.userAgent)&&!this.isTimOrQQ&&!this.isWeChat&&!this.isWxWork&&!this.isTencentDocsApp&&!this.isWeiYunApp&&!this.isMiniProgram}},{key:"isQQBrowser",get:function(){return this.isMobile?this.isMobileQQBrowser:this.isPCQQBrowser}},{key:"isChrome",get:function(){return/(Chrome|CriOS)\/\S+( Mobile\S*)? Safari\/\S+$/i.test(this.userAgent)}},{key:"isSafari",get:function(){return/Version\/\S+( Mobile\S*)? Safari\/\S+$/i.test(this.userAgent)}},{key:"isIE",get:function(){return/MSIE/i.test(this.userAgent)&&!/opera/i.test(this.userAgent)||/Trident/i.test(this.userAgent)}},{key:"isOldEdge",get:function(){return/Edge/i.test(this.userAgent)}},{key:"isChromiumEdge",get:function(){return/Edg\//i.test(this.userAgent)}},{key:"isFirefox",get:function(){return/(Firefox|Focus|FxiOS)\//i.test(this.userAgent)}},{key:"isWeChat",get:function(){return/MicroMessenger/i.test(this.userAgent)&&!this.isWxWork&&!this.isWxMiniProgram}},{key:"isWxWork",get:function(){return/(wxwork)/i.test(this.userAgent)}},{key:"isWxDrive",get:function(){return/WXDrive/i.test(this.userAgent)}},{key:"isQQ",get:function(){return/QQ\//i.test(this.userAgent)&&!this.isTencentDocsApp&&!this.isQQMiniProgram&&!this.isTim}},{key:"isQQForGooglePlay",get:function(){return/QQ\//i.test(this.userAgent)&&/_GM/i.test(this.userAgent)}},{key:"isTim",get:function(){return/TIM/i.test(this.userAgent)}},{key:"isPCTim",get:function(){return/QBCore/i.test(this.userAgent)&&/TIM2.0/i.test(this.userAgent)}},{key:"isTimOrQQ",get:function(){return this.isTim||this.isQQ}},{key:"isTimOrQQFamily",get:function(){return this.isTim||/QQ/i.test(this.userAgent)}},{key:"isMiniProgram",get:function(){return/miniprogram|miniapp(?!enable)/i.test(this.userAgent)||"undefined"!=typeof __wxjs_environment&&"miniprogram"===__wxjs_environment}},{key:"isWxMiniProgram",get:function(){return/MicroMessenger/i.test(this.userAgent)&&this.isMiniProgram}},{key:"isQQMiniProgram",get:function(){return/QQ\/|TIM/i.test(this.userAgent)&&this.isMiniProgram}},{key:"isWxNativeMiniProgram",get:function(){return!this.isQQNativeMiniProgram&&"object"===("undefined"==typeof wx?"undefined":i()(wx))&&"function"==typeof wx.canIUse&&!0===wx.canIUse("request")}},{key:"isQQNativeMiniProgram",get:function(){return"object"===("undefined"==typeof qq?"undefined":i()(qq))&&"function"==typeof qq.canIUse&&!0===qq.canIUse("request")}},{key:"isNativeMiniProgram",get:function(){return this.isWxNativeMiniProgram||this.isQQNativeMiniProgram}},{key:"isTencentDocsApp",get:function(){return/TencentDocs/i.test(this.userAgent)}},{key:"isPCTencentDocsClient",get:function(){return/TxDocsPC/i.test(this.userAgent)}},{key:"isPCTencentDocsApp",get:function(){return this.isPCTencentDocsClient}},{key:"isElectronTencentDocsClient",get:function(){return/TDAppDesktop/i.test(this.userAgent)}},{key:"isWeiYunApp",get:function(){return/weiyun/i.test(this.userAgent)}},{key:"isSouGou",get:function(){return/SE 2\.X MetaSr 1\.0/i.test(this.userAgent)}},{key:"isTencentMeeting",get:function(){return/tencent_wemeet/i.test(this.userAgent)}}]),t}();e.default=new h}]),null===(Ea=window.location)||void 0===Ea||Ea.hostname,function(t){var e,n;window.tencentDocReportInjected||(e=t,n="tencentDocReport",new Promise((function(t){var r=document.createElement("script");r.async=!0,r.src=e,r.id="@tencent-tencent-doc-report",r.crossOrigin="anonymous",r.setAttribute("retry-when-error","true"),r.onload=function(){var e=window[n];t(e)},window.tencentDocReportInjected||(window.tencentDocReportInjected=!0,(document.head||document.body).appendChild(r))}))).then((function(){var t,e;if(window.tencentDocReportBuffers)for(var n=0,r=window.tencentDocReportBuffers;n<r.length;n++){var i=r[n];Ca(i)?(t=window.tencentDocReport)[i.functionName].apply(t,JSON.parse(i.argsStringified)):(e=window.tencentDocReport[i.className])[i.methodName].apply(e,JSON.parse(i.argsStringified))}})).then((function(){Ra()})).catch((function(){Ra()}))}("https://tencent-doc.cdn-go.cn/doc-report/3.0/report.js");var Ma=function(t){!function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];xa("tdwSingle",t)}(t)},Da=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Pa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Ta,ka,La=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.logger,r=void 0===n?console:n;Pa(this,t),this.timers={},this.logger=r}return Da(t,[{key:"start",value:function(t){this.timers[t]={},this.timers[t].startTimestamp=Date.now()}},{key:"end",value:function(t){var e=Date.now(),n=e-this.timers[t].startTimestamp;this.timers[t].endTimestamp=e,this.timers[t].diff=n}},{key:"getValue",value:function(t){var e=this.timers[t];return e||void 0}},{key:"getAllValue",value:function(){return this.timers}},{key:"print",value:function(t){if(t){var e=this.timers[t];this.logger.info("Time Recorder:","---- "+t+": "+e.diff+"ms")}else this.printAll()}},{key:"printAll",value:function(){var t=this;Object.keys(this.timers).forEach((function(e){return t.print(e)}))}}]),t}(),Na=La;!function(t){t[t.total=1]="total",t[t.commonModules=2]="commonModules",t[t.commonLibs=3]="commonLibs",t[t.extensions=4]="extensions",t[t.self=5]="self"}(ka||(ka={}));var Ua=((Ta={})[ka.total]="getExtensions",Ta[ka.commonModules]="commonModules",Ta[ka.commonLibs]="commonLibs",Ta[ka.extensions]="extension",Ta[ka.self]="self",Ta),ja=function(){function t(t){var e=t.extensionName;this.tb=new Na,this.name=e}return t.prototype.start=function(){return this.tb.start(this.name),this},t.prototype.end=function(){return this.tb.end(this.name),this},t.prototype.getValue=function(){return this.tb.getValue(this.name)},t.prototype.report=function(t){var e=this.getValue().diff;"[ark-extensions] 扩展插件加载耗时：".concat(e,"ms, step: ").concat(Ua[t],", name: ").concat(this.name),Ma({opername:"doc_component_web",module:"performance",action:"load",ver5:t,ver6:e,ver7:this.name})},t}();function Fa(t,e){return Po(this,void 0,void 0,(function(){var n,r;return To(this,(function(i){switch(i.label){case 0:return(n=new ja({extensionName:t.extensionName})).start(),[4,e()];case 1:return r=i.sent(),n.end().report(t.step),[2,r]}}))}))}var qa=function(){function t(){var t=this;this.isInnerOpen=!1,this.innerPromise=new Promise((function(e){t.completePromise=e}))}return t.prototype.isOpen=function(){return this.isInnerOpen},t.prototype.open=function(){this.isInnerOpen=!0,this.completePromise(!0)},t.prototype.wait=function(){return this.innerPromise},t}(),Ba=(0,r.yh)("IExtensionConfigManager"),Qa=function(){function t(t,e,n,r){this.dependentServiceCombinder=t,this.extensionConfigManager=e,this.extensionManager=n,this.domainUpdater=r,this.extensionEventEmitter=new Vo}return t.prototype.updateDomainWithClientVars=function(t,e){void 0===e&&(e=!1),this.domainUpdater.updateDomainWithClientVars(t,e)},t.prototype.updateDomainWithRequests=function(t,e){this.domainUpdater.updateDomainWithRequests({docId:t,u:e})},t.prototype.scanAndHandleExtensions=function(t){return Po(this,void 0,void 0,(function(){return To(this,(function(e){return[2,this.addExtensionConfig(t)]}))}))},t.prototype.addExtensionConfig=function(t){return Po(this,void 0,void 0,(function(){return To(this,(function(e){switch(e.label){case 0:return this.extensionConfigReadyBarrier?[4,this.extensionConfigReadyBarrier.wait()]:[3,2];case 1:return e.sent(),[3,3];case 2:this.extensionConfigReadyBarrier=new qa,e.label=3;case 3:return[4,this.extensionConfigManager.addExtensionConfig(t)];case 4:return e.sent(),this.extensionConfigReadyBarrier.open(),[2]}}))}))},t.prototype.addExtensionDescription=function(t){return Po(this,void 0,void 0,(function(){return To(this,(function(e){switch(e.label){case 0:return[4,this.extensionConfigManager.addExtensionDescription(t)];case 1:return e.sent(),[2]}}))}))},t.prototype.subscribeExtensionEvent=function(t){this.extensionEventEmitter.event((function(e){t(e.extensionName,e.type)}))},t.prototype.fireExtensionEvent=function(t,e){var n={extensionName:t,type:e};this.extensionEventEmitter.fire(n)},t.prototype.getExtension=function(t){return Po(this,void 0,void 0,(function(){var e=this;return To(this,(function(n){return[2,Fa({extensionName:t,step:ka.total},(function(){return e.safeGetExtension(t)}))]}))}))},t.prototype.dispose=function(){throw new Error("Method not implemented.")},t.prototype.disposeAllExtensions=function(){throw new Error("Method not implemented.")},t.prototype.getExtensionConfig=function(){return this.extensionConfigManager.getExtensionConfig()},t.prototype.getExtensionDepGraph=function(){return Po(this,void 0,void 0,(function(){return To(this,(function(t){return[2,this.extensionManager.getDepGraph()]}))}))},t.prototype.safeGetExtension=function(t,e){return Po(this,void 0,void 0,(function(){var n;return To(this,(function(r){switch(r.label){case 0:return[4,this.extensionConfigReadyBarrier.wait()];case 1:return r.sent(),[4,this.extensionManager.getInstance(t,e)];case 2:return n=r.sent(),this.bootstrapExtension(t,n),[2,n]}}))}))},t.prototype.bootstrapExtension=function(t,e){if(!e.bootstraped){var n=this.dependentServiceCombinder.getExtensionService(this,t),r=this.dependentServiceCombinder.getDomainService(),i=this.dependentServiceCombinder.getApplicationService(),o=this.dependentServiceCombinder.getToolService(),a=this.dependentServiceCombinder.getExtensionContainerService(t),s=this.extensionConfigManager.findExtensionDescription(t),c=null===s||void 0===s?void 0:s.containerId,u=this.getContainer(c);e.bootstrap({extensionService:n,domainService:r,toolService:o,applicationService:i,containerService:a,extensionName:t,container:u}),e.bootstraped=!0}},t.prototype.getContainer=function(t){var e=null;return t&&(e=document.getElementById(t)),e},t=Ro([Mo(0,Ia),Mo(1,Ba),Mo(2,la),Mo(3,Mn.e),Do("design:paramtypes",[Object,Object,Object,Object])],t)}(),Wa=function(){function t(){this.containerCollectionId="__unspesified_extension_container_collection__"}return t.prototype.createContainerIfUnspecified=function(t){this.unspecifiedContainerCollection=this.getUnspecifiedContainerCollection();var e=this.unspecifiedContainerCollection.querySelector("#".concat(t));return e||((e=document.createElement("div")).setAttribute("id",t),this.unspecifiedContainerCollection.appendChild(e),e)},t.prototype.createSandboxContainerIfUnspecified=function(){throw new Error("Method not implemented.")},t.prototype.getUnspecifiedContainerCollection=function(){var t=document.getElementById(this.containerCollectionId);return t||((t=document.createElement("div")).setAttribute("id",this.containerCollectionId),document.body.appendChild(t)),t},t}(),Ha=function(){function t(t){this.extensionManager=t,this.extensionConfig=[]}return t.prototype.addExtensionConfig=function(t){return Po(this,void 0,void 0,(function(){return To(this,(function(e){switch(e.label){case 0:return this.extensionConfig=this.extensionConfig.concat(t),[4,this.extensionManager.addExtensionConfig(t)];case 1:return e.sent(),[2]}}))}))},t.prototype.addExtensionDescription=function(t){return Po(this,void 0,void 0,(function(){return To(this,(function(e){switch(e.label){case 0:return this.assertNoDuplicatedDescription(t),this.extensionConfig.push(t),[4,this.extensionManager.addExtensionDescription(t)];case 1:return e.sent(),[2]}}))}))},t.prototype.getExtensionConfig=function(){return this.extensionConfig},t.prototype.findExtensionDescription=function(t){return this.extensionConfig.find((function(e){return e.name===t}))},t.prototype.iterateExtensionConfig=function(t){this.extensionConfig.forEach(t)},t.prototype.assertNoDuplicatedDescription=function(t){if(this.extensionConfig.find((function(e){return e.name===t.name})))throw new qo("duplicated extension config of ".concat(t.name,"."))},t=Ro([Mo(0,la),Do("design:paramtypes",[Object])],t)}(),Va=(0,r.yh)("IExtensionService"),Ga=Symbol.for("__META_REQUEST_CACHE__"),$a=window.location,Ka=$a.protocol,Ya=$a.host,za="".concat(Ka,"//").concat(Ya,"/components/docs/metadata{{specifiedVersionKey}}.json?t={{time}}"),Ja=function(){function t(t){var e,n;this.METADATA_URL=za,this.COMPONENT_CDN_PREFIX=null!==(e=t.componentCdnPrefix)&&void 0!==e?e:ca,this.specifiedVersionKey=t.specifiedVersion?".v".concat(t.specifiedVersion):"",this.language=null!==(n=t.language)&&void 0!==n?n:""}return Object.defineProperty(t.prototype,"metadataRequestCacheMap",{get:function(){return void 0===globalThis[Ga]&&(globalThis[Ga]=new Map),globalThis[Ga]},enumerable:!1,configurable:!0}),t.prototype.getMetadataRecord=function(){return Po(this,void 0,void 0,(function(){var t,e;return To(this,(function(n){switch(n.label){case 0:return t=this.metadataRequestCacheMap.has(this.specifiedVersionKey),e=t?this.metadataRequestCacheMap.get(this.specifiedVersionKey):this.requestMetadataRecord(),t||this.metadataRequestCacheMap.set(this.specifiedVersionKey,e),[4,e];case 1:return[2,n.sent()]}}))}))},t.prototype.getLanguage=function(){return this.language},t.prototype.requestMetadataRecord=function(){return Po(this,void 0,void 0,(function(){var t,e,n,r,i,o=this;return To(this,(function(a){switch(a.label){case 0:return t=this.METADATA_URL.replace("{{specifiedVersionKey}}",this.specifiedVersionKey).replace("{{time}}",Date.now().toString()),[4,V.networkRequest.get(t)];case 1:if(!(e=a.sent()).data)throw new qo("request metadata error, error code: [".concat(e.status,"]."));return n=e.data,r=void 0===n?[]:n,i=Object.values(r).reduce((function(t,e){var n;return xo(xo({},t),((n={})[e.name]=xo(xo({},e),{url:o.getMetadataUrl(e)}),n))}),{}),[2,i]}}))}))},t.prototype.getMetadataUrl=function(t){var e=this;return Array.isArray(t.url)?t.url.map((function(t){return"".concat(e.COMPONENT_CDN_PREFIX,"/").concat(t)})):["".concat(this.COMPONENT_CDN_PREFIX,"/").concat(t.url)]},t}();function Xa(t){void 0===t&&(t={});var e=globalThis.__ARK_EXTENSION_SERVICE__;if(e)return e;var n=new r.o5,i=new r.yk,o={serviceRegister:n,serviceCollection:i};Za(o,t),ts(o);var a=es(i);globalThis.__ARK_EXTENSION_INSTANTIATION_SERVICE__=a;var s=globalThis.__ARK_EXTENSION_SERVICE__=function(t){return t.invokeFunction((function(t){return t.get(Va)}))}(a);return s}function Za(t,e){void 0===e&&(e={}),function(t,e){var n;void 0===e&&(e={});var r=t.serviceRegister;r.register(Va,Qa),r.register(Ba,Ha),r.register(Qo,Ja,[null!==(n=e.metadataLoaderOptions||e.metadataLoader)&&void 0!==n?n:{}]),r.register(la,pa)}(t,e),function(t){var e=t.serviceRegister;e.register(Mn.e,Dn.d),e.register(Pn._,Tn.L),e.register(c.i,kn.n),e.register(An.Y,Ln.e),e.register(On.j,Nn.d),e.register(u.U,Un.u),e.register(p.b,jn.D),e.register(g.b,Fn.f),e.register(s.v,qn.L),e.register(bn.m,Bn.$),e.register(In.G,Qn.v),e.register(Rn.U,Wn.h),e.register(En.r,Hn.i),e.register(Sn.y,Vn.Y),e.register(h.C,Gn.g),e.register(l.x,$n.i),e.register(Cn.Y,Kn.l),e.register(xn.B,Yn.M),e.register(d.d,zn.W),e.register(G,ht),e.register(fn,Ye),e.register(pn,dn),e.register(mn,wn),e.register(Ia,ba),e.register(ma,_a),e.register(wa,Wa)}(t)}function ts(t){var e=t.serviceRegister,n=t.serviceCollection;e.getServiceDescriptors().forEach((function(t){var e=Lo(t,2),r=e[0],i=e[1];n.set(r,i)}))}function es(t){return new r.FS(t)}var ns=function(){function t(t){return this.scriptLoader=t||window.ScriptLoader||window.SLR,new Proxy(this,{set:function(t,e,n){return void 0!==t.scriptLoader[e]?(t.scriptLoader[e]=n,!0):(t[e]=n,!0)},get:function(t,e){return t[e]?t[e]:t.scriptLoader[e]?"function"===typeof t.scriptLoader[e]?t.scriptLoader[e].bind(t.scriptLoader):t.scriptLoader[e]:void 0}})}return t.prototype.init=function(t,e,n,r){this.scriptLoader.init(t,e,n,r)},t.prototype.load=function(t,e,n,r){this.scriptLoader.load(t,e,n,r)},t.prototype.dispatch=function(t,e){this.scriptLoader.dispatch(t,e)},t.prototype.listen=function(t,e){this.scriptLoader.listen(t,e)},t}(),rs=function(t){function e(e){var n=t.call(this,e)||this;return n.__adpater__=!0,n.__version__="2.14.0",n.isReady=!1,n.onReadyEmitter=new Vo,n.fcModuleMap=new Map,n.extensionService=Xa(),n.domainUpdater=n.extensionService.domainUpdater,n.extensionService.getExtensionConfig()||n.extensionService.scanAndHandleExtensions([]),n.onReady=n.onReadyEmitter.event,n}return Co(e,t),e.getInstance=function(t){return void 0===e.instance&&(e.instance=new e(t)),e.instance},e.prototype.ready=function(){return Po(this,void 0,void 0,(function(){var t=this;return To(this,(function(e){switch(e.label){case 0:return[4,this.updateDomainWithClientVars()];case 1:return e.sent(),setTimeout((function(){t.isReady=!0,t.onReadyEmitter.fire()}),0),[2,this]}}))}))},e.prototype.registerExternalModule=function(t,e){this.fcModuleMap.has(t)||(e.bootstrap(this.extensionService,this),this.fcModuleMap.set(t,e))},e.prototype.loadExternalModule=function(t,e,n){var r=this.fcModuleMap.get(t);void 0!==r?e(r):null===n||void 0===n||n()},e.prototype.load=function(e,n,r,i){var o=this;this.isReady?this.fcModuleMap.has(e)?this.loadExternalModule(e,n,r):t.prototype.load.call(this,e,n,r,i):this.onReady((function(){o.load(e,n,r,i)}))},e.prototype.updateDomainWithClientVars=function(){var t=this;return new Promise((function(e,n){setTimeout((function r(){try{if(!0===window.__DISALBE_AUTO_UPDATE_CLIENT_VARS__)return t.listen("updateDomainWithClientVars",(function(){t.domainUpdater.updateDomainWithClientVars(window.clientVars,!1)})),void e();if(void 0!==window.clientVars)return window.clientVars.padId&&t.domainUpdater.updateDomainWithClientVars(window.clientVars,!1),void e();setTimeout(r,0)}catch(i){n(i)}}),0)}))},e}(ns);function is(t){if(void 0===t&&(t=window.ScriptLoader||window.SLR),void 0===t)throw new Error("window.ScriptLoader OR window.SLR is undefined, use `patchScriptLoader(scriptLoader)` to patch");if(t instanceof rs||t.__adpater__)return t;var e=rs.getInstance(t);return window.ScriptLoader=e,window.SLR=e,e}var os=function(){function t(){}return t.prototype.bootstrap=function(t,e){this.extensionService=t,this.scriptLoader=e},t.prototype.load=function(t){return Po(this,void 0,void 0,(function(){var e;return To(this,(function(n){switch(n.label){case 0:return this.extension?[2,this.extension]:[4,this.extensionService.addExtensionDescription({name:this.name,branch:this.branch,containerId:t.id,loadType:jo.EAGER})];case 1:return n.sent(),e=this,[4,this.extensionService.getExtension(this.name)];case 2:return e.extension=n.sent(),[2,this.extension]}}))}))},t}()},35083:function(t,e,n){n.d(e,{H4:function(){return _},MZ:function(){return p},TU:function(){return A},ao:function(){return O},ee:function(){return l},tE:function(){return o}});var r,i,o,a,s=n(43909);!function(t){t[t.unknown=-1]="unknown",t[t.doc=0]="doc",t[t.sheet=1]="sheet",t[t.slide=4]="slide",t[t.smartSheet=5]="smartSheet",t[t.smartCanvas=6]="smartCanvas",t[t.flowchart=7]="flowchart",t[t.mind=8]="mind",t[t.pdf=9]="pdf"}(o||(o={})),function(t){t.doc="doc",t.sheet="sheet",t.form="form",t.slide="slide",t.smartSheet="smartSheet",t.smartCanvas="smartCanvas",t.flowchart="flowchart",t.mind="mind",t.pdf="pdf"}(a||(a={}));var c,u,d,f,p,l=((r={})[a.doc]=o.doc,r[a.sheet]=o.sheet,r[a.slide]=o.slide,r[a.smartSheet]=o.smartSheet,r[a.smartCanvas]=o.smartCanvas,r[a.flowchart]=o.flowchart,r[a.mind]=o.mind,r[a.pdf]=o.pdf,r);(i={})[o.doc]=a.doc,i[o.sheet]=a.sheet,i[o.slide]=a.slide,i[o.smartSheet]=a.smartSheet,i[o.smartCanvas]=a.smartCanvas,i[o.flowchart]=a.flowchart,i[o.mind]=a.mind,i[o.pdf]=a.pdf,function(t){t[t.private=0]="private",t[t.partialShare=1]="partialShare",t[t.canRead=2]="canRead",t[t.canEdit=3]="canEdit"}(c||(c={})),function(t){t.new="new",t.local="local",t.deleted="deleted",t.normal="normal"}(u||(u={})),function(t){t[t.file=1]="file",t[t.folder=2]="folder"}(d||(d={})),function(t){t[t.trash=3]="trash",t[t.share=4]="share",t[t.myDoc=5]="myDoc",t[t.recent=6]="recent",t[t.start=7]="start"}(f||(f={})),function(t){t.init="init",t.document="document",t.workbook="workbook",t.chunk="chunk",t.accepted="accepted",t.missChange="misschange",t.newChange="newchange",t.committing="commiting",t.waiting="watting",t.queue="queue"}(p||(p={}));var h,g,v,y,_="TencentDocs";function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}!function(t){t.documentStatus="DocumentStatus",t.documentEntities="DocumentEntities",t.newDocumentIds="NewDocumentIds",t.padinfo="PadInfo",t.offlineData="OfflineData",t.documentData="DocumentData",t.Users="Users"}(h||(h={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.QQ=1]="QQ",t[t.WX=2]="WX",t[t.WORK=3]="WORK",t[t.EMAIL=4]="EMAIL",t[t.PHONE=8]="PHONE",t[t.WORK_COMBINATION=9]="WORK_COMBINATION",t[t.TOWER=10]="TOWER",t[t.ROBOT=11]="ROBOT",t[t.QFYF=12]="QFYF",t[t.OPEN=13]="OPEN",t[t.MEETING=14]="MEETING"}(g||(g={})),function(t){t.BINDING="BINDING",t.UNBIND="UNBIND"}(v||(v={})),function(t){t.NORMAL="NORMAL",t.SUPER="SUPER",t.NONE="NONE",t.EXPIRED="EXPIRED"}(y||(y={}));var w=function(t,e){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},w(t,e)};function b(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}w(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function I(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"===typeof Reflect?"undefined":m(Reflect))&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function E(t,e){if("object"===("undefined"===typeof Reflect?"undefined":m(Reflect))&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)}var S=function(t){function e(e){var n,r,i,o,a,s,c=this;return(c=t.call(this)||this).isDefaultChunk=!1,c.uid=e.uid,c.type=e.type,c.data=e.data,c.dataVersion=e.dataVersion,c.docType=e.docType,c.subId=e.subId,c.secretId=e.secretId,c.version=e.version,c.globalPadId=e.globalPadId,c.taskId=null!==(n=e.taskId)&&void 0!==n?n:c.getTaskId(),c.isDefaultChunk=null!==(r=e.isDefaultChunk)&&void 0!==r&&r,c.chunkId=null!==(i=e.chunkId)&&void 0!==i?i:0,c.docStatus=null!==(o=e.docStatus)&&void 0!==o?o:u.normal,c.createTimestamp=null!==(a=e.createTimestamp)&&void 0!==a?a:Date.now(),c.lastModifyTimestamp=null!==(s=e.lastModifyTimestamp)&&void 0!==s?s:Date.now(),c.key=c.getKey(),c.subGlobalPadId=e.subGlobalPadId,c.subDocType=e.subDocType,c}return b(e,t),e.prototype.getTaskId=function(){return Math.ceil(2147483648*Math.random())},e.prototype.getKey=function(){return this.type===p.init?"".concat(this.globalPadId,"_").concat(this.subId,"_").concat(this.uid):this.type===p.document?"".concat(this.globalPadId,"_").concat(this.uid,"_version_").concat(this.version):this.type===p.workbook?"".concat(this.globalPadId,"_").concat(this.subId,"_").concat(this.uid,"_version_").concat(this.version):this.type===p.chunk?"".concat(this.globalPadId,"_").concat(this.subId,"_").concat(this.chunkId,"_").concat(this.uid,"_version_").concat(this.version):"".concat(this.globalPadId,"_").concat(this.subId,"_").concat(this.uid,"_taskId_").concat(this.taskId)},I([(0,s.T$)(),E("design:type",String)],e.prototype,"key",void 0),I([(0,s.Kz)(),E("design:type",String)],e.prototype,"secretId",void 0),I([(0,s.Kz)(),E("design:type",String)],e.prototype,"globalPadId",void 0),I([(0,s.Kz)(),E("design:type",Number)],e.prototype,"version",void 0),I([(0,s.Kz)(),E("design:type",String)],e.prototype,"type",void 0),I([(0,s.Kz)(),E("design:type",String)],e.prototype,"uid",void 0),I([(0,s.Kz)(),(0,s.EP)("subSheetId"),E("design:type",String)],e.prototype,"subId",void 0),I([(0,s.Kz)(),E("design:type",Number)],e.prototype,"chunkId",void 0),I([(0,s.EP)(),E("design:type",Number)],e.prototype,"taskId",void 0),I([(0,s.EP)("_data"),E("design:type",String)],e.prototype,"data",void 0),I([(0,s.EP)(),E("design:type",Number)],e.prototype,"docType",void 0),I([(0,s.EP)("padStatus"),E("design:type",String)],e.prototype,"docStatus",void 0),I([(0,s.EP)("createTime"),E("design:type",Number)],e.prototype,"createTimestamp",void 0),I([(0,s.EP)(),E("design:type",Number)],e.prototype,"lastModifyTimestamp",void 0),I([(0,s.EP)("dver"),E("design:type",String)],e.prototype,"dataVersion",void 0),I([(0,s.EP)("default"),E("design:type",Object)],e.prototype,"isDefaultChunk",void 0),I([(0,s.EP)(),E("design:type",String)],e.prototype,"subGlobalPadId",void 0),I([(0,s.EP)(),E("design:type",Number)],e.prototype,"subDocType",void 0),e}(s.Hn),A=(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.addListTimestamp=0,e.attribute=null,e.docPolicy=c.private,e.docPrivilege=null,e.folderPolicy=0,e.folderPrivilege=null,e.isManualOffline=!1,e.isOfflineCache=!1,e.hasSnapShot=!1,e.isAddedToMy=0,e.isCollected=0,e.isOwner=1,e.isPinned=0,e.isShortcut=0,e.isUserChangeTitle=!1,e.lastCollectTimestamp=0,e.lastDeleteTimestamp=0,e.parents=[],e}b(e,t),I([(0,s.T$)(),E("design:type",String)],e.prototype,"key",void 0),I([(0,s.Kz)(),E("design:type",String)],e.prototype,"secretId",void 0),I([(0,s.Kz)(),E("design:type",String)],e.prototype,"globalPadId",void 0),I([(0,s.Kz)(),E("design:type",String)],e.prototype,"uid",void 0),I([(0,s.EP)("add_list_ts"),E("design:type",Object)],e.prototype,"addListTimestamp",void 0),I([(0,s.EP)(),E("design:type",Object)],e.prototype,"attribute",void 0),I([(0,s.EP)(),E("design:type",Number)],e.prototype,"childrenLength",void 0),I([(0,s.EP)("client_version"),E("design:type",String)],e.prototype,"clientVersion",void 0),I([(0,s.EP)("create_ts"),E("design:type",Number)],e.prototype,"createTimestamp",void 0),I([(0,s.EP)(),E("design:type",String)],e.prototype,"creator",void 0),I([(0,s.EP)("creator_domain"),E("design:type",String)],e.prototype,"creatorDomain",void 0),I([(0,s.EP)("doc_icon"),E("design:type",String)],e.prototype,"icon",void 0),I([(0,s.EP)("doc_policy"),E("design:type",Number)],e.prototype,"docPolicy",void 0),I([(0,s.EP)("doc_privilege"),E("design:type",Object)],e.prototype,"docPrivilege",void 0),I([(0,s.EP)("doc_thumbnail"),E("design:type",String)],e.prototype,"thumbnail",void 0),I([(0,s.EP)("doc_type"),E("design:type",Number)],e.prototype,"docType",void 0),I([(0,s.EP)("doc_type_desc"),E("design:type",String)],e.prototype,"docTypeDesc",void 0),I([(0,s.EP)("doc_url"),E("design:type",String)],e.prototype,"url",void 0),I([(0,s.EP)("domain_id"),E("design:type",String)],e.prototype,"domainId",void 0),I([(0,s.EP)(),E("design:type",String)],e.prototype,"dver",void 0),I([(0,s.EP)(),E("design:type",String)],e.prototype,"folder",void 0),I([(0,s.EP)("folder_id"),E("design:type",String)],e.prototype,"folderId",void 0),I([(0,s.EP)("folder_policy"),E("design:type",Object)],e.prototype,"folderPolicy",void 0),I([(0,s.EP)("folder_privilege"),E("design:type",Object)],e.prototype,"folderPrivilege",void 0),I([(0,s.EP)("isDelete"),E("design:type",Boolean)],e.prototype,"isDeleted",void 0),I([(0,s.EP)(),E("design:type",Object)],e.prototype,"isManualOffline",void 0),I([(0,s.EP)(),E("design:type",Boolean)],e.prototype,"isMyCreated",void 0),I([(0,s.EP)(),E("design:type",Boolean)],e.prototype,"isMydoc",void 0),I([(0,s.EP)(),E("design:type",Object)],e.prototype,"isOfflineCache",void 0),I([(0,s.EP)(),E("design:type",Boolean)],e.prototype,"isRencent",void 0),I([(0,s.EP)("isShareme"),E("design:type",Boolean)],e.prototype,"isShareToMe",void 0),I([(0,s.EP)("isSnapShot"),E("design:type",Object)],e.prototype,"hasSnapShot",void 0),I([(0,s.EP)(),E("design:type",Boolean)],e.prototype,"isStar",void 0),I([(0,s.EP)("is_added_my"),E("design:type",Object)],e.prototype,"isAddedToMy",void 0),I([(0,s.EP)("is_collected"),E("design:type",Object)],e.prototype,"isCollected",void 0),I([(0,s.EP)("is_owner"),E("design:type",Object)],e.prototype,"isOwner",void 0),I([(0,s.EP)("is_pinned"),E("design:type",Object)],e.prototype,"isPinned",void 0),I([(0,s.EP)("is_shortcut"),E("design:type",Object)],e.prototype,"isShortcut",void 0),I([(0,s.EP)(),E("design:type",Object)],e.prototype,"isUserChangeTitle",void 0),I([(0,s.EP)("lastSyncTime"),E("design:type",Number)],e.prototype,"lastSyncTimestamp",void 0),I([(0,s.EP)("last_browse_ts"),E("design:type",Number)],e.prototype,"lastBrowseTimestamp",void 0),I([(0,s.EP)("last_collect_ts"),E("design:type",Object)],e.prototype,"lastCollectTimestamp",void 0),I([(0,s.EP)("last_delete_ts"),E("design:type",Object)],e.prototype,"lastDeleteTimestamp",void 0),I([(0,s.EP)("last_modify_ts"),E("design:type",Number)],e.prototype,"lastModifyTimestamp",void 0),I([(0,s.EP)("last_modify_nick"),E("design:type",String)],e.prototype,"lastModifyNick",void 0),I([(0,s.EP)("last_modify_uid"),E("design:type",String)],e.prototype,"lastModifyUid",void 0),I([(0,s.EP)("last_pinned_ts"),E("design:type",Number)],e.prototype,"lastPinnedTimestamp",void 0),I([(0,s.EP)("list_info_type"),E("design:type",Number)],e.prototype,"listInfoType",void 0),I([(0,s.EP)("list_type"),E("design:type",Number)],e.prototype,"listType",void 0),I([(0,s.EP)(),E("design:type",Boolean)],e.prototype,"offlineCommiting",void 0),I([(0,s.EP)(),E("design:type",Boolean)],e.prototype,"offlineCommitSuccessd",void 0),I([(0,s.EP)("origin_folder_id"),E("design:type",String)],e.prototype,"originFolderId",void 0),I([(0,s.EP)("owner_nick"),E("design:type",String)],e.prototype,"ownerNick",void 0),I([(0,s.EP)("owner_uid"),E("design:type",String)],e.prototype,"ownerUid",void 0),I([(0,s.EP)("pad_id"),E("design:type",String)],e.prototype,"padId",void 0),I([(0,s.EP)("parent_folder_id"),E("design:type",String)],e.prototype,"parentFolderId",void 0),I([(0,s.EP)(),E("design:type",Array)],e.prototype,"parents",void 0),I([(0,s.EP)(),E("design:type",Number)],e.prototype,"privilege",void 0),I([(0,s.EP)(),E("design:type",String)],e.prototype,"status",void 0),I([(0,s.EP)(),E("design:type",String)],e.prototype,"title",void 0),I([(0,s.EP)(),E("design:type",Number)],e.prototype,"type",void 0),I([(0,s.EP)("uncommit"),E("design:type",Boolean)],e.prototype,"hasLocalChanges",void 0),e=I([(0,s.yD)(h.padinfo)],e)}(s.Hn),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isCreated=!1,e}b(e,t),I([(0,s.T$)(),E("design:type",String)],e.prototype,"globalPadId",void 0),I([(0,s.EP)(),E("design:type",String)],e.prototype,"secretId",void 0),I([(0,s.EP)(),E("design:type",Number)],e.prototype,"documentType",void 0),I([(0,s.EP)(),E("design:type",String)],e.prototype,"localPadId",void 0),I([(0,s.EP)(),E("design:type",Object)],e.prototype,"isCreated",void 0),e=I([(0,s.yD)(h.newDocumentIds)],e)}(s.Hn),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lastSyncTimestamp=0,e}b(e,t),I([(0,s.T$)(),E("design:type",String)],e.prototype,"globalPadId",void 0),I([(0,s.Kz)(),E("design:type",String)],e.prototype,"secretId",void 0),I([(0,s.Kz)(),E("design:type",String)],e.prototype,"uid",void 0),I([(0,s.EP)("lastSyncTime"),E("design:type",Object)],e.prototype,"lastSyncTimestamp",void 0),I([(0,s.EP)(),E("design:type",Number)],e.prototype,"lastErrorTimestamp",void 0),e=I([(0,s.yD)(h.documentStatus)],e)}(s.Hn),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}b(e,t),I([(0,s.T$)(),E("design:type",String)],e.prototype,"key",void 0),I([(0,s.EP)(),E("design:type",Object)],e.prototype,"data",void 0),e=I([(0,s.yD)(h.documentEntities)],e)}(s.Hn),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}b(e,t),e=I([(0,s.yD)(h.documentData)],e)}(S),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return b(e,t),e=I([(0,s.yD)(h.offlineData)],e)}(S)),O=function(t){function e(e){var n,r,i,o=this;return(o=t.call(this)||this).docId=e.docId,o.pageType=e.pageType,o.updateTime=e.updateTime,o.tinyId=e.tinyId,o.nowUserIndex=null!==(n=e.nowUserIndex)&&void 0!==n?n:"",o.corpId=e.corpId,o.corpName=e.corpName,o.englishName=e.englishName,o.loginType=e.loginType,o.uidSource=e.uidSource,o.uin=e.uin,o.userId=e.userId,o.userName=e.userName,o.userPic=e.userPic,o.settings=e.settings,o.bindUserInfo=null!==(r=e.bindUserInfo)&&void 0!==r?r:{type:v.UNBIND,userName:"",userPic:"",accountType:g.UNKNOWN},o.vipUserInfo=null!==(i=e.vipUserInfo)&&void 0!==i?i:{type:y.NONE,beginTime:0,endTime:0},o.key="".concat(o.pageType,"-").concat(o.docId,"-").concat(o.tinyId),o}return b(e,t),I([(0,s.T$)(),E("design:type",String)],e.prototype,"key",void 0),I([(0,s.Kz)(),E("design:type",String)],e.prototype,"tinyId",void 0),I([(0,s.Kz)(),E("design:type",String)],e.prototype,"nowUserIndex",void 0),I([(0,s.Kz)(),E("design:type",String)],e.prototype,"docId",void 0),I([(0,s.Kz)(),E("design:type",String)],e.prototype,"pageType",void 0),I([(0,s.EP)(),E("design:type",String)],e.prototype,"corpId",void 0),I([(0,s.EP)(),E("design:type",String)],e.prototype,"corpName",void 0),I([(0,s.EP)(),E("design:type",String)],e.prototype,"englishName",void 0),I([(0,s.EP)(),E("design:type",Number)],e.prototype,"loginType",void 0),I([(0,s.EP)(),E("design:type",String)],e.prototype,"openId",void 0),I([(0,s.EP)(),E("design:type",Number)],e.prototype,"uidSource",void 0),I([(0,s.EP)(),E("design:type",String)],e.prototype,"uin",void 0),I([(0,s.EP)(),E("design:type",String)],e.prototype,"userId",void 0),I([(0,s.EP)(),E("design:type",String)],e.prototype,"userName",void 0),I([(0,s.EP)(),E("design:type",String)],e.prototype,"userPic",void 0),I([(0,s.EP)(),E("design:type",String)],e.prototype,"updateTime",void 0),I([(0,s.EP)(),E("design:type",Object)],e.prototype,"settings",void 0),I([(0,s.EP)(),E("design:type",Object)],e.prototype,"bindUserInfo",void 0),I([(0,s.EP)(),E("design:type",Object)],e.prototype,"vipUserInfo",void 0),e=I([(0,s.yD)(h.Users),E("design:paramtypes",[Object])],e)}(s.Hn)},83871:function(t,e,n){function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}n.r(e),n.d(e,{BaseBackoff:function(){return f},ConstantBackoff:function(){return p},CustomBackoff:function(){return I},IterableBackoff:function(){return b},REQUEST_ERROR_CODE:function(){return l},RetryPolicy:function(){return m},createNativeRequestInstance:function(){return U},createNetworkRequestInstance:function(){return jt},nativeRequest:function(){return j},networkRequest:function(){return Ft}});var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)};function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var a=function(){return a=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},a.apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{c(r.next(t))}catch(e){o(e)}}function s(t){try{c(r.throw(t))}catch(e){o(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))}function c(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function u(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function d(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}var f=function(){function t(t){this.duration=t,this.attempt=0}return t.prototype.next=function(t){throw new Error("Method not implemented.")},t}(),p=function(t){function e(e,n){var r=t.call(this,e)||this;return r.limit=n,r}return o(e,t),e.prototype.next=function(){return void 0===this.limit?this:this.attempt>=this.limit?void 0:(this.attempt+=1,this)},e}(f);new p(0,0);var l,h,g=function(){return!1},v=function(){return!1},y=function(){function t(t,e){void 0===t&&(t=g),void 0===e&&(e=v),this.errorFilter=t,this.resultFilter=e}return t.prototype.invoke=function(t,e){return s(this,void 0,void 0,(function(){var n,r,i;return c(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,t(e)];case 1:return n=o.sent(),this.resultFilter(n)?[2,{value:n}]:[2,{success:n}];case 2:if(r=o.sent(),i=r,!this.errorFilter(i))throw i;return[2,{error:i}];case 3:return[2]}}))}))},t}(),_=function(t){var e=Math.max(t,0);return 0===e?Promise.resolve():new Promise((function(t){return setTimeout(t,e)}))},m=function(){function t(t){var e;this.options=t,this.executor=new y(t.errorFilter,t.resultFilter),this.backoffFactory=null!==(e=t.backoffFactory)&&void 0!==e?e:new p(0,t.maxRetry)}return t.prototype.execute=function(t){return s(this,void 0,void 0,(function(){var e,n,r,i,o;return c(this,(function(a){switch(a.label){case 0:e=0,a.label=1;case 1:return n={attempt:e,startTimestamp:Date.now()},[4,this.executor.invoke(t,n)];case 2:return"success"in(r=a.sent())?[2,r.success]:e<this.options.maxRetry?(i={attempt:e+1,result:r},(o=this.backoffFactory.next(i))?[4,_(o.duration)]:[3,4]):[3,5];case 3:a.sent(),a.label=4;case 4:return[3,6];case 5:if("error"in r)throw r.error;return[2,r.value];case 6:return e++,[3,1];case 7:return[2]}}))}))},t}(),w=function(t){return Math.max(null!==t&&void 0!==t?t:0,0)},b=function(t){function e(e){var n,r=this;return(r=t.call(this,null!==(n=w(e[0]))&&void 0!==n?n:0)||this).durations=e,r}return o(e,t),e.prototype.next=function(){if(!(this.attempt>=this.durations.length))return this.duration=w(this.durations[this.attempt]),this.attempt+=1,this},e}(f),I=function(t){function e(e){var n,r=this;return(r=t.call(this,null!==(n=e({attempt:0}))&&void 0!==n?n:0)||this).generator=e,r}return o(e,t),e.prototype.next=function(t){var e=this.generator(t);if(e)return this.duration=e,this},e}(f);function E(t){return{data:t,status:h.success,statusText:"Success"}}function S(t){return{data:[],status:h.unknown,statusText:t}}!function(t){t.aborted="ECONNABORTED",t.network="ERR_NETWORK",t.timeout="ETIMEDOUT",t.badRequest="ERR_BAD_REQUEST",t.badResponse="ERR_BAD_RESPONSE"}(l||(l={})),function(t){t[t.unknown=-1]="unknown",t[t.success=200]="success"}(h||(h={}));var A=function(){function t(){this.interceptors=[]}return t.prototype.add=function(t){this.interceptors.push(t)},t.prototype.proceed=function(t){return s(this,void 0,void 0,(function(){var e;return c(this,(function(n){return e=Array.from(this.interceptors),this.fillBuildInInterceptors(e,t),[2,this.dispatch(t,e,0)]}))}))},t.prototype.dispatch=function(t,e,n){var r=this;if(n>=e.length){var i=E([]);return Promise.resolve(i)}return e[n].intercept((function(){return r.dispatch(t,e,n+1)}),t)},t}(),O=function(){function t(){var t,e;this.canUseNativeAndroid=(null===(t=globalThis.mqq)||void 0===t?void 0:t.android)&&(null===(e=globalThis._mqqWebViewJSInterface)||void 0===e?void 0:e.invoke),this.currentSeqId=0,this.reqCallbacks=new Map}return t.prototype.JSApiCallback=function(t){var e=this.reqCallbacks.get(t.callbackId);if(!e)throw new Error("TypeError:[ark-request] the reqCallback of response[".concat(t.callbackId,"] can't found!"));e.callback(t)},t.prototype.invokeNative=function(t,e,n,r){var i,o=null!==n&&void 0!==n?n:{},a=o.command;if(r){var s=this.createReqSeq();this.reqCallbacks.set(s,{callback:r,command:a,startTime:Date.now()}),o.callbackId=s}this.canUseNativeAndroid?this.invokeNativeAndroid(t,e,o):null===(i=globalThis.mqq)||void 0===i||i.invoke(t,e,o)},t.prototype.invokeNativeAndroid=function(t,e,n){var r,i="jsbridge://".concat(encodeURIComponent(t),"/").concat(encodeURIComponent(e));n&&(i+="?p=".concat(encodeURIComponent(JSON.stringify(n)))),null===(r=globalThis._mqqWebViewJSInterface)||void 0===r||r.invoke(i)},t.prototype.createReqSeq=function(){return this.currentSeqId+=1},t}();globalThis.jsApi||(globalThis.jsApi=new O,globalThis.JSApiCallback||(globalThis.JSApiCallback=globalThis.jsApi.JSApiCallback.bind(globalThis.jsApi)));var C=globalThis.jsApi,x=function(){function t(){}return t.prototype.invoke=function(t){return new Promise((function(e,n){if(!t.namespace)throw new Error("jsapi, namespace is null.");var r=t.params||{},i=t.callback?function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e(E(t))}:void 0;try{C.invokeNative(t.namespace,t.method,r,i),i||e(E([]))}catch(o){n(S("Error:[ark-request] Jsapi invokeNative fail."))}}))},t}();function R(t){return"[object Function]"===Object.prototype.toString.call(t)}var M,D,P=function(){function t(){}return t.prototype.invoke=function(t){return s(this,void 0,void 0,(function(){var e,n;return c(this,(function(r){switch(r.label){case 0:if(!globalThis.mqq)throw new Error("UnknownError:[ark-request] mqq channel is undefined.");if(!t.namespace)throw new Error("TypeError:[ark-request] mqq invoke has no namespace!");return e=globalThis.mqq[t.namespace],(n=null===e||void 0===e?void 0:e[t.method])&&R(n)?[4,this.innerModuleInvoke(n,t.params,t.callback)]:[3,2];case 1:case 3:return[2,r.sent()];case 2:return[4,this.innerCoreInvoke(globalThis.mqq.invoke,t)]}}))}))},t.prototype.innerModuleInvoke=function(t,e,n){return new Promise((function(r,i){var o=[];e&&o.push(e),n&&o.push((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];r(E(t))}));try{t.apply(void 0,d([],u(o),!1)),n||r(E([]))}catch(a){i(S("Error:[ark-request] Mqq invoke module fail."))}}))},t.prototype.innerCoreInvoke=function(t,e){return new Promise((function(n,r){try{t(e.namespace,e.method,e.params,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];n(E(t))}))}catch(i){r(S("Error:[ark-request] Mqq invoke core[".concat(e.namespace,".").concat(e.method,"] fail.")))}}))},t}();!function(t){t.mqq="mqq",t.jsapi="jsapi"}(D||(D={}));var T={schema:"mqq",channels:(M={},M[D.mqq]=P,M[D.jsapi]=x,M)},k=function(){function t(){}return t.prototype.intercept=function(t,e){return s(this,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:if(!e.schema)throw Error("TypeError[ark-request]: the schema of request(".concat(e.namespace,".").concat(e.method,") is undefined."));if(!(t=T.channels[e.schema]))throw Error("TypeError[ark-request]: can't match strategy to handle request(".concat(e.schema,".").concat(e.namespace,".").concat(e.method,")."));return[4,(new t).invoke(e)];case 1:return[2,n.sent()]}}))}))},t}(),L=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.fillBuildInInterceptors=function(t){return t.push(new k),t},e}(A),N=function(){function t(t){this.interceptors=t}return t.prototype.invoke=function(t){this.interceptors.proceed(a({schema:T.schema},t)).then((function(e){var n,r,i=e.data;null===(n=t.callback)||void 0===n||n.call.apply(n,d([t],u(i),!1)),t.removeCallback&&(null===(r=t.params)||void 0===r?void 0:r.callbackId)&&C.reqCallbacks.delete(t.params.callbackId)}))},t.prototype.register=function(t,e){if(!R(e))throw new Error("TypeError:[ark-request] The handler[".concat(t,"] to register is not function."));this.getNativeChannel()[this.generateCallbackName(t)]=e},t.prototype.unregister=function(t){this.getNativeChannel()[this.generateCallbackName(t)]=void 0},t.prototype.notify=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=this.getNativeChannel(),i=this.generateCallbackName(t),o=r[i];if(!R(o))throw new Error("TypeError:[ark-request] The handler[".concat(t,"] is not function!"));o.apply(void 0,d([],u(e),!1))},t.prototype.generateCallbackName=function(t){return t},t.prototype.getNativeChannel=function(){return window},t}();function U(){var t=new L;return new N(t)}var j=U(),F={maxRetry:3},q=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}},B=Object.prototype.toString;function Q(t){return Array.isArray(t)}function W(t){return"undefined"===typeof t}function H(t){return"[object ArrayBuffer]"===B.call(t)}function V(t){return null!==t&&"object"===r(t)}function G(t){if("[object Object]"!==B.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function $(t){return"[object Function]"===B.call(t)}function K(t,e){if(null!==t&&"undefined"!==typeof t)if("object"!==r(t)&&(t=[t]),Q(t))for(var n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}var Y={isArray:Q,isArrayBuffer:H,isBuffer:function(t){return null!==t&&!W(t)&&null!==t.constructor&&!W(t.constructor)&&"function"===typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"[object FormData]"===B.call(t)},isArrayBufferView:function(t){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&H(t.buffer)},isString:function(t){return"string"===typeof t},isNumber:function(t){return"number"===typeof t},isObject:V,isPlainObject:G,isUndefined:W,isDate:function(t){return"[object Date]"===B.call(t)},isFile:function(t){return"[object File]"===B.call(t)},isBlob:function(t){return"[object Blob]"===B.call(t)},isFunction:$,isStream:function(t){return V(t)&&$(t.pipe)},isURLSearchParams:function(t){return"[object URLSearchParams]"===B.call(t)},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!==typeof window&&"undefined"!==typeof document},forEach:K,merge:function t(){var e={};function n(n,r){G(e[r])&&G(n)?e[r]=t(e[r],n):G(n)?e[r]=t({},n):Q(n)?e[r]=n.slice():e[r]=n}for(var r=0,i=arguments.length;r<i;r++)K(arguments[r],n);return e},extend:function(t,e,n){return K(e,(function(e,r){t[r]=n&&"function"===typeof e?q(e,n):e})),t},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}};function z(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var J=function(t,e,n){if(!e)return t;var r;if(n)r=n(e);else if(Y.isURLSearchParams(e))r=e.toString();else{var i=[];Y.forEach(e,(function(t,e){null!==t&&"undefined"!==typeof t&&(Y.isArray(t)?e+="[]":t=[t],Y.forEach(t,(function(t){Y.isDate(t)?t=t.toISOString():Y.isObject(t)&&(t=JSON.stringify(t)),i.push(z(e)+"="+z(t))})))})),r=i.join("&")}if(r){var o=t.indexOf("#");-1!==o&&(t=t.slice(0,o)),t+=(-1===t.indexOf("?")?"?":"&")+r}return t};function X(){this.handlers=[]}X.prototype.use=function(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},X.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},X.prototype.forEach=function(t){Y.forEach(this.handlers,(function(e){null!==e&&t(e)}))};var Z=X,tt=function(t,e){Y.forEach(t,(function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])}))},et=function(t,e,n,r,i){return t.config=e,n&&(t.code=n),t.request=r,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t},nt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},rt=function(t,e,n,r,i){var o=new Error(t);return et(o,e,n,r,i)},it=Y.isStandardBrowserEnv()?{write:function(t,e,n,r,i,o){var a=[];a.push(t+"="+encodeURIComponent(e)),Y.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),Y.isString(r)&&a.push("path="+r),Y.isString(i)&&a.push("domain="+i),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},ot=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],at=Y.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=r(window.location.href),function(e){var n=Y.isString(e)?r(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0};function st(t){this.message=t}st.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},st.prototype.__CANCEL__=!0;var ct=st,ut=function(t){return new Promise((function(e,n){var r,i=t.data,o=t.headers,a=t.responseType;function s(){t.cancelToken&&t.cancelToken.unsubscribe(r),t.signal&&t.signal.removeEventListener("abort",r)}Y.isFormData(i)&&delete o["Content-Type"];var c=new XMLHttpRequest;if(t.auth){var u=t.auth.username||"",d=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.Authorization="Basic "+btoa(u+":"+d)}var f,p,l=(f=t.baseURL,p=t.url,f&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(p)?function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}(f,p):p);function h(){if(c){var r="getAllResponseHeaders"in c?function(t){var e,n,r,i={};return t?(Y.forEach(t.split("\n"),(function(t){if(r=t.indexOf(":"),e=Y.trim(t.substr(0,r)).toLowerCase(),n=Y.trim(t.substr(r+1)),e){if(i[e]&&ot.indexOf(e)>=0)return;i[e]="set-cookie"===e?(i[e]?i[e]:[]).concat([n]):i[e]?i[e]+", "+n:n}})),i):i}(c.getAllResponseHeaders()):null;!function(t,e,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?e(rt("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}((function(t){e(t),s()}),(function(t){n(t),s()}),{data:a&&"text"!==a&&"json"!==a?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:r,config:t,request:c}),c=null}}if(c.open(t.method.toUpperCase(),J(l,t.params,t.paramsSerializer),!0),c.timeout=t.timeout,"onloadend"in c?c.onloadend=h:c.onreadystatechange=function(){c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))&&setTimeout(h)},c.onabort=function(){c&&(n(rt("Request aborted",t,"ECONNABORTED",c)),c=null)},c.onerror=function(){n(rt("Network Error",t,null,c)),c=null},c.ontimeout=function(){var e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",r=t.transitional||nt;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(rt(e,t,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",c)),c=null},Y.isStandardBrowserEnv()){var g=(t.withCredentials||at(l))&&t.xsrfCookieName?it.read(t.xsrfCookieName):void 0;g&&(o[t.xsrfHeaderName]=g)}"setRequestHeader"in c&&Y.forEach(o,(function(t,e){"undefined"===typeof i&&"content-type"===e.toLowerCase()?delete o[e]:c.setRequestHeader(e,t)})),Y.isUndefined(t.withCredentials)||(c.withCredentials=!!t.withCredentials),a&&"json"!==a&&(c.responseType=t.responseType),"function"===typeof t.onDownloadProgress&&c.addEventListener("progress",t.onDownloadProgress),"function"===typeof t.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(r=function(t){c&&(n(!t||t&&t.type?new ct("canceled"):t),c.abort(),c=null)},t.cancelToken&&t.cancelToken.subscribe(r),t.signal&&(t.signal.aborted?r():t.signal.addEventListener("abort",r))),i||(i=null),c.send(i)}))},dt={"Content-Type":"application/x-www-form-urlencoded"};function ft(t,e){!Y.isUndefined(t)&&Y.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var pt={transitional:nt,adapter:function(){var t;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(t=ut),t}(),transformRequest:[function(t,e){return tt(e,"Accept"),tt(e,"Content-Type"),Y.isFormData(t)||Y.isArrayBuffer(t)||Y.isBuffer(t)||Y.isStream(t)||Y.isFile(t)||Y.isBlob(t)?t:Y.isArrayBufferView(t)?t.buffer:Y.isURLSearchParams(t)?(ft(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):Y.isObject(t)||e&&"application/json"===e["Content-Type"]?(ft(e,"application/json"),function(t,e,n){if(Y.isString(t))try{return(e||JSON.parse)(t),Y.trim(t)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){var e=this.transitional||pt.transitional,n=e&&e.silentJSONParsing,r=e&&e.forcedJSONParsing,i=!n&&"json"===this.responseType;if(i||r&&Y.isString(t)&&t.length)try{return JSON.parse(t)}catch(o){if(i){if("SyntaxError"===o.name)throw et(o,this,"E_JSON_PARSE");throw o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Y.forEach(["delete","get","head"],(function(t){pt.headers[t]={}})),Y.forEach(["post","put","patch"],(function(t){pt.headers[t]=Y.merge(dt)}));var lt=pt,ht=function(t,e,n){var r=this||lt;return Y.forEach(n,(function(n){t=n.call(r,t,e)})),t},gt=function(t){return!(!t||!t.__CANCEL__)};function vt(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ct("canceled")}var yt=function(t){return vt(t),t.headers=t.headers||{},t.data=ht.call(t,t.data,t.headers,t.transformRequest),t.headers=Y.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),Y.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||lt.adapter)(t).then((function(e){return vt(t),e.data=ht.call(t,e.data,e.headers,t.transformResponse),e}),(function(e){return gt(e)||(vt(t),e&&e.response&&(e.response.data=ht.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))},_t=function(t,e){e=e||{};var n={};function r(t,e){return Y.isPlainObject(t)&&Y.isPlainObject(e)?Y.merge(t,e):Y.isPlainObject(e)?Y.merge({},e):Y.isArray(e)?e.slice():e}function i(n){return Y.isUndefined(e[n])?Y.isUndefined(t[n])?void 0:r(void 0,t[n]):r(t[n],e[n])}function o(t){if(!Y.isUndefined(e[t]))return r(void 0,e[t])}function a(n){return Y.isUndefined(e[n])?Y.isUndefined(t[n])?void 0:r(void 0,t[n]):r(void 0,e[n])}function s(n){return n in e?r(t[n],e[n]):n in t?r(void 0,t[n]):void 0}var c={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s};return Y.forEach(Object.keys(t).concat(Object.keys(e)),(function(t){var e=c[t]||i,r=e(t);Y.isUndefined(r)&&e!==s||(n[t]=r)})),n},mt="0.26.1",wt=mt,bt={};["object","boolean","number","function","string","symbol"].forEach((function(t,e){bt[t]=function(n){return r(n)===t||"a"+(e<1?"n ":" ")+t}}));var It={};bt.transitional=function(t,e,n){function r(t,e){return"[Axios v"+wt+"] Transitional option '"+t+"'"+e+(n?". "+n:"")}return function(n,i,o){if(!1===t)throw new Error(r(i," has been removed"+(e?" in "+e:"")));return e&&!It[i]&&(It[i]=!0,console.warn(r(i," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,i,o)}};var Et={assertOptions:function(t,e,n){if("object"!==r(t))throw new TypeError("options must be an object");for(var i=Object.keys(t),o=i.length;o-- >0;){var a=i[o],s=e[a];if(s){var c=t[a],u=void 0===c||s(c,a,t);if(!0!==u)throw new TypeError("option "+a+" must be "+u)}else if(!0!==n)throw Error("Unknown option "+a)}},validators:bt},St=Et.validators;function At(t){this.defaults=t,this.interceptors={request:new Z,response:new Z}}At.prototype.request=function(t,e){"string"===typeof t?(e=e||{}).url=t:e=t||{},(e=_t(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var n=e.transitional;void 0!==n&&Et.assertOptions(n,{silentJSONParsing:St.transitional(St.boolean),forcedJSONParsing:St.transitional(St.boolean),clarifyTimeoutError:St.transitional(St.boolean)},!1);var r=[],i=!0;this.interceptors.request.forEach((function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(i=i&&t.synchronous,r.unshift(t.fulfilled,t.rejected))}));var o,a=[];if(this.interceptors.response.forEach((function(t){a.push(t.fulfilled,t.rejected)})),!i){var s=[yt,void 0];for(Array.prototype.unshift.apply(s,r),s=s.concat(a),o=Promise.resolve(e);s.length;)o=o.then(s.shift(),s.shift());return o}for(var c=e;r.length;){var u=r.shift(),d=r.shift();try{c=u(c)}catch(f){d(f);break}}try{o=yt(c)}catch(f){return Promise.reject(f)}for(;a.length;)o=o.then(a.shift(),a.shift());return o},At.prototype.getUri=function(t){return t=_t(this.defaults,t),J(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},Y.forEach(["delete","get","head","options"],(function(t){At.prototype[t]=function(e,n){return this.request(_t(n||{},{method:t,url:e,data:(n||{}).data}))}})),Y.forEach(["post","put","patch"],(function(t){At.prototype[t]=function(e,n,r){return this.request(_t(r||{},{method:t,url:e,data:n}))}}));var Ot=At;function Ct(t){if("function"!==typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;this.promise.then((function(t){if(n._listeners){var e,r=n._listeners.length;for(e=0;e<r;e++)n._listeners[e](t);n._listeners=null}})),this.promise.then=function(t){var e,r=new Promise((function(t){n.subscribe(t),e=t})).then(t);return r.cancel=function(){n.unsubscribe(e)},r},t((function(t){n.reason||(n.reason=new ct(t),e(n.reason))}))}Ct.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},Ct.prototype.subscribe=function(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]},Ct.prototype.unsubscribe=function(t){if(this._listeners){var e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}},Ct.source=function(){var t;return{token:new Ct((function(e){t=e})),cancel:t}};var xt=Ct,Rt=function t(e){var n=new Ot(e),r=q(Ot.prototype.request,n);return Y.extend(r,Ot.prototype,n),Y.extend(r,n),r.create=function(n){return t(_t(e,n))},r}(lt);Rt.Axios=Ot,Rt.Cancel=ct,Rt.CancelToken=xt,Rt.isCancel=gt,Rt.VERSION=mt,Rt.all=function(t){return Promise.all(t)},Rt.spread=function(t){return function(e){return t.apply(null,e)}},Rt.isAxiosError=function(t){return Y.isObject(t)&&!0===t.isAxiosError};var Mt=Rt,Dt=Rt;Mt.default=Dt;var Pt=Mt,Tt=function(){function t(){}return t.prototype.intercept=function(t,e){return s(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,Pt.request(e)];case 1:return[2,t.sent()]}}))}))},t}(),kt=function(t){var e;return null===(e=t.message)||void 0===e?void 0:e.includes("timeout")},Lt=function(){function t(){}return t.prototype.intercept=function(t,e){return s(this,void 0,void 0,(function(){var n=this;return c(this,(function(r){return e.maxRetry<=0?[2,t()]:[2,new m(a({maxRetry:F.maxRetry,errorFilter:kt},e)).execute((function(e){return s(n,void 0,void 0,(function(){var n;return c(this,(function(r){switch(r.label){case 0:return[4,t()];case 1:return(n=r.sent()).retryContext=e,[2,n]}}))}))}))]}))}))},t}(),Nt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.fillBuildInInterceptors=function(t,e){var n;return(null!==(n=e.maxRetry)&&void 0!==n?n:F.maxRetry)>0&&t.push(new Lt),t.push(new Tt),t},e}(A),Ut=function(){function t(t,e){this.defaults=t,this.interceptors=e}return t.prototype.get=function(t,e){return this.dispatchRequest("get",t,void 0,e)},t.prototype.post=function(t,e,n){return this.dispatchRequest("post",t,e,n)},t.prototype.request=function(t){return this.interceptors.proceed(a(a({},this.defaults),t))},t.prototype.dispatchRequest=function(t,e,n,r){var i,o=null!==r&&void 0!==r?r:{},s=null!==(i=o.headers)&&void 0!==i?i:{};return o.contentType&&(s["Content-Type"]=o.contentType),this.interceptors.proceed(a(a(a({},this.defaults),o),{url:e,method:t,headers:s,data:null!==n&&void 0!==n?n:o.data}))},t}();function jt(t){var e=new Nt;return new Ut(t||F,e)}var Ft=jt()},88185:function(t,e,n){n.d(e,{Ar:function(){return y},Bl:function(){return b},b7:function(){return w},c$:function(){return p},k1:function(){return _}});var r=n(35083),i=n(4519),o=n(43909),a=n(42162),s=n(71346),c=n(62851),u=function(t,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},u(t,e)};function d(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var f,p,l=function(){return l=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},l.apply(this,arguments)};function h(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{c(r.next(t))}catch(e){o(e)}}function s(t){try{c(r.throw(t))}catch(e){o(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))}function g(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}!function(t){t[t.indexDB=1]="indexDB",t[t.nativeDB=2]="nativeDB"}(p||(p={}));var v=((f={})[p.indexDB]=s.Z,f[p.nativeDB]=c.Z,f),y=function(){function t(t){var e;void 0===t&&(t={type:p.indexDB,disableAutoOpen:!0}),this.config=t;var n=v[t.type];this.storage=new o.ZP({name:null!==(e=t.databaseName)&&void 0!==e?e:r.H4,version:4,engine:new n,databaseSchema:'{"name":"unknown","collections":[{"name":"DocumentData","key":{"path":"key"},"indices":[{"name":"secretId","path":"secretId","unique":false},{"name":"globalPadId","path":"globalPadId","unique":false},{"name":"version","path":"version","unique":false},{"name":"type","path":"type","unique":false},{"name":"uid","path":"uid","unique":false},{"name":"subId","path":"subSheetId","unique":false},{"name":"chunkId","path":"chunkId","unique":false}],"properties":["key","secretId","globalPadId","version","type","uid","subId","chunkId","taskId","data","docType","docStatus","createTimestamp","lastModifyTimestamp","dataVersion","isDefaultChunk","subGlobalPadId","subDocType"]},{"name":"DocumentEntities","key":{"path":"key"},"indices":[],"properties":["key","data"]},{"name":"NewDocumentIds","key":{"path":"globalPadId"},"indices":[],"properties":["globalPadId","secretId","documentType","localPadId","isCreated"]},{"name":"DocumentStatus","key":{"path":"globalPadId"},"indices":[{"name":"secretId","path":"secretId","unique":false},{"name":"uid","path":"uid","unique":false}],"properties":["globalPadId","secretId","uid","lastSyncTimestamp","lastErrorTimestamp"]},{"name":"OfflineData","key":{"path":"key"},"indices":[{"name":"secretId","path":"secretId","unique":false},{"name":"globalPadId","path":"globalPadId","unique":false},{"name":"version","path":"version","unique":false},{"name":"type","path":"type","unique":false},{"name":"uid","path":"uid","unique":false},{"name":"subId","path":"subSheetId","unique":false},{"name":"chunkId","path":"chunkId","unique":false}],"properties":["key","secretId","globalPadId","version","type","uid","subId","chunkId","taskId","data","docType","docStatus","createTimestamp","lastModifyTimestamp","dataVersion","isDefaultChunk","subGlobalPadId","subDocType"]},{"name":"PadInfo","key":{"path":"key"},"indices":[{"name":"secretId","path":"secretId","unique":false},{"name":"globalPadId","path":"globalPadId","unique":false},{"name":"uid","path":"uid","unique":false}],"properties":["key","secretId","globalPadId","uid","addListTimestamp","attribute","childrenLength","clientVersion","createTimestamp","creator","creatorDomain","icon","docPolicy","docPrivilege","thumbnail","docType","docTypeDesc","url","domainId","dver","folder","folderId","folderPolicy","folderPrivilege","isDeleted","isManualOffline","isMyCreated","isMydoc","isOfflineCache","isRencent","isShareToMe","hasSnapShot","isStar","isAddedToMy","isCollected","isOwner","isPinned","isShortcut","isUserChangeTitle","lastSyncTimestamp","lastBrowseTimestamp","lastCollectTimestamp","lastDeleteTimestamp","lastModifyTimestamp","lastModifyNick","lastModifyUid","lastPinnedTimestamp","listInfoType","listType","offlineCommiting","offlineCommitSuccessd","originFolderId","ownerNick","ownerUid","padId","parentFolderId","parents","privilege","status","title","type","hasLocalChanges"]},{"name":"Users","key":{"path":"key"},"indices":[{"name":"tinyId","path":"tinyId","unique":false},{"name":"nowUserIndex","path":"nowUserIndex","unique":false},{"name":"docId","path":"docId","unique":false},{"name":"pageType","path":"pageType","unique":false}],"properties":["key","tinyId","nowUserIndex","docId","pageType","corpId","corpName","englishName","loginType","openId","uidSource","uin","userId","userName","userPic","updateTime","settings","bindUserInfo","vipUserInfo"]}]}',disableAutoOpen:t.disableAutoOpen,plugins:this.getPlugins(t),supportCompatibleOpen:!0})}return t.prototype.dispose=function(){this.storage.close()},t.prototype.init=function(){return h(this,void 0,void 0,(function(){var t=this;return g(this,(function(e){return[2,new Promise((function(e){var n,r=setTimeout((function(){var n,r;null===(r=null===(n=t.config.logger)||void 0===n?void 0:n.error)||void 0===r||r.call(n,"dababase init timeout."),e(!1)}),null!==(n=t.config.timeout)&&void 0!==n?n:15e3);t.storage.open().then((function(){e(!0),clearTimeout(r)})).catch((function(){e(!1),clearTimeout(r)}))}))]}))}))},t.prototype.getPlugins=function(t){var e,n=[];if(t.logger){var r=new i.Z({logger:t.logger,disabled:!!t.disabled,verbose:!!t.verbose});n.push(r)}return t.monitorReporter&&n.push((e=t.monitorReporter,new a.ZP({onEvent:function(t){e.report("storageActionResultAndCost",{action:t.action,module:t.module,retCode:t.actionExecuteState,cost:t.cost,time:t.time.getTime(),errorMsg:t.errorMsg})}}))),n},t}(),_="TencentDocsBackup",m=(function(t){function e(e){void 0===e&&(e={type:p.indexDB,disableAutoOpen:!0});var n=t.call(this,e)||this;return n.config=e,n}d(e,t)}(y),function(){function t(t){this.collection=t}return t.prototype.getChanges=function(t,e){return h(this,void 0,void 0,(function(){var n;return g(this,(function(r){return n=this.collection.where({uid:t.uid,secretId:t.secretId,subGlobalPadId:t.subGlobalPadId,type:{in:t.types},docType:t.docType,dataVersion:t.dataVersion,subId:{in:t.subId?(new Array).concat(t.subId):void 0},chunkId:{in:t.chunkId?(new Array).concat(t.chunkId):void 0},version:{">=":null===e||void 0===e?void 0:e.startVersion,"<=":null===e||void 0===e?void 0:e.endVersion}}),(null===e||void 0===e?void 0:e.orderPath)&&n.orderBy(e.orderPath,e.sortOrder),(null===e||void 0===e?void 0:e.limit)&&n.take(e.limit),[2,n.values()]}))}))},t.prototype.upsertChanges=function(t){return h(this,void 0,void 0,(function(){return g(this,(function(e){switch(e.label){case 0:return[4,this.collection.bulkUpsert(t)];case 1:return e.sent(),[2]}}))}))},t.prototype.deleteChanges=function(t){return h(this,void 0,void 0,(function(){var e,n,r,i,o,a;return g(this,(function(s){switch(s.label){case 0:return e=t.uid,n=t.secretId,r=t.globalPadId,i=t.types,o=t.taskIds,a=t.subGlobalPadId,[4,this.collection.where({uid:e,secretId:n,globalPadId:r,subGlobalPadId:a,type:{in:i},taskId:{in:o},version:{">":t.startVersion||Number.MIN_SAFE_INTEGER,"<":t.endVersion||Number.MAX_SAFE_INTEGER}}).clear()];case 1:return s.sent(),[2]}}))}))},t}()),w=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}d(e,t)}(m),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),e}(m)),b=(function(){function t(t){this.collection=t}t.prototype.popDocumentId=function(t){return h(this,void 0,void 0,(function(){var e,n,r;return g(this,(function(i){switch(i.label){case 0:return[4,this.collection.where({documentType:t}).first()];case 1:return(e=i.sent())?(n=e.globalPadId,[4,this.collection.delete(n)]):[2,null];case 2:return r=i.sent(),n!==r?[2,null]:[2,e]}}))}))},t.prototype.upsertDocumentIds=function(t){return h(this,void 0,void 0,(function(){return g(this,(function(e){switch(e.label){case 0:return[4,this.collection.bulkUpsert(t)];case 1:return e.sent(),[2]}}))}))},t.prototype.countDocumentIds=function(t){return h(this,void 0,void 0,(function(){return g(this,(function(e){return[2,this.collection.where({documentType:t}).count()]}))}))},t.prototype.deleteDocumentIds=function(){return h(this,void 0,void 0,(function(){return g(this,(function(t){switch(t.label){case 0:return[4,this.collection.clear()];case 1:return t.sent(),[2]}}))}))}}(),function(){function t(t){this.collection=t}t.prototype.getStatus=function(t,e){return h(this,void 0,void 0,(function(){return g(this,(function(n){switch(n.label){case 0:return[4,this.collection.where({secretId:e,uid:t}).first()];case 1:return[2,n.sent()]}}))}))},t.prototype.upsertStatus=function(t){return h(this,void 0,void 0,(function(){return g(this,(function(e){switch(e.label){case 0:return[4,this.collection.upsert(t)];case 1:return e.sent(),[2]}}))}))},t.prototype.deleteStatus=function(t,e){return h(this,void 0,void 0,(function(){return g(this,(function(n){switch(n.label){case 0:return[4,this.collection.where({secretId:e,uid:t}).clear()];case 1:return n.sent(),[2]}}))}))}}(),function(){function t(t){this.collection=t}t.prototype.getEntity=function(t){return h(this,void 0,void 0,(function(){return g(this,(function(e){switch(e.label){case 0:return[4,this.collection.get(t)];case 1:return[2,e.sent()]}}))}))},t.prototype.upsertEntities=function(t){return h(this,void 0,void 0,(function(){return g(this,(function(e){switch(e.label){case 0:return[4,this.collection.bulkUpsert(t)];case 1:return e.sent(),[2]}}))}))},t.prototype.deleteEntity=function(t){return h(this,void 0,void 0,(function(){return g(this,(function(e){switch(e.label){case 0:return[4,this.collection.delete(t)];case 1:return e.sent(),[2]}}))}))}}(),function(){function t(t){this.collection=t}t.prototype.getPadInfo=function(t,e){return h(this,void 0,void 0,(function(){var n;return g(this,(function(r){switch(r.label){case 0:return[4,this.getPadInfos({uid:t,secretId:e})];case 1:return 0===(n=r.sent()).length?[2,null]:[2,n.shift()]}}))}))},t.prototype.getPadInfos=function(t){return h(this,void 0,void 0,(function(){return g(this,(function(e){return[2,this.collection.where({uid:t.uid,secretId:{in:t.secretId?(new Array).concat(t.secretId):void 0}}).values()]}))}))},t.prototype.upsertPadInfo=function(t){return h(this,void 0,void 0,(function(){return g(this,(function(e){switch(e.label){case 0:return[4,this.collection.upsert(t)];case 1:return e.sent(),[2]}}))}))},t.prototype.updateField=function(t,e,n){return h(this,void 0,void 0,(function(){var r;return g(this,(function(i){switch(i.label){case 0:return[4,this.collection.where({uid:t,secretId:e}).first()];case 1:return(r=i.sent())?(Object.assign(r,n),[4,this.collection.upsert(r)]):[2];case 2:return i.sent(),[2]}}))}))},t.prototype.deletePadInfo=function(t,e){return h(this,void 0,void 0,(function(){return g(this,(function(n){switch(n.label){case 0:return[4,this.collection.where({uid:t,secretId:e}).clear()];case 1:return n.sent(),[2]}}))}))}}(),function(){function t(t){this.collection=t}return t.prototype.getUserInfoByUserIndex=function(t){return h(this,void 0,void 0,(function(){var e;return g(this,(function(n){switch(n.label){case 0:return[4,this.collection.where({userIndex:t}).last()];case 1:return(e=n.sent())?[2,e]:[4,this.getUserInfoLastByAll()];case 2:return[2,n.sent()]}}))}))},t.prototype.getUserInfoByDocInfo=function(t,e){return h(this,void 0,void 0,(function(){var n;return g(this,(function(r){switch(r.label){case 0:return[4,this.collection.where({pageType:t,docId:e}).last()];case 1:return(n=r.sent())?[2,n]:[4,this.getUserInfoLastByAll()];case 2:return[2,r.sent()]}}))}))},t.prototype.addUserInfo=function(t){return h(this,void 0,void 0,(function(){var e,n;return g(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),e=new r.ao(t),[4,this.collection.get(e.key)];case 1:return n=i.sent(),this.collection.upsert(new r.ao(l(l({},n),t))),[2,!0];case 2:return i.sent(),[2,!1];case 3:return[2]}}))}))},t.prototype.updateUserInfo=function(t,e){return h(this,void 0,void 0,(function(){var n,i;return g(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,this.collection.where({tinyId:t}).values()];case 1:return(n=o.sent()).length?(i=n.map((function(t){return new r.ao(l(l({},t),e))})),[4,this.collection.bulkUpsert(i)]):[2,!1];case 2:return o.sent(),[2,!0];case 3:return o.sent(),[2,!1];case 4:return[2]}}))}))},t.prototype.getUserInfoLastByAll=function(){return h(this,void 0,void 0,(function(){return g(this,(function(t){switch(t.label){case 0:return[4,this.collection.last()];case 1:return[2,t.sent()]}}))}))},t}())},14552:function(t,e,n){var r={};function i(){return"undefined"!==typeof window}function o(){return"undefined"!==typeof n.g}var a=i()?window:o()?n.g:i||"undefined"===typeof self?(o()&&n.g.describe,r):self;e.Z=a},93512:function(t,e,n){var r;n.d(e,{Q:function(){return r}}),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.QQ=1]="QQ",t[t.WX=2]="WX",t[t.WORK=3]="WORK",t[t.EMAIL=4]="EMAIL",t[t.PHONE=8]="PHONE",t[t.WORK_COMBINATION=9]="WORK_COMBINATION",t[t.TOWER=10]="TOWER",t[t.ROBOT=11]="ROBOT",t[t.QFYF=12]="QFYF",t[t.OPEN=13]="OPEN",t[t.MEETING=14]="MEETING"}(r||(r={}))},93812:function(t,e,n){n.d(e,{L:function(){return i}});var r=n(40443),i=n.n(r)().getInstance()},19780:function(t,e,n){n.d(e,{$W:function(){return r},ej:function(){return s},w$:function(){return c}});var r,i=n(14552),o=n(98623),a="document";function s(t){if(!(0,o.e$)(i.Z,a))return null;var e=new RegExp("(?:^|;+|\\s+)".concat(t,"=([^;]*)")),n=document.cookie.match(e);return(n?n[1]:null)||null}function c(t){return s(t)}!function(t){t.xsrf="TOK",t.devRouteId="dev_route_id",t.devOaName="dev_oa_name",t.fd="fd",t.envId="env_id",t.sid="SID",t.sids="SID_S",t.uid="uid",t.uidKey="uid_key",t.uin="uin",t.loginTime="loginTime",t.hasBeenLogin="has_been_login",t.adtag="adtag",t.plUin="p_luin",t.pUin="p_uin",t.pSkey="p_skey",t.plSkey="p_lskey"}(r||(r={}))},18497:function(t,e,n){n.d(e,{u:function(){return a}});var r=n(25490),i=function(t){return"".concat(String(t),"__locked")},o=function(t){return"".concat(String(t),"__result")};function a(){return function(t,e,n){var a=n.value,s=i(e),c=o(e);n.value=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this[s]||(this[c]=a.call.apply(a,(0,r.__spreadArray)([this],(0,r.__read)(t),!1)),this[s]=!0),this[c]}}}},38516:function(t,e,n){n.r(e),n.d(e,{Emitter:function(){return s}});var r=n(25490),i=n(44892),o=function(){function t(e){this.element=e,this.next=t.Undefined,this.prev=t.Undefined}return t.Undefined=new t(void 0),t}(),a=function(){function t(){this.first=o.Undefined,this.last=o.Undefined,this.mSize=0}return Object.defineProperty(t.prototype,"size",{get:function(){return this.mSize},enumerable:!1,configurable:!0}),t.prototype.isEmpty=function(){return this.first===o.Undefined},t.prototype.clear=function(){this.first=o.Undefined,this.last=o.Undefined,this.mSize=0},t.prototype.unshift=function(t){return this.insert(t,!1)},t.prototype.push=function(t){return this.insert(t,!0)},t.prototype.shift=function(){if(this.first!==o.Undefined){var t=this.first.element;return this.remove(this.first),t}},t.prototype.pop=function(){if(this.last!==o.Undefined){var t=this.last.element;return this.remove(this.last),t}},t.prototype[Symbol.iterator]=function(){var t;return(0,r.__generator)(this,(function(e){switch(e.label){case 0:t=this.first,e.label=1;case 1:return t===o.Undefined?[3,3]:[4,t.element];case 2:return e.sent(),t=t.next,[3,1];case 3:return[2]}}))},t.prototype.insert=function(t,e){var n=this,r=new o(t);if(this.first===o.Undefined)this.first=r,this.last=r;else if(e){var i=this.last;this.last=r,r.prev=i,i.next=r}else{var a=this.first;this.first=r,r.next=a,a.prev=r}this.mSize+=1;var s=!1;return function(){s||(s=!0,n.remove(r))}},t.prototype.remove=function(t){if(t.prev!==o.Undefined&&t.next!==o.Undefined){var e=t.prev;e.next=t.next,t.next.prev=e}else t.prev===o.Undefined&&t.next===o.Undefined?(this.first=o.Undefined,this.last=o.Undefined):t.next===o.Undefined?(this.last=this.last.prev,this.last.next=o.Undefined):t.prev===o.Undefined&&(this.first=this.first.next,this.first.prev=o.Undefined);this.mSize-=1},t}(),s=function(){function t(t){this.disposed=!1,this.options=t}return Object.defineProperty(t.prototype,"event",{get:function(){var t=this;return this.mEvent||(this.mEvent=function(e,n,r){var o,s,c;t.listeners||(t.listeners=new a);var u=t.listeners.isEmpty();u&&(null===(o=t.options)||void 0===o?void 0:o.onFirstListenerAdd)&&t.options.onFirstListenerAdd(t);var d=t.listeners.push(n?[e,n]:e);u&&(null===(s=t.options)||void 0===s?void 0:s.onFirstListenerDidAdd)&&t.options.onFirstListenerDidAdd(t),(null===(c=t.options)||void 0===c?void 0:c.onListenerDidAdd)&&t.options.onListenerDidAdd(t,e,n);var f={dispose:function(){var e;t.disposed||(d(),(null===(e=t.options)||void 0===e?void 0:e.onLastListenerRemove)&&(t.listeners&&!t.listeners.isEmpty()||t.options.onLastListenerRemove(t))),(0,i.markTracked)(f)},disposableId:"event"};return Array.isArray(r)&&r.push(f),(0,i.trackDisposable)(f),f}),this.mEvent},enumerable:!1,configurable:!0}),t.prototype.fire=function(t){var e,n;if(this.listeners){this.deliveryQueue||(this.deliveryQueue=new a);try{for(var i=(0,r.__values)(this.listeners),o=i.next();!o.done;o=i.next()){var s=o.value;this.deliveryQueue.push([s,t])}}catch(d){e={error:d}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}for(;this.deliveryQueue.size>0;){var c=(0,r.__read)(this.deliveryQueue.shift(),2),u=(s=c[0],c[1]);try{"function"===typeof s?s.call(void 0,u):s[0].call(s[1],u)}catch(f){console.error(f)}}}},t.prototype.dispose=function(){this.listeners&&this.listeners.clear(),this.deliveryQueue&&this.deliveryQueue.clear(),this.disposed=!0},t}()},58119:function(t,e,n){n.d(e,{XF:function(){return a},pm:function(){return s}});var r=n(14552),i=n(98623),o="location";function a(){return(0,i.e$)(r.Z,o)?decodeURIComponent(location.host):""}function s(t){if(!(0,i.e$)(r.Z,o))return"";var e=new RegExp("(\\?|&)".concat(t,"=([^&]*)(#|&|$)")),n=((0,i.e$)(r.Z,o)?decodeURIComponent(location.search):"").match(e);return n?decodeURIComponent(n[2]):""}},98623:function(t,e,n){n.d(e,{MO:function(){return a},e$:function(){return i},P1:function(){return o}});var r=n(45146);function i(t,e){return null!==t&&Object.prototype.hasOwnProperty.call(t,e)}function o(t){if(!t||!(0,r.isObject)(t))return t;var e={};return Object.keys(t).forEach((function(n){var r,i=(r=n).length<1?r:(r[0].toLowerCase()+r.substr(1)).replace(/([A-Z])/g,(function(t){return"_".concat(t.toLowerCase())}));if(Object.prototype.hasOwnProperty.call(t,n))if(t[n]instanceof Array){var a=t[n],s=[];a.forEach((function(t){var e=o(t);s.push(e)})),e[i]=s}else t[n]instanceof Object?e[i]=o(t[n]):e[i]=t[n]})),e}function a(t){if(!t||!(0,r.isObject)(t))return t;var e={};return Object.keys(t).forEach((function(n){var r=function(t){for(var e=t.split("_"),n="",r=0;r<e.length;r++){var i=e[r];i.length>0&&(n+=0===r?i:i="".concat(i[0].toUpperCase()).concat(i.substring(1)))}return n}(n);if(Object.prototype.hasOwnProperty.call(t,n))if(t[n]instanceof Array){var i=t[n],o=[];i.forEach((function(t){var e=a(t);o.push(e)})),e[r]=o}else t[n]instanceof Object?e[r]=a(t[n]):e[r]=t[n]})),e}},45146:function(t,e,n){function r(t,e){return Object.prototype.toString.call(e)==="[object ".concat(t,"]")}function i(t){return r("Boolean",t)}function o(t){return r("Number",t)}function a(t){return r("String",t)}function s(t){return r("Function",t)}function c(t){return r("Array",t)}function u(t){return r("Date",t)}function d(t){return r("RegExp",t)}function f(t){return r("Object",t)}function p(t){return r("Error",t)}n.r(e),n.d(e,{isArray:function(){return c},isBoolean:function(){return i},isDate:function(){return u},isError:function(){return p},isFunction:function(){return s},isNumber:function(){return o},isObject:function(){return f},isRegExp:function(){return d},isString:function(){return a},isType:function(){return r}})},45301:function(t,e,n){n.d(e,{At:function(){return s}});var r="#",i="?",o="&";function a(t,e){if(t.includes(i)){var n=t;return Object.keys(e).map((function(t){n=function(t,e,n){var r=t.split(i),a=r[1].split(o),s=!0,c=new Map;a.forEach((function(t){var e=t.split("=");c.set(e[0],e[1])})),a.some((function(t){0===t.indexOf("".concat(e,"="))&&(c.set(e,n),s=!1)})),s&&c.set(e,n);var u=[];return c.forEach((function(t,e){var n="".concat(e,"=").concat(t);u.push(n)})),r[1]=u.join(o),r.join(i)}(n,t,e[t])})),n}var r=Object.keys(e).map((function(t){return"".concat(t,"=").concat(e[t])})).join(o);return"".concat(t,"?").concat(r)}function s(t,e){if(Object.keys(e).length<1)return t;if(t.includes(r)){var n=t.split(r);return n[0]=a(n[0],e),n.join(r)}return a(t,e)}},40178:function(t,e,n){n.d(e,{Yd:function(){return S}}),n(11425),n(46396),n(53248),n(38934),n(13857),n(54371),n(95019),n(19553),n(71091),n(81144),n(15770),n(8195),n(30980),n(16640),n(37108),n(28255),n(50104),n(25111),n(39585),n(77575),n(76880),n(11502),n(96434),n(3377),n(71318),n(21530),n(84919),n(52865),n(20670),n(62883),n(75793),n(20594),n(90926),n(77468),n(31688),n(90109),n(93984),n(48845),n(25594),n(64425),n(41031);var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)};function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)};function a(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function s(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function c(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}var u=new Map;function d(t){return function(e){e.prototype.appenderOptions=t,u.set(t.name,{provide:e})}}var f=new Map,p=function(){function t(){}return t.get=function(t,e){var n=t;return f.has(t)||(n="basic",console.warn("".concat(t," layout doesn't exists"))),new(f.get(n).provide)(null!==e&&void 0!==e?e:{})},t}(),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.write=function(t){var e=t.level;return e.isGreaterThanOrEqualTo("ERROR")?console.error.apply(console,c([],s(this.layout(t)),!1)):e.isEqualTo("WARN")?console.warn.apply(console,c([],s(this.layout(t)),!1)):e.isEqualTo("INFO")?console.info.apply(console,c([],s(this.layout(t)),!1)):console.log.apply(console,c([],s(this.layout(t)),!1))},e=a([d({name:"console"})],e)}(function(){function t(){this.config={},this.appenderOptions={name:""},this.configure({})}return t.prototype.configure=function(t){var e;Object.assign(this.config,t),t.layout?this.useLayout=p.get(t.layout.type,t.layout):this.useLayout=p.get(null!==(e=this.appenderOptions.defaultLayout)&&void 0!==e?e:"basic")},t.prototype.layout=function(t){return this.useLayout.transform(t)},t}());function h(t){return function(e){f.set(t.name,{provide:e})}}var g=function(t){var e=/(%?)(%([jds]))/g,n=Array.prototype.slice.call(arguments,1);return n.length&&(t=t.replace(e,(function(t,e,r,i){var o=n.shift();switch(i){case"s":o=""+o;break;case"d":o=Number(o);break;case"j":o=JSON.stringify(o)}return e?(n.unshift(o),t):o}))),n.length&&(t+=" "+n.join(" ")),""+(t=t.replace(/%{2,2}/g,"%"))};function v(t,e){void 0===e&&(e="yyyy-MM-ddThh:mm:ss.SSS");var n="".concat(t.getDate()).padStart(2,"0"),r="".concat(t.getMonth()+1).padStart(2,"0"),i="".concat(t.getFullYear()).padStart(2,"0"),o="".concat(i).substring(2,4),a=e.indexOf("yyyy")>-1?i:o,s="".concat(t.getHours()).padStart(2,"0"),c="".concat(t.getMinutes()).padStart(2,"0"),u="".concat(t.getSeconds()).padStart(2,"0"),d="".concat(t.getMilliseconds()).padStart(3,"0"),f=function(t){var e=Math.abs(t),n=String(Math.floor(e/60)),r=String(e%60);return 1===n.length&&(n="0".concat(n)),1===r.length&&(r="0".concat(r)),t<0?"+".concat(n).concat(r):"-".concat(n).concat(r)}(t.getTimezoneOffset());return e.replace(/dd/g,n).replace(/MM/g,r).replace(/y{1,4}/g,a).replace(/hh/g,s).replace(/mm/g,c).replace(/ss/g,u).replace(/SSS/g,d).replace(/O/g,f)}var y,_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.transform=function(t){var e=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=t;return Array.isArray(r)||(r=c([r],s(e),!1)),g.apply(void 0,c([],s(r),!1))}("[%s] [%s] [%s] - ",v(t.startTime),t.formatedLevel,t.categoryName);return"string"===typeof t.data?[e+t.data]:[e,t.data]},e=a([h({name:"basic"})],e)}((function(){})),m=function(){function t(t,e,n,r){this._categoryName=t,this._level=e,this._data=n,this._context=r,this._startTime=new Date}return Object.defineProperty(t.prototype,"startTime",{get:function(){return this._startTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"categoryName",{get:function(){return this._categoryName},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return this._level},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"formatedLevel",{get:function(){return this.level.toString().padEnd(5," ")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data.length>1?this._data:this._data[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._context},enumerable:!1,configurable:!0}),t}(),w=function(){function t(t,e){this.level=t,this.levelStr=e,this.level=t,this.levelStr=e}return t.getLevel=function(e,n){return e instanceof t?e:"string"===typeof e?y[e.toUpperCase()]||n:this.getLevel(e.toString())},t.prototype.toString=function(){return this.levelStr},t.prototype.isLessThanOrEqualTo=function(e){return this.level<=t.getLevel(e).level},t.prototype.isGreaterThanOrEqualTo=function(e){return this.level>=t.getLevel(e).level},t.prototype.isEqualTo=function(e){return this.level===t.getLevel(e).level},t}();function b(){return y}y={ALL:new w(Number.MIN_VALUE,"ALL"),TRACE:new w(5e3,"TRACE"),DEBUG:new w(1e4,"DEBUG"),INFO:new w(2e4,"INFO"),WARN:new w(3e4,"WARN"),ERROR:new w(4e4,"ERROR"),FATAL:new w(5e4,"FATAL"),MARK:new w(9007199254740992,"MARK"),OFF:new w(Number.MAX_VALUE,"OFF")};var I=function(){function t(){this.appenders=new Map,this.levels=new Map}return Object.defineProperty(t.prototype,"size",{get:function(){return this.appenders.size},enumerable:!1,configurable:!0}),t.prototype.has=function(t){return this.appenders.has(t)},t.prototype.get=function(t){return this.appenders.get(t)},t.prototype.set=function(t,e){if(!u.has(t)){var n=new Error("Appender ".concat(t," doesn't exists. Check your configuration:\n").concat(JSON.stringify(e),"\n"));throw n.name="UNKNOW_APPENDER",n}var r=new(0,u.get(t).provide)(e);return this.appenders.set(t,{instance:r,config:e}),this.levels.clear(),this},t.prototype.delete=function(t){var e=this.appenders.delete(t);return e&&this.levels.clear(),e},t.prototype.clear=function(){this.appenders.clear(),this.levels.clear()},t.prototype.forEach=function(t,e){this.appenders.forEach(t,e)},t.prototype.byLogLevel=function(t){var e=t.toString();if(this.levels.has(e))return this.levels.get(e);var n=this.toArray().filter((function(e){return!e.config.levels||e.config.levels.find((function(e){return e.toUpperCase()===t.toString()}))})).map((function(t){return t.instance}));return this.levels.set(t.toString(),n),n},t.prototype.toArray=function(){var t=[];return this.appenders.forEach((function(e){return t.push(e)})),t},t}(),E="ALL",S=function(){function t(t){this.name=t,this.appenders=new I}return t.createStack=function(){var t,e=(null!==(t=(new Error).stack)&&void 0!==t?t:"").replace("Error\n","").split("\n");return e[0].indexOf("Logger.")>-1&&e.splice(0,1),e[0].indexOf("Logger.")>-1&&e.splice(0,1),e.join("\n")},Object.defineProperty(t.prototype,"level",{get:function(){return this.currentLevel?this.currentLevel.toString():w.getLevel(E).toString()},set:function(t){this.currentLevel=w.getLevel(t,E)},enumerable:!1,configurable:!0}),t.prototype.use=function(t,e){return this.appenders.set(t,o({layout:{type:"basic"},levels:["trace","debug","info","warn","error","fatal"]},e)),this},t.prototype.isLevelEnabled=function(t){return this.currentLevel?this.currentLevel.isLessThanOrEqualTo(t):w.getLevel(E).isLessThanOrEqualTo(t)},t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.write(b().DEBUG,t)},t.prototype.trace=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r="\n".concat(t.createStack(),"\n");return e.push(r),this.write(b().TRACE,e)},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.write(b().INFO,t)},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.write(b().WARN,t)},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.write(b().ERROR,t)},t.prototype.fatal=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.write(b().FATAL,t)},t.prototype.write=function(t,e){if(!this.isLevelEnabled(t))return this;var n=new m(this.name,t,e,this.context);return this.appenders.byLogLevel(t).forEach((function(t){t.write(n)})),this},t}();d({name:"console"})(l),h({name:"basic"})(_)}}]),window.jsExecEndTimeStamp=Date.now(),window.cachedPerformanceEntries||(window.cachedPerformanceEntries=[]),window.cachedPerformanceEntries.push({name:"jsExec: js/initial_vendors_tencent_ark.729735589a7566450764.js",entryType:"jsExec",startTime:window.jsExecStartTimeStamp,endTime:window.jsExecEndTimeStamp});
//# sourceMappingURL=initial_vendors_tencent_ark.729735589a7566450764.js.map